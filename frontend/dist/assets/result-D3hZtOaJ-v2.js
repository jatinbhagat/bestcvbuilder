import"./supabase-DQ_B3N6C-v2.js";import"./atsAnalysis-CFcDtclU-v2.js";console.log("üöÄ PROFESSIONAL SUMMARY DEBUG VERSION LOADED");console.log("üöÄ This version has comprehensive debugging for Professional Summary scoring");const k=document.getElementById("atsScore"),w=document.getElementById("scoreCircle"),O=document.getElementById("markedAsDone"),x=document.getElementById("topFixesList"),I=document.getElementById("completedList"),S=document.getElementById("issuesList"),N=document.getElementById("strengthsList"),$=document.getElementById("strengthsSection"),T=document.getElementById("upgradeBtn");let f=null,C=[],b=null,M=null;async function G(){var t;console.log("üöÄ DEBUG: Starting result.js initialization...");try{console.log("üîç DEBUG: Step 1 - Loading analysis data from session storage...");const e=sessionStorage.getItem("atsAnalysis");if(!e){console.error("‚ùå DEBUG: No analysis data found in session storage"),console.log("üîç DEBUG: Available session storage keys:",Object.keys(sessionStorage)),window.location.href="./index.html";return}console.log("‚úÖ DEBUG: Step 1 Complete - Found stored data, length:",e.length),console.log("üîç DEBUG: Step 2 - Parsing JSON data..."),f=JSON.parse(e),console.log("‚úÖ DEBUG: Step 2 Complete - Analysis data loaded:",{hasScore:!!f.score,score:f.score,hasContent:!!f.content,contentLength:((t=f.content)==null?void 0:t.length)||0,keys:Object.keys(f)}),console.log("üîç DEBUG: Step 3 - Loading config files..."),await j(),console.log("‚úÖ DEBUG: Step 3 Complete - Config files loaded"),console.log("üîç DEBUG: Step 4 - Displaying overall score..."),me(f),console.log("‚úÖ DEBUG: Step 4 Complete - Overall score displayed"),console.log("üîç DEBUG: Step 5 - Displaying sidebar categories...");const o=pe(f);console.log("‚úÖ DEBUG: Step 5 Complete - Sidebar categories displayed"),console.log("üîç DEBUG: Step 6 - Displaying main issues list..."),$e(f,o),console.log("‚úÖ DEBUG: Step 6 Complete - Main issues list displayed"),console.log("üîç DEBUG: Step 7 - Displaying strengths..."),He(f),console.log("‚úÖ DEBUG: Step 7 Complete - Strengths displayed"),console.log("üîç DEBUG: Step 8 - Setting up event handlers..."),st(),console.log("‚úÖ DEBUG: Step 8 Complete - Event handlers setup"),console.log("üéâ DEBUG: All initialization steps completed successfully!")}catch(e){console.error("‚ùå DEBUG: Error in initialization step:",e),console.error("‚ùå DEBUG: Full error details:",{message:e.message,stack:e.stack,name:e.name}),H()}}function H(){if(console.log("Displaying fallback results..."),f&&k&&(k.textContent=Math.round(f.score||75),w)){const t=f.score||75;t>=80?w.style.borderColor="#10b981":t>=60?w.style.borderColor="#f59e0b":w.style.borderColor="#ef4444"}S&&(S.innerHTML=`
            <div class="bg-blue-50 border border-blue-200 rounded-xl p-6 text-center">
                <h3 class="text-xl font-bold text-blue-900 mb-2">Analysis Complete!</h3>
                <p class="text-blue-700">Your resume has been analyzed. Click the button below to get your optimized version.</p>
            </div>
        `)}async function j(){console.log("üîß DEBUG: Starting config file loading...");try{console.log("üîß DEBUG: Config Step 1 - Loading skills-buzzwords.json...");const t=await fetch("./config/skills-buzzwords.json");console.log("üîß DEBUG: Skills response status:",t.status,t.statusText),t.ok?(b=await t.json(),console.log("‚úÖ DEBUG: Skills-buzzwords config loaded successfully:",{hasConfig:!!b,keys:b?Object.keys(b):[]})):console.warn("‚ö†Ô∏è DEBUG: Failed to load skills-buzzwords.json - Status:",t.status),console.log("üîß DEBUG: Config Step 2 - Loading action-verbs.json...");const e=await fetch("./config/action-verbs.json");console.log("üîß DEBUG: Verbs response status:",e.status,e.statusText),e.ok?(M=await e.json(),window.actionVerbsConfig=M,console.log("‚úÖ DEBUG: Action-verbs config loaded successfully:",{hasConfig:!!M,keys:M?Object.keys(M):[]})):console.warn("‚ö†Ô∏è DEBUG: Failed to load action-verbs.json - Status:",e.status),console.log("üîß DEBUG: Config loading completed")}catch(t){console.error("‚ùå DEBUG: Error loading config files:",{message:t.message,stack:t.stack,name:t.name})}}function F(t){var n,i;console.log("üèóÔ∏è DEBUG: Starting generateAll23Categories with data:",{hasData:!!t,hasContent:!!(t!=null&&t.content),hasText:!!(t!=null&&t.text),contentLength:((n=t==null?void 0:t.content)==null?void 0:n.length)||0,textLength:((i=t==null?void 0:t.text)==null?void 0:i.length)||0});const e=t.content||t.text||"";console.log("üèóÔ∏è DEBUG: Resume text extracted, length:",e.length),e||console.warn("‚ö†Ô∏è DEBUG: No resume text found, using fallback");const o=[];console.log("üèóÔ∏è DEBUG: Starting category generation..."),o.push({name:"Contact Information",score:he(e),issue:"Complete contact details with phone, email, LinkedIn",impact:"SECTIONS"}),o.push({name:"Professional Summary",score:Be(e),issue:"Add compelling professional summary section",impact:"SECTIONS"}),o.push({name:"Work Experience",score:_(e),issue:"Improve work experience descriptions",impact:"SECTIONS"}),o.push({name:"Education Section",score:Ae(e),issue:"Complete education details",impact:"SECTIONS"}),o.push({name:"Skills Section",score:K(e),issue:"Add relevant technical skills",impact:"KEYWORDS"}),o.push({name:"Keywords Optimization",score:q(e),issue:"Include industry-specific keywords",impact:"KEYWORDS"}),o.push({name:"Action Verbs",score:X(e),issue:"Use strong action verbs",impact:"LANGUAGE"}),o.push({name:"Quantifiable Achievements",score:Y(e),issue:"Add measurable accomplishments",impact:"IMPACT"}),o.push({name:"Grammar & Spelling",score:xe(e),issue:"Fix grammar and spelling errors",impact:"QUALITY"}),o.push({name:"Formatting & Layout",score:ne(e),issue:"Improve document formatting",impact:"FORMAT"}),o.push({name:"Resume Length",score:ie(e),issue:"Optimize resume length",impact:"FORMAT"}),o.push({name:"Section Headers",score:ae(e),issue:"Use clear section headers",impact:"STRUCTURE"}),o.push({name:"Use of Bullets",score:te(e),issue:"Use bullet points instead of paragraphs",impact:"READABILITY"}),o.push({name:"Job Titles",score:re(e),issue:"Clear and consistent job titles",impact:"STRUCTURE"}),o.push({name:"Company Names",score:le(e),issue:"Include recognizable company names",impact:"CREDIBILITY"}),o.push({name:"Dates & Duration",score:D(e),issue:"Consistent date formatting",impact:"FORMAT"}),o.push({name:"Certifications",score:ce(e),issue:"Add relevant certifications",impact:"CREDENTIALS"}),o.push({name:"Industry Buzzwords",score:de(e),issue:"Include industry-specific terms",impact:"RELEVANCE"}),o.push({name:"ATS Compatibility",score:ge(e),issue:"Improve ATS readability",impact:"TECHNICAL"}),o.push({name:"White Space & Design",score:ue(e),issue:"Optimize visual layout",impact:"READABILITY"});try{console.log("üèóÔ∏è DEBUG: Analyzing Personal Pronouns...");const s=se(e);console.log("üèóÔ∏è DEBUG: Personal Pronouns score:",s),o.push({name:"Personal Pronouns",score:s,issue:"Remove personal pronouns (I, me, we)",impact:"LANGUAGE"})}catch(s){console.error("‚ùå DEBUG: Error in Personal Pronouns analysis:",s),o.push({name:"Personal Pronouns",score:5,issue:"Remove personal pronouns (I, me, we)",impact:"LANGUAGE"})}try{console.log("üèóÔ∏è DEBUG: Analyzing Dates...");const s=D(e);console.log("üèóÔ∏è DEBUG: Dates score:",s),o.push({name:"Dates Format & Chronology",score:s,issue:"Consistent date formats and reverse chronological order",impact:"STRUCTURE"})}catch(s){console.error("‚ùå DEBUG: Error in Dates analysis:",s),o.push({name:"Dates Format & Chronology",score:5,issue:"Consistent date formats and reverse chronological order",impact:"STRUCTURE"})}try{console.log("üèóÔ∏è DEBUG: Analyzing Repetition...");const s=Fe(e);console.log("üèóÔ∏è DEBUG: Repetition score:",s),o.push({name:"Action Verb Repetition",score:s,issue:"Avoid repeating the same action verbs",impact:"LANGUAGE"})}catch(s){console.error("‚ùå DEBUG: Error in Repetition analysis:",s),o.push({name:"Action Verb Repetition",score:5,issue:"Avoid repeating the same action verbs",impact:"LANGUAGE"})}return console.log("üèóÔ∏è DEBUG: Category generation completed, returning",o.length,"categories"),console.log("üèóÔ∏è DEBUG: Final categories:",o.map(s=>({name:s.name,score:s.score}))),o}function _(t){const e=/experience|work|job|position|role/i.test(t),o=/achieved|accomplished|increased|improved|led|managed/i.test(t);return e&&o?8:e?6:3}function K(t){return/skills|technical|technologies|tools/i.test(t)?8:4}function q(t){const e=t.split(" ").length;return e>200?7:e>100?5:3}function X(t){let e=10;const o=["STRONG_ACCOMPLISHMENT_DRIVEN_VERBS","ENTREPRENEURIAL_SKILLS","MANAGEMENT_SKILLS","LEADERSHIP_MENTORSHIP_AND_TEACHING_SKILLS","PROBLEM_SOLVING_SKILLS","COMMUNICATION_SKILLS","RESEARCH_AND_ANALYSIS_SKILLS","PROCESS_IMPROVEMENT_CONSULTING_AND_OPERATIONS","FINANCIAL_SKILLS","DESIGN_AND_CREATIVE_SKILLS","ENGINEERING_TECHNICAL_ROLES","TEAMWORK_COLLABORATION_SKILLS"],n=Re(t);if(n.length===0)return 3;let i={},s=[];console.log("üîç ACTION VERBS: Starting categorization..."),console.log("üîç ACTION VERBS: ActionVerbs module available:",!!(window.ActionVerbs&&window.ActionVerbs.getVerbsForCategory)),console.log("üîç ACTION VERBS: actionVerbsConfig available:",!!window.actionVerbsConfig),console.log("üîç ACTION VERBS: actionVerbsConfig content check:",window.actionVerbsConfig?Object.keys(window.actionVerbsConfig).slice(0,3):"null"),window.ActionVerbs&&window.ActionVerbs.getVerbsForCategory?(console.log("üîç ACTION VERBS: Using ActionVerbs module"),i=Ie(n,o),s=window.ActionVerbs.getVerbsForCategory("WEAK_VERBS")):window.actionVerbsConfig?(console.log("üîç ACTION VERBS: Using actionVerbsConfig from JSON file"),i=ke(n,o),s=window.actionVerbsConfig.WEAK_VERBS||[]):(console.log("üîç ACTION VERBS: No ActionVerbs module or config available, using basic fallback"),i=Te(n),s=["responsible","involved","participated","helped","assisted"]);const a=Object.keys(i).length;if(console.log("üîç ACTION VERBS: Categories used:",a),console.log("üîç ACTION VERBS: Categorized verbs:",i),a<5){const u=e;a===4?e-=1:a===3?e-=2:a===2?e-=3:a===1?e-=4:e-=5,console.log("üîç ACTION VERBS: Category diversity penalty applied. Score changed from",u,"to",e)}else console.log("üîç ACTION VERBS: No category diversity penalty (used",a,"categories)");let l=0,r=0;for(const u of n)if(s.some(d=>u.toLowerCase().includes(d.toLowerCase())||d.toLowerCase().includes(u.toLowerCase())))l++;else{let d=!1;window.ActionVerbs&&window.ActionVerbs.getVerbsForCategory?d=o.some(g=>window.ActionVerbs.getVerbsForCategory(g).some(m=>m.toLowerCase()===u.toLowerCase()||m.toLowerCase().includes(u.toLowerCase()))):window.actionVerbsConfig?d=o.some(g=>(window.actionVerbsConfig[g]||[]).some(m=>m.toLowerCase()===u.toLowerCase()||m.toLowerCase().includes(u.toLowerCase()))):d=["managed","led","supervised","coordinated","directed","guided","oversaw","spearheaded","championed","mentored","coached","launched","pioneered","initiated","founded","established","created","built","developed","engineered","programmed","designed","implemented","achieved","delivered","executed","accomplished","completed","optimized","streamlined","improved","enhanced","revamped","budgeted","forecasted","analyzed","calculated","scaled","boosted","drove","conceived","orchestrated","conceptualized","record","design","increase","boost","program","develop","scale","build","engineer","generated","facilitated","organized","produced","supported","collaborated","negotiated","presented","resolved","transformed","upgraded","maintained","monitored","recruited","evaluated","assessed","identified","researched","tested","reviewed","processed","handled"].includes(u.toLowerCase()),d||r++}const c=l+r;console.log("üîç ACTION VERBS: Weak verb count:",l),console.log("üîç ACTION VERBS: Unknown verb count:",r),console.log("üîç ACTION VERBS: Total penalty:",c),console.log("üîç ACTION VERBS: Score before penalty:",e),e-=c,console.log("üîç ACTION VERBS: Score after penalty:",e);const p=Math.max(Math.min(e,10),0);return console.log("üîç ACTION VERBS: Final score (clamped 0-10):",p),p}function Y(t){console.log("üîç QUANTIFIABLE ACHIEVEMENTS: Starting analysis...");const e=V(t);if(console.log("üîç QUANTIFIABLE ACHIEVEMENTS: Experience section found:",!!e),console.log("üîç QUANTIFIABLE ACHIEVEMENTS: Experience section length:",e?e.length:0),!e)return console.log("üîç QUANTIFIABLE ACHIEVEMENTS: No experience section found, returning score 1"),1;const o=W(e);if(console.log("üîç QUANTIFIABLE ACHIEVEMENTS: Total points extracted:",o.length),console.log("üîç QUANTIFIABLE ACHIEVEMENTS: All points:",o),o.length===0)return console.log("üîç QUANTIFIABLE ACHIEVEMENTS: No points found in experience section, returning score 1"),1;const n=o.filter(a=>ee(a));console.log("üîç QUANTIFIABLE ACHIEVEMENTS: Quantified points found:",n.length),console.log("üîç QUANTIFIABLE ACHIEVEMENTS: Quantified points:",n);const i=n.length/o.length*100;console.log("üîç QUANTIFIABLE ACHIEVEMENTS: Percentage of quantified points:",i.toFixed(1)+"%");let s;return i>90?s=10:i>80?s=9:i>70?s=8:i>60?s=7:i>50?s=6:i>40?s=5:i>30?s=4:i>20?s=3:i>10?s=2:s=1,console.log("üîç QUANTIFIABLE ACHIEVEMENTS: Final score:",s),s}function V(t){console.log("üîç EXPERIENCE EXTRACTION: Starting experience section extraction...");const e=t.toLowerCase(),o=["professional experience","work experience","employment history","career history","work history","experience"],n=["education","academic background","qualifications","skills","technical skills","core skills","key skills","projects","personal projects","key projects","certifications","certificates","licenses","awards","achievements","honors","references","contact","additional information"];let i=-1;for(let a of o){const l=new RegExp("(^|\\n)\\s*"+a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")+"\\s*($|\\n)","i"),r=e.match(l);if(r){i=r.index+(r[1]?r[1].length:0),console.log("üîç EXPERIENCE EXTRACTION: Found experience header:",a,"at position:",i);break}}if(i===-1){const a=["developer","manager","analyst","engineer","coordinator","specialist","consultant","director","associate"];for(let l of a){const r=e.indexOf(l);if(r!==-1){i=Math.max(0,r-50);break}}}if(i===-1)return null;let s=t.length;for(let a of n){const l=e.indexOf(a,i);l!==-1&&l>i&&(s=Math.min(s,l))}return t.substring(i,s)}function W(t){console.log("üîç EXPERIENCE POINTS: Starting point extraction..."),console.log("üîç EXPERIENCE POINTS: Input text length:",t.length);const e=t.split(`
`);console.log("üîç EXPERIENCE POINTS: Total lines to process:",e.length);const o=[];let n="";for(let i=0;i<e.length;i++){let s=e[i].trim();if(!s){n.trim()&&(o.push(n.trim()),n="");continue}if(console.log(`üîç EXPERIENCE POINTS: Processing line ${i}: "${s}"`),Q(s)){console.log(`üîç EXPERIENCE POINTS: Skipping job title/company: "${s}"`);continue}Z(s)||J(s)?(n.trim()&&(o.push(n.trim()),console.log(`üîç EXPERIENCE POINTS: Saved previous point: "${n.trim()}"`)),n=s,console.log(`üîç EXPERIENCE POINTS: Started new point: "${s}"`)):n?(n+=" "+s,console.log(`üîç EXPERIENCE POINTS: Extended current point: "${s}"`)):(o.push(s),console.log(`üîç EXPERIENCE POINTS: Added standalone point: "${s}"`))}return n.trim()&&(o.push(n.trim()),console.log(`üîç EXPERIENCE POINTS: Saved final point: "${n.trim()}"`)),console.log("üîç EXPERIENCE POINTS: Final extracted points:",o.length),console.log("üîç EXPERIENCE POINTS: Points preview:",o.slice(0,3)),o}function Q(t){return[/^[A-Z][a-z\s]+(?:Developer|Manager|Analyst|Engineer|Coordinator|Specialist|Consultant|Director|Associate)$/i,/\b(Inc\.|Corp\.|Ltd\.|LLC|Company|Corporation)\b/i,/^\d{4}\s*[-‚Äì]\s*\d{4}|\d{4}\s*[-‚Äì]\s*Present/i,/^(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)/i].some(o=>o.test(t))}function Z(t){return/^[\s]*[‚Ä¢¬∑\*\-\+]\s/.test(t)}function J(t){if(t.length<20)return!1;const o=["developed","managed","led","created","implemented","designed","coordinated","analyzed","improved","optimized"].some(i=>t.toLowerCase().includes(i)),n=/[a-z].*[.!?]?$/i.test(t)&&t.split(" ").length>=4;return o||n}function ee(t){return[/\d+%/,/[\$‚Çπ]\s*\d+/,/\d+\s*(million|thousand|lakhs?|crores?|k|m)\b/i,/\d+\s*(years?|months?|weeks?|days?)\b/i,/\d+\s*(people|members?|employees?|users?|customers?)\b/i,/\d+\s*(projects?|tasks?|features?|products?)\b/i,/\d+\s*(clients?|accounts?|companies?)\b/i,/\d+x\b|\bx\d+/i,/\d+\+/,/\b\d{1,3}(,\d{3})*\b/].some(o=>o.test(t))}function te(t){console.log("üîç USE OF BULLETS: Starting analysis...");const e=t.split(`
`).map(r=>r.trim()).filter(r=>r.length>0);console.log("üîç USE OF BULLETS: Total lines found:",e.length);let o=0,n=0,i=0,s=!1;for(let r=0;r<e.length;r++){const c=e[r];if(oe(c)){const u=c.toLowerCase();s=u.includes("experience")||u.includes("work")||u.includes("employment"),console.log(`üîç USE OF BULLETS: Header detected: "${c}" -> inExperience: ${s}`);continue}if(c.length<20||/^\d+\/\d+|@|‚Ä¢\s*\w+,\s*\w+/.test(c))continue;i++;const p=/^[\s]*[‚Ä¢¬∑\*\-\+\>]\s/.test(c)||/^\s*\d+[\.\)]\s/.test(c)||/^[\s]*[\u2022\u2023\u25E6\u2043\u2219]\s/.test(c)||c.startsWith("‚Ä¢")||c.startsWith("- ")||c.startsWith("* ");console.log(`üîç USE OF BULLETS: Line ${r} (${s?"EXP":"OTHER"}): "${c.substring(0,50)}..." -> bullet: ${p}`),p?o++:s&&c.length>50&&(n++,console.log(`üîç USE OF BULLETS: Paragraph block detected in experience: "${c.substring(0,50)}..."`))}console.log("üîç USE OF BULLETS: Analysis summary:"),console.log("üîç USE OF BULLETS: - Total content lines:",i),console.log("üîç USE OF BULLETS: - Bullet points found:",o),console.log("üîç USE OF BULLETS: - Paragraph blocks in experience:",n);let a=0;if(i===0)a=5;else{const r=o/Math.max(i,1);r>.7?a=10:r>.5?a=8:r>.3?a=6:r>.1?a=4:a=2,a-=Math.min(n,5)}const l=Math.max(a,0);return console.log("üîç USE OF BULLETS: Final score calculation:"),console.log("üîç USE OF BULLETS: - Bullet ratio:",(o/Math.max(i,1)*100).toFixed(1)+"%"),console.log("üîç USE OF BULLETS: - Base score from ratio:",a+Math.min(n,5)),console.log("üîç USE OF BULLETS: - Paragraph penalty:",Math.min(n,5)),console.log("üîç USE OF BULLETS: - Final score:",l),l}function oe(t){const e=t.trim();if(e.length<10)return!0;const o=["experience","education","skills","summary","objective","projects","certifications","awards","achievements","contact","work history","employment","qualifications","professional summary","technical skills","core competencies","professional experience"],n=e.toLowerCase();if(o.some(s=>n===s||n.includes(s)&&e.length<50)||e===e.toUpperCase()&&e.length<30||/^[A-Z][a-z\s]+@\s+[A-Z]/.test(e)||/^\w+\s*@\s*\w+/.test(e)||/^\d{2}\/\d{4}/.test(e)||/^\w+\s*-\s*\w+/.test(e)&&e.length<50)return!0;const i=e.split(" ");return!!(i.length<=4&&i.every(s=>/^[A-Z][a-z]*$/.test(s)))}function ne(t){return t.includes(`
`)&&t.length>100?9:5}function se(t){let e=10;const o=["\\bi\\b","\\bme\\b","\\bwe\\b","\\bmy\\b","\\bour\\b","\\bus\\b"];let n=0;return o.forEach(i=>{const s=new RegExp(i,"gi"),a=t.match(s)||[];n+=a.length}),e-=n,Math.max(e,0)}function ie(t){const e=t.split(" ").filter(r=>r.trim().length>0).length,o=(t.match(/[‚Ä¢¬∑\*\-]\s+|^\s*\d+\.\s+/gm)||[]).length,n=[420,875],i=[12,32];let s=0;if(e>=n[0]&&e<=n[1])s=5;else if(e>0){const r=e<n[0]?n[0]-e:e-n[1],c=Math.min(r/100,5);s=Math.max(0,5-c)}let a=0;if(o>=i[0]&&o<=i[1])a=5;else if(o>0){const r=o<i[0]?i[0]-o:o-i[1],c=Math.min(r/5,5);a=Math.max(0,5-c)}const l=Math.round(s+a);return Math.max(0,Math.min(10,l))}function ae(t){const o=["experience","education","skills","summary"].filter(n=>t.toLowerCase().includes(n));return Math.min(o.length*2.5,10)}function re(t){return["developer","manager","analyst","engineer","coordinator","specialist"].filter(n=>t.toLowerCase().includes(n)).length>0?8:5}function le(t){return/inc\.|corp\.|ltd\.|llc|company|corporation/i.test(t)?9:6}function ce(t){return["certified","certification","license","credential"].filter(n=>t.toLowerCase().includes(n)).length>0?8:5}function de(t){if(!b)return 5;const e=[];b.buzzwords&&Object.values(b.buzzwords).forEach(n=>{e.push(...n)});const o=e.filter(n=>t.toLowerCase().includes(n.toLowerCase()));return Math.min(o.length,10)}function ge(t){return t.length>200&&/\n/.test(t)?8:5}function ue(t){return t.includes(`

`)||t.includes(`
`)?9:6}function me(t){if(!k)return;const o=F(t).reduce((s,a)=>s+a.score,0),n=Math.round(o/230*100);let i=n;console.log(`Calculated overall score from 23 categories: ${n} (sum: ${o}/230)`),console.log(`Using ATS score: ${i}`),k.textContent=Math.round(i),w&&(i>=80?w.style.borderColor="#10b981":i>=60?w.style.borderColor="#f59e0b":w.style.borderColor="#ef4444")}function pe(t){if(console.log("üìä DEBUG: Starting displaySidebarCategories..."),!x||!I){console.error("‚ùå DEBUG: Missing DOM elements - topFixesList:",!!x,"completedList:",!!I);return}console.log("üìä DEBUG: DOM elements found, proceeding with data:",{hasData:!!t,dataKeys:t?Object.keys(t):[]}),x.innerHTML="",I.innerHTML="",console.log("üìä DEBUG: Cleared existing content"),console.log("üìä DEBUG: Calling generateAll23Categories...");const e=F(t);console.log("üìä DEBUG: Generated categories:",{count:e.length,categories:e.map(s=>({name:s.name,score:s.score}))});const o=e.filter(s=>s.score<6),n=e.filter(s=>s.score>=6&&s.score<9),i=e.filter(s=>s.score>=9);return console.log("üìä DEBUG: Categories divided:",{topFixes:o.length,needFixes:n.length,completed:i.length}),console.log("üîç High Priority (<6):",o.length,o),console.log("üîç Need Fixes (6-8):",n.length,n),console.log("üîç Completed (9-10):",i.length,i),console.log("üîç Total categories:",e.length),o.forEach(s=>{const a=document.createElement("div");a.className="sidebar-item",a.innerHTML=`
            <span class="text-sm text-gray-700">${s.name}</span>
            <span class="text-sm font-bold text-red-600">${s.score}/10</span>
        `,x.appendChild(a),C.push({title:s.name,description:s.issue,score:s.score,category:"High Priority",severity:"high",impact:s.impact})}),n.forEach(s=>{const a=document.createElement("div");a.className="sidebar-item",a.innerHTML=`
            <span class="text-sm text-gray-700">${s.name}</span>
            <span class="text-sm font-bold text-orange-600">${s.score}/10</span>
        `,x.appendChild(a),C.push({title:s.name,description:s.issue,score:s.score,category:"Need Fixes",severity:"medium",impact:s.impact})}),i.forEach(s=>{const a=document.createElement("div");a.className="sidebar-item",a.innerHTML=`
            <span class="text-sm text-gray-700">${s.name}</span>
            <span class="text-sm font-bold text-green-600">${s.score}/10</span>
        `,I.appendChild(a)}),O&&(O.textContent=`${i.length} COMPLETED OF 21`),{topFixes:o,needFixes:n,completed:i,allCategories:e}}function he(t){let e=10;return fe(t)||(e-=2.5),be(t)||(e-=2.5),Ee(t)||(e-=2.5),ye(t)||(e-=2.5),Math.max(e,0)}function fe(t){return[/\b\d{3}[-.\s]?\d{3}[-.\s]?\d{4}\b/g,/\b\(\d{3}\)\s?\d{3}[-.\s]?\d{4}\b/g,/\b\+\d{1,3}[-.\s]?\d{1,14}[-.\s]?\d{1,14}\b/g,/\b\+91[-.\s]?\d{10}\b/g,/\b91[-.\s]?\d{10}\b/g,/\b[6-9]\d{9}\b/g,/\b\d{10,15}\b/g,/\bphone\s*:?\s*[+]?\d/gi,/\bmobile\s*:?\s*[+]?\d/gi,/\bcell\s*:?\s*[+]?\d/gi,/\bcontact\s*:?\s*[+]?\d/gi].some(o=>o.test(t))}function be(t){return/\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Z|a-z]{2,}\b/g.test(t)}function Ee(t){t.toLowerCase();const e=[/linkedin\.com\/in\/[a-z0-9-]+/gi,/linkedin\.com\/pub\/[a-z0-9-]+/gi,/www\.linkedin\.com/gi,/linkedin:\s*[a-z0-9.-]+/gi,/\blinkedin\b.*profile/gi,/profile/gi];return/\blinkedin\b/gi.test(t)?!0:e.some(o=>o.test(t))}function ye(t){const e=t.toLowerCase(),o=["mumbai","delhi","new delhi","bangalore","bengaluru","hyderabad","chennai","kolkata","calcutta","pune","gurugram","gurgaon","noida","ahmedabad","surat","jaipur","lucknow","kanpur","nagpur","indore","thane","bhopal","visakhapatnam","vishakhapatnam","pimpri","patna","vadodara","coimbatore","ludhiana","agra","nashik","faridabad","meerut","rajkot","varanasi","banaras","srinagar","aurangabad","dhanbad","amritsar","navi mumbai","allahabad","prayagraj","ranchi","howrah","jabalpur","gwalior","vijayawada","mysore","hubli","mangalore","solapur","kota","trivandrum","thiruvananthapuram","kochi","ernakulam","madurai","salem","tiruchirappalli","trichy","bhubaneswar","cuttack","guwahati","shimla","dehradun","gangtok","itanagar","aizawl","kohima","imphal","agartala","panaji","porvorim","silchar","dibrugarh","tezpur","durgapur","asansol","siliguri","india","haryana","uttar pradesh","maharashtra","karnataka","tamil nadu","telangana","andhra pradesh","gujarat","west bengal","punjab","rajasthan","bihar","jharkhand","kerala","odisha","uttarakhand","chhattisgarh","assam","goa","sikkim","mizoram","tripura","nagaland","manipur","arunachal pradesh","meghalaya","himachal pradesh","california","new york","texas","florida","illinois","pennsylvania","ohio","georgia","north carolina","michigan","new jersey","virginia","washington","arizona","massachusetts","tennessee","indiana","missouri","maryland","wisconsin","colorado","minnesota","south carolina","alabama","louisiana","kentucky","oregon","oklahoma","connecticut","utah","iowa","nevada","arkansas","mississippi","kansas","new mexico","nebraska","west virginia","montana","idaho","hawaii","alaska","maine","new hampshire","vermont","rhode island","delaware","district of columbia","los angeles","san francisco","san diego","san jose","sacramento","fresno","oakland","new york city","nyc","buffalo","rochester","houston","dallas","austin","san antonio","fort worth","miami","orlando","tampa","jacksonville","atlanta","charlotte","raleigh","detroit","grand rapids","chicago","philadelphia","pittsburgh","cleveland","columbus","cincinnati","phoenix","boston","nashville","memphis","indianapolis","st louis","baltimore","milwaukee","denver","minneapolis","seattle","portland","las vegas","salt lake city","honolulu","ontario","quebec","british columbia","alberta","manitoba","saskatchewan","nova scotia","new brunswick","newfoundland and labrador","prince edward island","toronto","vancouver","montreal","ottawa","calgary","edmonton","winnipeg","halifax","victoria","london","manchester","birmingham","liverpool","glasgow","edinburgh","leeds","sheffield","bristol","cardiff","belfast","new south wales","victoria","queensland","south australia","western australia","tasmania","northern territory","australian capital territory","sydney","melbourne","brisbane","perth","adelaide","canberra","hobart","darwin","gold coast","dubai","abu dhabi","doha","riyadh","jeddah","amman","muscat","kuwait city","manama","berlin","munich","hamburg","frankfurt","stuttgart","paris","lyon","marseille","nice","toulouse","amsterdam","rotterdam","the hague","utrecht","zurich","geneva","basel","vienna","budapest","helsinki","stockholm","copenhagen","madrid","barcelona","valencia","seville","lisbon","porto","rome","milan","florence","naples","turin","venice","tokyo","osaka","kyoto","yokohama","nagoya","hong kong","shanghai","beijing","guangzhou","shenzhen","singapore","kuala lumpur","bangkok","jakarta","manila","seoul","busan","incheon","mexico city","guadalajara","monterrey","bogota","lima","santiago","buenos aires","cape town","johannesburg","nairobi","lagos","cairo","casablanca","accra","addis ababa"],n=[/\b\w+,\s*[A-Z]{2,3}\b/g,/\b\w+,\s*\w+\s*\d{5,6}\b/g,/\b\d{5,6}(-\d{4})?\b/g,/location\s*:?\s*\w+/gi,/address\s*:?\s*\w+/gi,/based\s+in\s+\w+/gi,/located\s+in\s+\w+/gi,/\bcity\s*:?\s*\w+/gi,/\bstate\s*:?\s*\w+/gi,/\bcurrent\s+location\s*:?\s*\w+/gi],i=o.some(a=>new RegExp(`\\b${a}\\b`,"i").test(e)),s=n.some(a=>a.test(t));return i||s}function Ae(t,e){let o=0;const n=t.toLowerCase(),i=Ve(t),s=i>=5;return(n.includes("education")||n.includes("academic")||n.includes("qualification"))&&(o+=3),Se(t)&&(o+=s?6:4),Ce(t)&&(o+=s?1:2),s||ve(t)&&(o+=2),i<3&&(Le(t)||(o-=1)),Math.max(Math.min(o,10),0)}function Se(t){const o=we(t)||t.toLowerCase(),n=["bachelor","master","phd","doctorate","associate","diploma","certificate","b\\.?e\\.?","b\\.?tech","b\\.?s\\.?","b\\.?a\\.?","b\\.?sc\\.?","b\\.?com\\.?","m\\.?tech","m\\.?s\\.?","m\\.?a\\.?","m\\.?sc\\.?","m\\.?com\\.?","mba","m\\.?phil","ph\\.?d\\.?","doctorate","post\\s*graduate","graduate\\s*degree","btech","mtech","beng","meng","bsc","msc","bcom","mcom","llb","llm","md","mbbs","bds","mds","ca","cs","cma"];return new RegExp(`\\b(${n.join("|")})\\b`,"i").test(o)}function we(t){t.toLowerCase();const e=t.split(`
`);let o=-1;const n=["education","academic","qualification","educational background"];for(let a=0;a<e.length;a++){const l=e[a].toLowerCase().trim();if(n.some(r=>l.includes(r))&&l.length<50){o=a;break}}if(o===-1)return null;let i=e.length;const s=["experience","work","employment","skills","projects","certifications"];for(let a=o+1;a<e.length;a++){const l=e[a].toLowerCase().trim();if(s.some(r=>l.includes(r))&&l.length<50){i=a;break}}return e.slice(o,i).join(`
`).toLowerCase()}function Ce(t){const e=["university","college","institute","school","academy","tech","polytechnic","community college"],o=t.toLowerCase();return e.some(n=>o.includes(n))}function ve(t){return[/\b(19|20)\d{2}\b/g,/\d{1,2}\/\d{4}/g,/[A-Za-z]+\s+\d{4}/g,/\d{4}\s*[-‚Äì]\s*\d{4}/g].some(o=>o.test(t))}function Le(t){const e=t.toLowerCase(),o=[/gpa\s*:?\s*\d\.\d/gi,/\d\.\d{1,2}\s*gpa/gi,/\d\.\d{1,2}\/4\.0/gi],n=["magna cum laude","summa cum laude","cum laude","honors","dean's list","honor roll","distinction","academic excellence","merit","scholarship"],i=o.some(a=>a.test(t)),s=n.some(a=>e.includes(a));return i||s}function xe(t){console.log("üîç GRAMMAR: Starting grammar analysis..."),console.log("üîç GRAMMAR: Resume text length:",t.length),console.log("üîç GRAMMAR: Starting async LLM grammar analysis..."),Me(t).then(o=>{console.log("üîç GRAMMAR: LLM analysis completed with score:",o),at(o)}).catch(o=>{console.error("‚ùå GRAMMAR: LLM analysis failed:",o)});const e=it(t);return console.log("üîç GRAMMAR: Returning immediate fallback score:",e),e}async function Me(t){console.log("üîç GRAMMAR LLM: Starting LLM grammar API call...");try{console.log("üîç GRAMMAR LLM: Making fetch request to /api/grammar-check"),console.log("üîç GRAMMAR LLM: Request payload:",{text_length:t.length,check_type:"grammar"});const a=window.location.hostname==="localhost"?"http://localhost:3001/api/grammar-check":"/api/grammar-check";console.log("üîç GRAMMAR LLM: Using API URL:",a);const l=await fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:t,check_type:"grammar"})});if(console.log("üîç GRAMMAR LLM: API response status:",l.status,l.statusText),l.ok){const r=await l.json();console.log("üîç GRAMMAR LLM: API response data:",r);const c=Math.max(Math.min(r.grammar_score||8,10),0);return console.log("üîç GRAMMAR LLM: Calculated final score:",c),c}else{console.error("‚ùå GRAMMAR LLM: API request failed with status:",l.status);const r=await l.text();console.error("‚ùå GRAMMAR LLM: Error response:",r)}}catch(a){console.error("‚ùå GRAMMAR LLM: LLM grammar check failed:",a),console.error("‚ùå GRAMMAR LLM: Error details:",a.message,a.stack)}console.log("üîç GRAMMAR LLM: API failed, using internal fallback grammar check...");let e=0;const o=[/\bis\s+are\b/gi,/\bare\s+is\b/gi,/\bi\s+are\b/gi,/\byou\s+is\b/gi];let n=0;o.forEach((a,l)=>{const r=(t.match(a)||[]).length;n+=r,r>0&&console.log("üîç GRAMMAR LLM FALLBACK: Found",r,"matches for pattern",l)}),console.log("üîç GRAMMAR LLM FALLBACK: Total issues found:",n),t.length>100?e=8:t.length>50?e=6:e=4,console.log("üîç GRAMMAR LLM FALLBACK: Base score:",e);const i=Math.min(n*2,6);e-=i,console.log("üîç GRAMMAR LLM FALLBACK: Penalty applied:",i,"Final score:",e);const s=Math.max(e,0);return console.log("üîç GRAMMAR LLM FALLBACK: Returning fallback score:",s),s}function Re(t){console.log("üîç ACTION VERBS EXTRACT: Starting verb extraction...");const e=[],o=t.toLowerCase();if(window.actionVerbsConfig){console.log("üîç ACTION VERBS EXTRACT: Using config-based extraction");const i=[];Object.keys(window.actionVerbsConfig).forEach(a=>{if(a!=="WEAK_VERBS"){const l=window.actionVerbsConfig[a]||[];i.push(...l.map(r=>r.toLowerCase()))}});const s=window.actionVerbsConfig.WEAK_VERBS||[];i.push(...s.map(a=>a.toLowerCase())),console.log("üîç ACTION VERBS EXTRACT: Total config verbs to search for:",i.length),i.forEach(a=>{new RegExp("\\b"+a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")+"\\b","gi").test(o)&&e.push(a)}),console.log("üîç ACTION VERBS EXTRACT: Found config-based verbs:",e.length)}else{console.log("üîç ACTION VERBS EXTRACT: Falling back to hardcoded patterns");const i=[/\b(managed|led|developed|created|implemented|achieved|increased|reduced|improved|delivered|executed|coordinated|supervised|administered|analyzed|designed|established|facilitated|generated|initiated|launched|optimized|organized|planned|produced|provided|supported|trained|collaborated|communicated|negotiated|presented|resolved|streamlined|transformed|upgraded|built|maintained|monitored|oversaw|recruited|directed|guided|mentored|coached|evaluated|assessed|identified|researched|tested|reviewed|audited|calculated|forecasted|interviewed|investigated|traced|classified|collected|compiled|processed|recorded|scheduled|arranged|prepared|operated|handled|assisted|helped|contributed|participated|worked|responsible|spearheaded|championed|pioneered|conceptualized|revamped|boosted|drove|conceived|programmed|scaled|orchestrated|engineered)\b/g,/\b(manage|lead|develop|create|implement|achieve|increase|reduce|improve|deliver|execute|coordinate|supervise|administer|analyze|design|establish|facilitate|generate|initiate|launch|optimize|organize|plan|produce|provide|support|train|collaborate|communicate|negotiate|present|resolve|streamline|transform|upgrade|build|maintain|monitor|oversee|recruit|direct|guide|mentor|coach|evaluate|assess|identify|research|test|review|audit|calculate|forecast|interview|investigate|trace|classify|collect|compile|process|record|schedule|arrange|prepare|operate|handle|assist|help|contribute|participate|work|spearhead|champion|pioneer|conceptualize|revamp|boost|drive|conceive|program|scale|orchestrate|engineer)\b/g];for(const s of i){const a=o.match(s);a&&e.push(...a)}}const n=[...new Set(e)];return console.log("üîç ACTION VERBS EXTRACT: Final unique verbs found:",n.length,n),n}function Ie(t,e){const o={};if(!window.ActionVerbs||!window.ActionVerbs.getVerbsForCategory)return o;for(const n of e){const i=window.ActionVerbs.getVerbsForCategory(n),s=[];for(const a of t)i.some(r=>r.toLowerCase()===a.toLowerCase()||r.toLowerCase().includes(a.toLowerCase())||a.toLowerCase().includes(r.toLowerCase()))&&s.push(a);s.length>0&&(o[n]=s)}return o}function ke(t,e){const o={};for(const n of e){const i=window.actionVerbsConfig[n]||[],s=[];for(const a of t)i.some(r=>r.toLowerCase()===a.toLowerCase()||r.toLowerCase().includes(a.toLowerCase())||a.toLowerCase().includes(r.toLowerCase()))&&s.push(a);s.length>0&&(o[n]=s)}return o}function Te(t){const e={MANAGEMENT_SKILLS:["managed","led","supervised","coordinated","directed","guided","oversaw"],LEADERSHIP_MENTORSHIP_AND_TEACHING_SKILLS:["spearheaded","championed","mentored","coached","led","guided"],ENTREPRENEURIAL_SKILLS:["launched","pioneered","initiated","founded","established","created"],ENGINEERING_TECHNICAL_ROLES:["built","developed","engineered","programmed","designed","implemented"],STRONG_ACCOMPLISHMENT_DRIVEN_VERBS:["achieved","delivered","executed","accomplished","completed"],PROCESS_IMPROVEMENT_CONSULTING_AND_OPERATIONS:["optimized","streamlined","improved","enhanced","revamped"],FINANCIAL_SKILLS:["budgeted","forecasted","analyzed","calculated","scaled"]},o={};for(const[n,i]of Object.entries(e)){const s=[];for(const a of t)i.some(r=>r.toLowerCase()===a.toLowerCase())&&s.push(a);s.length>0&&(o[n]=s)}return o}function Be(t){let e=0;const o=Ue(t),n=o.content||"",i=o.hasHeading||!1;return console.log("Summary Section Analysis:",{summaryLength:n.length,hasHeading:i,summaryPreview:n.substring(0,300)+"...",originalPreview:o.content?o.content.substring(0,100):"No original content"}),!n||n.length<20?1:(e=10,P(n)||P(t)||(e-=2),Oe(n)||(e-=2),De(n)||(e-=2),Pe(n)||(e-=2),ze(n)||Ge(n)||(e-=2),i||(e-=1),Math.max(e,0))}function D(t){console.log("üîç DATES: Starting date analysis...");let e=10;const o=[/\b(0[1-9]|1[0-2])\/\d{4}\b/g,/\b(0[1-9]|1[0-2])-\d{4}\b/g,/\b\d{1,2}\/\d{4}\b/g,/\b\d{1,2}-\d{4}\b/g,/\b(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)[a-z]*\s+\d{4}\b/gi,/\b\d{4}\s*[-‚Äì]\s*\d{4}\b/g,/\b\d{4}\s*[-‚Äì]\s*(Present|Ongoing|Current)\b/gi,/\b(Present|Ongoing|Current)\b/gi],n=[],i=[];if(o.forEach((r,c)=>{(t.match(r)||[]).forEach(u=>{n.push(u.trim()),i.push(c)})}),console.log("üîç DATES: Found dates:",n),console.log("üîç DATES: Format types:",i),[...new Set(i)].length>1){const r=i.length-i.filter(p=>p===i[0]).length,c=Math.min(r*2,8);e-=c,console.log("üîç DATES: Date format inconsistencies found:",r,"Penalty:",c)}else console.log("üîç DATES: Date formats are consistent");const a=Ne(t);e-=a;const l=Math.max(e,0);return console.log("üîç DATES: Final date score:",l),l}function Ne(t){console.log("üîç DATES CHRONO: Checking chronological order...");const e=V(t);if(!e)return console.log("üîç DATES CHRONO: No experience section found"),0;const o=/\b(19|20)\d{2}\b/g,n=[];let i;for(;(i=o.exec(e))!==null;){const a=parseInt(i[0]);a>=1990&&a<=new Date().getFullYear()+1&&n.push(a)}if(console.log("üîç DATES CHRONO: Extracted years from experience:",n),n.length<2)return console.log("üîç DATES CHRONO: Not enough years to check order"),0;let s=!0;for(let a=0;a<n.length-1;a++)if(n[a]<n[a+1]){s=!1;break}return s?(console.log("üîç DATES CHRONO: Experience is in correct reverse chronological order"),0):(console.log("üîç DATES CHRONO: Experience is NOT in reverse chronological order - applying 5 point penalty"),5)}function Ue(t){const e=t.toLowerCase(),o=t.split(`
`).map(d=>d.trim()).filter(d=>d.length>0),n=["professional summary","executive summary","career summary","summary","objective","profile","overview","about","introduction"];let i=-1,s="";for(const d of n){const g=e.indexOf(d);g!==-1&&(i===-1||g<i)&&(i=g,s=d)}if(i!==-1){const d=t.substring(i),g=["experience","work history","employment","education","skills","technical skills","core competencies"];let E=d.length;for(const y of g){const h=d.toLowerCase().indexOf(y);if(h!==-1&&h<E&&h>s.length+200){const v=d.substring(Math.max(0,h-50),h),R=d.substring(h,h+50);v.includes(`
`)&&R.includes(`
`)&&(E=h)}}let m=d.substring(s.length,E).trim();if(m.length<100){const y=d.split(`
`);let h=[],v=!1;for(let B=0;B<y.length;B++){const A=y[B].trim();if(!v){if(A.toLowerCase().includes(s)){v=!0;continue}continue}if(A.length>0&&A.length<30&&(A===A.toUpperCase()||["EDUCATION","EXPERIENCE","SKILLS","PROFESSIONAL EXPERIENCE","WORK HISTORY"].includes(A.toUpperCase()))&&h.length>0)break;A.length>0&&h.push(A)}const R=h.join(" ").trim();R.length>m.length&&(m=R)}return m=U(m),{content:m,hasHeading:!0}}console.log("üîç EXTRACT SUMMARY: No explicit summary section found, looking for intro lines...");let a=0;const l=[/^[A-Z][a-z]+ [A-Z][a-z]+/,/@/,/\b\d{3}[-.\s]?\d{3}[-.\s]?\d{4}\b/,/\b[A-Z]{2}\b|\bcity\b|\bstate\b/,/linkedin/i,/github/i];for(let d=0;d<Math.min(o.length,10);d++){const g=o[d],E=l.some(m=>m.test(g));if(console.log(`üîç EXTRACT SUMMARY: Line ${d}: "${g}" -> Contact info: ${E}`),!E&&g.length>30){a=d,console.log("üîç EXTRACT SUMMARY: Starting summary extraction from line:",d);break}}const r=[];console.log("üîç EXTRACT SUMMARY: Extracting potential summary lines from line",a);for(let d=a;d<Math.min(a+8,o.length);d++){const g=o[d],m=["experience","work history","employment","education","skills","projects","certifications"].some(v=>g.toLowerCase().includes(v))&&g.length<50;if(console.log(`üîç EXTRACT SUMMARY: Processing line ${d}: "${g}" (length: ${g.length}, section header: ${m})`),m){console.log("üîç EXTRACT SUMMARY: Hit section header, stopping extraction");break}const y=g.match(/^[A-Z\s]{2,}$/),h=g.length>20;if(console.log(`üîç EXTRACT SUMMARY: Line analysis - Good length: ${h}, All caps header: ${!!y}`),h&&!y&&(r.push(g),console.log("üîç EXTRACT SUMMARY: Added line to potential summary")),r.length>=2&&(g.length<10||y)){console.log("üîç EXTRACT SUMMARY: Have enough lines and hit break, stopping");break}}const c=r.join(" ").trim();if(console.log("üîç EXTRACT SUMMARY: Potential summary lines joined:",r),console.log("üîç EXTRACT SUMMARY: Combined summary content (length:",c.length,"):",c),c.length>50){const d=U(c);return console.log("üîç EXTRACT SUMMARY: Returning intro summary (cleaned):",d),{content:d,hasHeading:!1}}console.log("üîç EXTRACT SUMMARY: Using fallback - first substantial paragraph");const p=t.split(`

`).filter(d=>d.trim().length>50);console.log("üîç EXTRACT SUMMARY: Found paragraphs:",p.length),p.length>0&&console.log("üîç EXTRACT SUMMARY: First paragraph:",p[0]);const u=p[0]||"",L=U(u);return console.log("üîç EXTRACT SUMMARY: Returning fallback content (cleaned):",L),{content:L,hasHeading:!1}}function U(t){if(!t)return"";let e=t;return e=e.replace(/([a-z])([A-Z])/g,"$1 $2"),e=e.replace(/([a-zA-Z])(\d)/g,"$1 $2"),e=e.replace(/(\d)([a-zA-Z])/g,(n,i,s)=>t.includes(i+"+")?n:i+" "+s),["and","of","in","to","with","for","the","as","at","by","on","or"].forEach(n=>{const i=new RegExp(`([a-z])${n}\\b`,"gi");e=e.replace(i,`$1 ${n}`);const s=new RegExp(`\\b${n}([a-z])`,"gi");e=e.replace(s,`${n} $1`)}),e=e.replace(/([a-z])([,.;:])/gi,"$1$2 "),e=e.replace(/([,.;:])([a-zA-Z])/g,"$1 $2"),e=e.replace(/\s+/g," ").trim(),e=e.replace(/\be - commerce\b/gi,"e-commerce"),e=e.replace(/\bed - tech\b/gi,"ed-tech"),e=e.replace(/\bA R R\b/gi,"ARR"),e=e.replace(/\bR O I\b/gi,"ROI"),e=e.replace(/\bA I\b/gi,"AI"),e=e.replace(/\bM L\b/gi,"ML"),e=e.replace(/\bC P O\b/gi,"CPO"),e}function P(t){const e=[/(\d+)\+?\s*years?\s*(of\s*)?(experience|exp)/gi,/over\s*(\d+)\s*years?\s*(of\s*)?(experience|exp)/gi,/more than\s*(\d+)\s*years?\s*(of\s*)?(experience|exp)/gi,/(\d+)\+?\s*year\s*(experienced|professional)/gi,/(experienced|seasoned|veteran)\s*(professional|expert|leader)/gi,/\b(\d+)\+?\s*years?\b/gi,/(senior|lead|principal|staff)\s*(engineer|developer|manager|leader)/gi,/(accomplished|proven|established)\s*(professional|leader|expert)/gi];console.log("üîç hasYearsOfExperience testing against:",t);const n=e.map((i,s)=>{const a=i.test(t);return console.log(`Pattern ${s}: ${i} -> ${a}`),a}).some(i=>i);return console.log("üîç hasYearsOfExperience final result:",n),n}function Oe(t){if(!b)return console.warn("Skills-buzzwords config not loaded, using fallback analysis"),["skill","experience","expertise","proficient","knowledge","ability","capable"].some(s=>t.toLowerCase().includes(s));const e=[...b.technicalSkills||[],...b.professionalSkills||[],...b.industryTerms||[]],o=t.toLowerCase(),n=e.filter(i=>o.includes(i.toLowerCase()));return console.log("Skills analysis (from config):",n),n.length>=1}function De(t){if(!b)return console.warn("Skills-buzzwords config not loaded, using fallback analysis"),["drive","deliver","optimize","transform","innovate","scale","growth","efficiency"].some(s=>t.toLowerCase().includes(s));const e=[];b.buzzwords&&Object.values(b.buzzwords).forEach(i=>{e.push(...i)});const o=t.toLowerCase(),n=e.filter(i=>o.includes(i.toLowerCase()));return console.log("Buzzwords analysis (from config):",n),n.length>=2}function Pe(t){const e=[/\b\d+\.?\d*\s*%/g,/\$[\d,]+\.?\d*[kmb]?/gi,/\b\d{2,}[,\d]*\s*(users?|customers?|clients?|people|projects?|systems?|applications?)\b/gi,/\b(\d+x|doubled?|tripled?)\b/gi,/\b(over|more than|up to|above|exceeding?)\s*\d{2,}/gi,/\b\d+\s*(years?|months?)\s*(of\s*)?(experience|exp)/gi];console.log("üîç hasQuantification testing against:",t),console.log('üîç QUANTIFICATION TEST: Looking for "$10M+ ARR" pattern...');const o="$10M+ ARR";console.log('üîç QUANTIFICATION TEST: Testing "$10M+ ARR" directly...');const i=e.map((s,a)=>{s.lastIndex=0;const l=s.test(t);s.lastIndex=0;const r=s.test(o);if(console.log(`Quantification Pattern ${a}: ${s} -> ${l} (test on "$10M+ ARR": ${r})`),l){s.lastIndex=0;const c=t.match(s);console.log("  -> Found matches in summary:",c)}if(r){s.lastIndex=0;const c=o.match(s);console.log('  -> Test matches on "$10M+ ARR":',c)}return l}).some(s=>s);return console.log("üîç hasQuantification final result:",i),i}function ze(t){const e=t.trim().split(/\s+/).length,o=t.split(/[.!?]+/).filter(n=>n.trim().length>5).length;return o>=2&&o<=4&&e>=50&&e<=150}function Ge(t){const e=t.trim().split(/\s+/).length,o=t.split(/[.!?]+/).filter(n=>n.trim().length>5).length;return o>=1&&o<=6&&e>=30&&e<=300}function Fe(t){let e=10;const o=[];if(window.ActionVerbs&&window.ActionVerbs.getAllStrongVerbs){const d=window.ActionVerbs.getAllStrongVerbs();o.push(...d)}const n={},i=t.toLowerCase();o.forEach(d=>{const g=d.toLowerCase(),E=new RegExp(`\\b${g}\\b`,"gi"),m=i.match(E);m&&m.length>1&&(n[g]=m.length)});const s=Object.values(n).filter(d=>d>1);e-=s.length;const a=t.toLowerCase().split(/\s+/),l={},r=["that","this","with","from","have","been","were","will","they","them","their","there","where","when","what","which","work","team","project","company","business","experience","years"];a.forEach(d=>{const g=d.replace(/[^\w]/g,"");g.length>4&&!r.includes(g)&&(l[g]=(l[g]||0)+1)});const c=Object.values(l).filter(d=>d>3).length;e-=Math.min(c*.5,3);const p=t.toLowerCase().match(/\b\w+\s+\w+\b/g)||[],u={};p.forEach(d=>{!r.includes(d.split(" ")[0])&&!r.includes(d.split(" ")[1])&&(u[d]=(u[d]||0)+1)});const L=Object.values(u).filter(d=>d>1).length;return e-=Math.min(L*.5,2),Math.max(e,0)}function Ve(t){const e=t.toLowerCase(),o=[/(\d+)\+?\s*years?\s*(of\s*)?(experience|exp)/gi,/over\s*(\d+)\s*years?\s*(of\s*)?(experience|exp)/gi,/more than\s*(\d+)\s*years?\s*(of\s*)?(experience|exp)/gi];for(const s of o){const a=e.match(s);if(a){const l=a[0].match(/\d+/);if(l)return parseInt(l[0])}}const n=new Date().getFullYear(),i=t.match(/\b(19|20)\d{2}\b/g);if(i&&i.length>=2){const s=i.map(r=>parseInt(r)).sort(),a=s[0];if(s[s.length-1]>=n-1)return Math.min(n-a,20)}return t.length>2e3?8:t.length>1500?5:3}function $e(t,e=null){if(!S)return;S.innerHTML="";let o,n,i,s;if(e?(n=e.topFixes,i=e.needFixes,s=e.completed,o=[...n,...i]):(o=C.filter(l=>l.score&&l.score<9),n=C.filter(l=>l.score<6),i=C.filter(l=>l.score>=6&&l.score<=8),s=C.filter(l=>l.score>=9)),o.length===0){S.innerHTML=`
            <div class="text-center py-8">
                <div class="text-6xl mb-4">üéâ</div>
                <h3 class="text-xl font-semibold text-gray-900 mb-2">Perfect ATS Score!</h3>
                <p class="text-gray-600">All categories are optimized. Your resume is ready!</p>
            </div>
        `;return}o.forEach((l,r)=>{const c=document.createElement("div");c.className=`issue-card severity-${l.severity}`;const p=l.score>=8?"text-yellow-600":l.score>=6?"text-orange-600":"text-red-600";c.innerHTML=`
            <div class="flex-1">
                <div class="flex items-center justify-between mb-2">
                    <h3 class="text-lg font-semibold text-gray-900">${l.title}</h3>
                    <div class="text-sm font-bold ${p}">${l.score}/10</div>
                </div>
                <p class="text-gray-600 mb-3">${l.description}</p>
                <div class="flex items-center justify-between">
                    <div class="impact-badge">
                        ${_e(l.impact)} ${Ke(l.impact)}
                    </div>
                    <div class="text-xs text-gray-500">
                        ${qe(l.severity)}
                    </div>
                </div>
            </div>
            <button class="fix-button" onclick="handleFixIssue('${l.title}', ${r})">
                FIX ‚Üí
            </button>
        `,S.appendChild(c)});const a=document.createElement("div");a.className="bg-blue-50 border border-blue-200 rounded-12 p-6 mb-6",a.innerHTML=`
        <div class="flex items-center mb-3">
            <div class="w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center mr-4">
                <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                </svg>
            </div>
            <div>
                <h3 class="text-lg font-semibold text-gray-900">ATS Analysis Summary</h3>
                <p class="text-sm text-gray-600">${o.length} areas need improvement out of 21 categories analyzed</p>
            </div>
        </div>
        <div class="grid grid-cols-3 gap-4 text-center">
            <div>
                <div class="text-2xl font-bold text-red-600">${n.length}</div>
                <div class="text-xs text-gray-600 uppercase">High Priority</div>
            </div>
            <div>
                <div class="text-2xl font-bold text-yellow-600">${i.length}</div>
                <div class="text-xs text-gray-600 uppercase">Need Fixes</div>
            </div>
            <div>
                <div class="text-2xl font-bold text-green-600">${s.length}</div>
                <div class="text-xs text-gray-600 uppercase">Completed</div>
            </div>
        </div>
    `,S.insertBefore(a,S.firstChild)}function He(t){if(!N||!$)return;N.innerHTML="",[{title:"Contact Information",description:"Complete contact details with professional email and phone number."},{title:"Professional Format",description:"Clean, ATS-friendly format that scans well across different systems."},{title:"Education Section",description:"Well-structured education section with clear degree and institution details."},{title:"File Structure",description:"PDF format ensures consistent formatting across different devices and systems."},{title:"Length Optimization",description:"Appropriate resume length that provides sufficient detail without being too lengthy."},{title:"Grammar Quality",description:"Professional language with proper grammar and sentence structure."}].forEach(o=>{const n=document.createElement("div");n.className="strength-item",n.innerHTML=`
            <div class="check-icon">
                <svg class="w-3 h-3 text-white" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                </svg>
            </div>
            <div class="flex-1">
                <h4 class="font-semibold text-gray-900">${o.title}</h4>
                <p class="text-gray-600 mt-1">${o.description}</p>
            </div>`,N.appendChild(n)})}function je(t){const e=t.nextElementSibling,o=t.querySelector("svg"),n=t.querySelector("span");if(e.classList.contains("hidden")){e.classList.remove("hidden"),o.style.transform="rotate(180deg)";const i=e.querySelectorAll(".strength-item").length;n.textContent=`Hide ${i} additional categories`,setTimeout(()=>{const s=document.getElementById("upgradeBtn");s&&s.scrollIntoView({behavior:"smooth",block:"end"})},300)}else{e.classList.add("hidden"),o.style.transform="rotate(0deg)";const i=e.querySelectorAll(".strength-item").length;n.textContent=`Show ${i} more completed categories`}}window.toggleAdditionalStrengths=je;function _e(t){return{BREVITY:"üìù",IMPACT:"‚ö°",SECTIONS:"üìã",STYLE:"üé®",ALL:"üéØ"}[t]||"üìå"}function Ke(t){return t||"ALL"}function qe(t){return{high:"High Priority",medium:"Medium Priority",low:"Low Priority"}[t]||"Medium Priority"}window.handleFixIssue=function(t,e){console.log(`Fix requested for: ${t}`);const o=Xe(t,f);ot(t,o)};function Xe(t,e){const o=e.insights||{},n=e.resume_text||e.text||"";return Ye(t,o,n)}function Ye(t,e,o){const n=[],i=e.quick_wins||[],s=e.critical_issues||[],a=e.improvement_suggestions||[],l=[...i,...s,...a],r=We(t,l);if(r.length>0)r.forEach(c=>{n.push({line:Ze(c,o),issue:c.title||c.issue||c.suggestion||"Issue needs attention",fix:c.recommendation||c.solution||`Improved version addressing: ${c.issue||c.suggestion}`,fromAnalysis:!0})});else{const c=et(t,o);n.push(...c)}return n.slice(0,3)}function We(t,e,o){const n=Qe(t);return e.filter(i=>{const s=(i.title||i.issue||i.suggestion||"").toLowerCase();return n.some(a=>s.includes(a))})}function Qe(t){return{summary:["summary","objective","profile","overview"],"quantity impact":["quantify","metric","number","percentage","result","achievement"],"weak verbs":["verb","action","responsible","duties","passive"],verbosity:["concise","wordy","lengthy","verbose","brief"],"spelling & consistency":["spelling","typo","error","consistent","mistake"],grammar:["grammar","tense","sentence","structure"],"active voice":["active","passive","voice"],"verb tenses":["tense","past","present","consistent"],"education section":["education","degree","university","school"],"skills section":["skills","technical","competencies"],"contact details":["contact","phone","email","address"],"use of bullets":["bullet","format","list","structure"]}[t.toLowerCase()]||[t.toLowerCase()]}function Ze(t,e){if(!e)return"Content from your resume that needs attention";const o=e.split(`
`).filter(i=>i.trim().length>10),n=(t.title||t.issue||"").toLowerCase().split(" ");for(let i of o){const s=i.toLowerCase().split(" ");if(n.filter(l=>s.some(r=>r.includes(l)&&l.length>3)).length>0)return i.trim()}return Je(t,o)}function Je(t,e){var n;const o=(t.title||t.issue||"").toLowerCase();for(let i of e)if(o.includes("verb")&&(i.includes("responsible for")||i.includes("duties include"))||o.includes("quantify")&&(i.includes("improved")||i.includes("increased"))&&!i.match(/\d+/)||o.includes("summary")&&(i.includes("seeking")||i.includes("professional")))return i.trim();return((n=e.find(i=>i.length>30))==null?void 0:n.trim())||"Sample content from your resume"}function et(t,e){if(!e||e.length<50)return[{line:"Resume content needs enhancement",issue:`${t} section requires improvement for ATS optimization`,fix:"Enhance this section with more relevant content and keywords"}];const o=e.split(`
`).filter(i=>i.trim().length>15),n=[];return o.forEach(i=>{if(n.length>=2)return;const s=tt(i,t);s&&n.push(s)}),n.length===0&&n.push({line:o[0]||"Resume content",issue:`${t} optimization needed for better ATS performance`,fix:"Professional optimization will improve this section for ATS systems"}),n}function tt(t,e){const o=e.toLowerCase();return o.includes("verb")&&(t.toLowerCase().includes("responsible for")||t.toLowerCase().includes("duties include"))?{line:t.trim(),issue:"Uses weak passive language instead of strong action verbs",fix:"Replace with specific action verbs showing leadership and results"}:o.includes("quantify")&&(t.includes("improved")||t.includes("increased"))&&!t.match(/\d+/)?{line:t.trim(),issue:"Claims improvement without specific metrics or numbers",fix:"Add quantified results with percentages, dollar amounts, or specific numbers"}:o.includes("spelling")&&t.length>50?{line:t.trim(),issue:"May contain spelling or consistency issues requiring review",fix:"Professional review will identify and correct any errors"}:null}function ot(t,e){const o=document.createElement("div");o.className="fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",o.id="issueDetailModal",o.innerHTML=`
        <div class="bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto">
            <div class="sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between">
                <h2 class="text-xl font-bold text-gray-900">Fix: ${t}</h2>
                <button onclick="closeIssueModal()" class="text-gray-400 hover:text-gray-600">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
            
            <div class="p-6">
                <div class="mb-6">
                    <h3 class="text-lg font-semibold text-gray-900 mb-2">Specific Issues Found in Your Resume:</h3>
                    <p class="text-gray-600">Here are examples of areas that need improvement for better ATS optimization:</p>
                </div>
                
                ${e.map((n,i)=>`
                    <div class="mb-8 border border-gray-200 rounded-lg overflow-hidden">
                        <div class="bg-red-50 p-4 border-b border-gray-200">
                            <h4 class="font-semibold text-red-800 mb-2">‚ùå Current (Problematic):</h4>
                            <div class="bg-white p-3 rounded border-l-4 border-red-500">
                                <code class="text-sm text-gray-800">"${n.line}"</code>
                            </div>
                            <p class="text-sm text-red-700 mt-2"><strong>Issue:</strong> ${n.issue}</p>
                        </div>
                        
                        <div class="bg-green-50 p-4">
                            <h4 class="font-semibold text-green-800 mb-2">‚úÖ Improved (ATS-Optimized):</h4>
                            <div class="bg-white p-3 rounded border-l-4 border-green-500">
                                <code class="text-sm text-gray-800">"${n.fix}"</code>
                            </div>
                        </div>
                    </div>
                `).join("")}
                
                <div class="bg-blue-50 border border-blue-200 rounded-lg p-6 mt-8">
                    <h4 class="font-semibold text-blue-800 mb-3">üí° Why This Matters for ATS:</h4>
                    <p class="text-blue-700 text-sm">
                        ${nt(t)}
                    </p>
                </div>
                
                <div class="flex gap-4 mt-8">
                    <button onclick="closeIssueModal()" class="flex-1 bg-gray-200 text-gray-800 py-3 px-6 rounded-lg font-medium hover:bg-gray-300">
                        I'll Fix This Manually
                    </button>
                    <button onclick="handleAutoFix('${t}')" class="flex-1 bg-purple-600 text-white py-3 px-6 rounded-lg font-medium hover:bg-purple-700">
                        üöÄ Auto-Fix with AI - FREE
                    </button>
                </div>
            </div>
        </div>
    `,document.body.appendChild(o)}function nt(t){return{summary:"ATS systems scan for specific keywords and value propositions in the summary. Generic statements reduce your ranking compared to candidates with targeted, quantified summaries.","quantity impact":"ATS algorithms favor resumes with quantified achievements. Numbers and metrics demonstrate measurable impact and help you stand out in automated screening.","weak verbs":'Strong action verbs signal leadership and initiative to ATS systems. Weak verbs like "responsible for" are passive and reduce the impact score of your accomplishments.',verbosity:"ATS systems may truncate overly long descriptions, causing important information to be missed. Concise, impactful statements ensure all your achievements are captured.","spelling & consistency":"ATS systems flag spelling errors as quality indicators. Even minor mistakes can significantly impact your overall ATS score and prevent you from reaching human reviewers.","active voice":"ATS systems favor active voice as it demonstrates ownership and leadership. Passive voice can make your achievements seem less impactful and reduce keyword matching.","verb tenses":"Consistent verb tenses help ATS systems understand your career timeline. Inconsistent tenses can confuse parsing algorithms and misrepresent your experience."}[t.toLowerCase()]||"Optimizing this area will improve your ATS score and increase your chances of passing automated screening systems used by most companies."}window.closeIssueModal=function(){const t=document.getElementById("issueDetailModal");t&&t.remove()};window.handleAutoFix=function(t){console.log(`Auto-fix requested for: ${t}`),closeIssueModal(),sessionStorage.setItem("fixIssue",t),sessionStorage.setItem("pendingUpgrade","true"),sessionStorage.setItem("upgradeSource","specific_fix"),T&&T.click()};function st(){T&&T.addEventListener("click",()=>{sessionStorage.setItem("pendingUpgrade","true"),sessionStorage.setItem("upgradeSource","results_page"),window.location.href="./payment.html"})}console.log("üîÑ DEBUG: result.js module loaded");console.log("üîç DEBUG: DOM readyState:",document.readyState);console.log("üîç DEBUG: Available DOM elements check:");console.log("  - atsScore element:",!!document.getElementById("atsScore"));console.log("  - scoreCircle element:",!!document.getElementById("scoreCircle"));console.log("  - topFixesList element:",!!document.getElementById("topFixesList"));console.log("  - completedList element:",!!document.getElementById("completedList"));console.log("  - issuesList element:",!!document.getElementById("issuesList"));console.log("  - strengthsList element:",!!document.getElementById("strengthsList"));document.readyState==="loading"?(console.log("üîç DEBUG: DOM still loading, adding event listener"),document.addEventListener("DOMContentLoaded",()=>{console.log("üîç DEBUG: DOMContentLoaded event fired"),console.log("üîç DEBUG: Re-checking DOM elements after DOMContentLoaded:"),console.log("  - atsScore element:",!!document.getElementById("atsScore")),console.log("  - scoreCircle element:",!!document.getElementById("scoreCircle")),console.log("  - topFixesList element:",!!document.getElementById("topFixesList")),console.log("  - completedList element:",!!document.getElementById("completedList")),console.log("  - issuesList element:",!!document.getElementById("issuesList")),console.log("  - strengthsList element:",!!document.getElementById("strengthsList")),z()})):(console.log("üîç DEBUG: DOM already loaded, initializing directly"),z());async function z(){console.log("üîß DEBUG: Starting initializeWithActionVerbs...");try{console.log("üîß DEBUG: Checking for ActionVerbs module:",!!window.ActionVerbs),window.ActionVerbs&&window.ActionVerbs.loadActionVerbs?(console.log("üîß DEBUG: Loading ActionVerbs..."),await window.ActionVerbs.loadActionVerbs(),console.log("üîß DEBUG: ActionVerbs loaded successfully")):console.log("üîß DEBUG: ActionVerbs not available or loadActionVerbs method missing, proceeding without it"),console.log("üîß DEBUG: ActionVerbs setup complete, initializing results page")}catch(t){console.error("‚ùå DEBUG: Failed to load ActionVerbs:",t),console.warn("Failed to load ActionVerbs, proceeding with fallback analysis:",t)}console.log("üîß DEBUG: Calling main init() function..."),G()}function it(t){console.log("üîç GRAMMAR FALLBACK: Calculating fallback grammar score...");let e=0;const o=[/\bis\s+are\b/gi,/\bare\s+is\b/gi,/\bi\s+are\b/gi,/\byou\s+is\b/gi];let n=0;o.forEach((a,l)=>{const r=(t.match(a)||[]).length;n+=r,r>0&&console.log("üîç GRAMMAR FALLBACK: Found",r,"matches for pattern",l,a)}),console.log("üîç GRAMMAR FALLBACK: Total grammar issues found:",n),t.length>100?e=8:t.length>50?e=6:e=4,console.log("üîç GRAMMAR FALLBACK: Base score based on length:",e);const i=Math.min(n*2,6);e-=i,console.log("üîç GRAMMAR FALLBACK: Penalty applied:",i,"Score after penalty:",e);const s=Math.max(e,0);return console.log("üîç GRAMMAR FALLBACK: Final fallback score:",s),s}function at(t){console.log("üîç GRAMMAR UPDATE: Attempting to update grammar score to:",t);const e=document.querySelectorAll('[data-category="Grammar"]');console.log("üîç GRAMMAR UPDATE: Found grammar elements:",e.length);const o=document.querySelectorAll('[data-category="Grammar & Spelling"]');console.log('üîç GRAMMAR UPDATE: Found "Grammar & Spelling" elements:',o.length),[...e,...o].forEach((n,i)=>{console.log("üîç GRAMMAR UPDATE: Processing element",i,n);const s=n.querySelector(".score");if(s){console.log("üîç GRAMMAR UPDATE: Found score element, updating from",s.textContent,"to",`${t}/10`),s.textContent=`${t}/10`;const a=`score ${t>=8?"text-green-600":t>=6?"text-yellow-600":"text-red-600"}`;s.className=a,console.log("üîç GRAMMAR UPDATE: Applied new class:",a)}else console.log("‚ùå GRAMMAR UPDATE: No score element found in element",i)}),rt()}function rt(){const t=document.querySelectorAll(".score");let e=0,o=0;if(t.forEach(n=>{const i=n.textContent.match(/(\d+)\/10/);i&&(e+=parseInt(i[1]),o++)}),o>0){const n=Math.round(e/o*10),i=document.querySelector("#overall-score");i&&(i.textContent=n)}}window.debugResults={analysisData:()=>f,allIssues:()=>C,reinit:G};
