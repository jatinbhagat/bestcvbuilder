const a=window.location.hostname!=="localhost"&&window.location.hostname!=="127.0.0.1",i=a?"https://bestcvbuilder-api.onrender.com/api":"/api",r=`${i}/cv-parser`,g="BUILD-2025-08-05-08:30:00-UI-FIXED";console.log("ðŸ”— API Configuration v1.1.0:",{API_BASE_URL:i,CV_PARSER_ENDPOINT:r});console.log("ðŸš¨ CRITICAL: Verify this shows correct URL - should NOT be bestcvbuilder-gamma!");async function c(s,o=null){try{console.log("Starting ATS analysis for file:",s);const e={file_url:s,analysis_type:"ats_score",include_recommendations:!0};o&&(e.user_id=o,console.log("Including user_id for database saving:",o));const n=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!n.ok)throw new Error(`API request failed: ${n.status}`);const t=await n.json();return console.log("ATS analysis completed:",t),l(t)}catch(e){throw console.error("ATS analysis failed:",e),e}}function l(s){return{score:s.ats_score||0,scoreCategory:d(s.ats_score),strengths:s.strengths||[],improvements:s.improvements||[],detailedAnalysis:s.detailed_analysis||"",keywords:s.keywords||[],missingKeywords:s.missing_keywords||[],formattingIssues:s.formatting_issues||[],suggestions:s.suggestions||[],timestamp:new Date().toISOString()}}function d(s){return s>=90?"excellent":s>=80?"good":s>=70?"fair":s>=60?"poor":"very_poor"}const y=async(s,o=null)=>c(s,o);export{i as A,g as B,r as C,y as a};
