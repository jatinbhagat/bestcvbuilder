import"./modulepreload-polyfill-B5Qt9EMX-v2.js";/* empty css                  */const b=document.getElementById("atsScore"),x=document.getElementById("scoreCircle"),L=document.getElementById("markedAsDone"),y=document.getElementById("topFixesList"),v=document.getElementById("completedList"),g=document.getElementById("issuesList"),S=document.getElementById("strengthsList"),f=document.getElementById("upgradeBtn"),N=document.getElementById("summaryText"),E=document.getElementById("highPriorityCount"),I=document.getElementById("needFixesCount"),w=document.getElementById("completedCount");let c,h=null;try{const s=sessionStorage.getItem("atsAnalysis");console.log("📊 Raw session data:",s),c=JSON.parse(s||"{}"),console.log("📊 Parsed Analysis Data:",c),console.log("🔍 INITIAL DATA CHECK:"),console.log("🔍 Has comprehensive_issues_report?","comprehensive_issues_report"in c),console.log("🔍 comprehensive_issues_report value:",c.comprehensive_issues_report)}catch(s){console.error("❌ Failed to parse session data:",s),c={}}async function T(){if(console.log("🚀 Initializing result page..."),console.log("🔍 All session storage keys:",Object.keys(sessionStorage)),console.log("🔍 atsAnalysis:",sessionStorage.getItem("atsAnalysis")),console.log("🔍 atsResults:",sessionStorage.getItem("atsResults")),!c||Object.keys(c).length===0){console.error("❌ No analysis data found");const s=sessionStorage.getItem("atsResults")||sessionStorage.getItem("analysisResults");if(s){console.log("📊 Found alternative data:",s);try{c=JSON.parse(s),console.log("📊 Using alternative data:",c)}catch(e){console.error("❌ Failed to parse alternative data:",e)}}if(!c||Object.keys(c).length===0){Oe("No analysis data found. Please upload your resume again.");return}}await H(),j(),U(),J(),ie(),re(),console.log("✅ Result page initialized successfully")}async function H(){try{const s=await B(),e=s.bypass_payment||s.free_mode_enabled,t=document.getElementById("upgradeBtn");t&&(e?t.innerHTML="🚀 FIX MY RESUME NOW - FREE 🚀":t.innerHTML="🚀 FIX THIS RESUME NOW - ₹99 🚀"),console.log(`🔧 CTA text updated - bypass: ${e}`)}catch(s){console.error("⚠️ Failed to update CTA text:",s)}}async function O(s){try{const e=await B();e.bypass_payment||e.free_mode_enabled?(s.innerHTML="🚀 Fix for Free - Instant Results",s.className="flex-1 bg-gradient-to-r from-green-500 to-green-600 text-white font-bold py-3 px-6 rounded-lg hover:from-green-600 hover:to-green-700 transition-all duration-300 shadow-lg text-base"):(s.innerHTML="🚀 Fix This - ₹99",s.className="flex-1 bg-gradient-to-r from-blue-500 to-blue-600 text-white font-bold py-3 px-6 rounded-lg hover:from-blue-600 hover:to-blue-700 transition-all duration-300 shadow-lg text-base")}catch(e){console.error("⚠️ Failed to update modal CTA button:",e)}}function j(){if(!b)return;const s=Math.round(c.score||c.ats_score||0);b.textContent=s,b.classList.remove("initial-loading"),b.classList.add("loaded"),console.log("📊 SCORE DEBUG: Received scores from backend:",{score:c.score,ats_score:c.ats_score,finalUsed:s,whichFieldUsed:c.score?"score":"ats_score"}),x&&(s>=80?x.style.borderColor="#10b981":s>=60?x.style.borderColor="#f59e0b":x.style.borderColor="#ef4444")}function U(){const s=c.detailedAnalysis||c.detailed_analysis||{},e=c.component_scores||{};console.log("📊 DEBUG: Full analysisData keys:",Object.keys(c)),console.log("📊 DEBUG: analysisData.detailedAnalysis exists:",!!c.detailedAnalysis),console.log("📊 DEBUG: analysisData.detailed_analysis exists:",!!c.detailed_analysis),console.log("📊 DEBUG: detailedAnalysis keys:",c.detailedAnalysis?Object.keys(c.detailedAnalysis):"NONE"),console.log("📊 DEBUG: detailedAnalysis count:",c.detailedAnalysis?Object.keys(c.detailedAnalysis).length:0),console.log("📊 Detailed Analysis:",s),console.log("📊 Component Scores:",e),y&&(y.innerHTML=""),v&&(v.innerHTML=""),g&&(g.innerHTML="");const t=G(e,s),n=t.filter(r=>r.score<6),o=t.filter(r=>r.score>=6&&r.score<9),i=t.filter(r=>r.score>=9);if(console.log("📊 Category breakdown:",{low:n.length,medium:o.length,high:i.length,total:t.length}),N){const r=n.length+o.length;N.textContent=`${r} areas need improvement out of ${t.length} categories analyzed`}E&&(E.textContent=n.length,E.classList.remove("initial-loading"),E.classList.add("loaded")),I&&(I.textContent=o.length,I.classList.remove("initial-loading"),I.classList.add("loaded")),w&&(w.textContent=i.length,w.classList.remove("initial-loading"),w.classList.add("loaded")),L&&(L.textContent=`${i.length} COMPLETED`,L.classList.remove("initial-loading"),L.classList.add("loaded")),W(n,o,i),V(n,o,i),z(n,o),q(i)}function G(s,e){const t=[];return console.log("🔍 Creating categories from comprehensive backend analysis:",e),e&&Object.keys(e).length>0?Object.entries(e).forEach(([n,o])=>{if(o&&typeof o.score<"u"){const i=Math.max(0,Math.min(10,Math.round(o.score))),r=n.split("_").map(u=>u.charAt(0).toUpperCase()+u.slice(1)).join(" ").replace("And","&"),d=o.issues&&o.issues.length>0?o.issues[0]:"Needs improvement",l=o.impact||"IMPROVEMENT";t.push({name:r,score:i,issue:d,impact:l}),console.log(`📊 ${r}: ${i}/10`)}else console.warn(`⚠️ No data for ${n}:`,o)}):console.error("❌ No comprehensive backend analysis found"),console.log(`📊 Final categories created: ${t.length} total`),console.log("📊 Categories:",t.map(n=>n.name)),t}function V(s,e,t){const n=document.getElementById("highPriorityDetailCount"),o=document.getElementById("needFixesDetailCount"),i=document.getElementById("completedDetailCount");n&&(n.textContent=s.length),o&&(o.textContent=e.length),i&&(i.textContent=t.length);const r=document.getElementById("highPriorityDetailList"),d=document.getElementById("needFixesDetailList"),l=document.getElementById("completedDetailList");if(r&&(r.innerHTML="",s.slice(0,5).forEach(a=>{const m=document.createElement("div");m.className="flex justify-between items-center py-1",m.innerHTML=`
                <span class="text-xs">${a.name}</span>
                <span class="text-xs font-medium text-red-600">${a.score}/10</span>
            `,r.appendChild(m)}),s.length>5)){const a=document.createElement("div");a.className="text-xs text-gray-400 py-1",a.textContent=`+${s.length-5} more items`,r.appendChild(a)}if(d&&(d.innerHTML="",e.slice(0,5).forEach(a=>{const m=document.createElement("div");m.className="flex justify-between items-center py-1",m.innerHTML=`
                <span class="text-xs">${a.name}</span>
                <span class="text-xs font-medium text-orange-600">${a.score}/10</span>
            `,d.appendChild(m)}),e.length>5)){const a=document.createElement("div");a.className="text-xs text-gray-400 py-1",a.textContent=`+${e.length-5} more items`,d.appendChild(a)}if(l&&(l.innerHTML="",t.slice(0,5).forEach(a=>{const m=document.createElement("div");m.className="flex justify-between items-center py-1",m.innerHTML=`
                <span class="text-xs">${a.name}</span>
                <span class="text-xs font-medium text-green-600">${a.score}/10</span>
            `,l.appendChild(m)}),t.length>5)){const a=document.createElement("div");a.className="text-xs text-gray-400 py-1",a.textContent=`+${t.length-5} more items`,l.appendChild(a)}const u=document.getElementById("summaryInsights");if(u){let a="";s.length>0?a=`Focus on ${s[0].name.toLowerCase()} first - it has the biggest impact on your ATS score`:e.length>0?a=`Great job! Focus on ${e[0].name.toLowerCase()} for further improvement`:a="Excellent! Your resume is well-optimized for ATS systems",u.textContent=a}}function W(s,e,t){y&&[...s,...e].forEach(n=>{const o=document.createElement("div");o.className="sidebar-item";const i=n.score<6?"text-red-600":"text-orange-600";o.innerHTML=`
                <span class="text-sm text-gray-700">${n.name}</span>
                <span class="text-sm font-bold ${i}">${n.score}/10</span>
            `,y.appendChild(o)}),v&&t.forEach(n=>{const o=document.createElement("div");o.className="sidebar-item",o.innerHTML=`
                <span class="text-sm text-gray-700">${n.name}</span>
                <span class="text-sm font-bold text-green-600">${n.score}/10</span>
            `,v.appendChild(o)})}function z(s,e){if(!g)return;const t=[...s,...e];if(t.length===0){g.innerHTML=`
            <div class="text-center py-8">
                <div class="text-6xl mb-4">🎉</div>
                <h3 class="text-xl font-semibold text-gray-900 mb-2">Perfect ATS Score!</h3>
                <p class="text-gray-600">All categories are optimized. Your resume is ready!</p>
            </div>
        `;return}t.forEach((n,o)=>{const i=document.createElement("div"),r=n.score<6?"severity-high":"severity-medium",d=n.score<6?"high":"medium";i.className=`issue-card ${r}`,i.innerHTML=`
            <div class="issue-content">
                <h3>${n.name}</h3>
                <p>${n.issue}</p>
                <div class="issue-meta">
                    <span class="score-badge">${n.score}/10</span>
                    <span class="impact-badge ${d}">${n.impact}</span>
                </div>
            </div>
            <button class="fix-button" onclick="handleFixIssue('${n.name}', ${o})">
                FIX →
            </button>
        `,g.appendChild(i)})}function q(s){if(S){if(s.length===0){S.innerHTML=`
            <div class="text-center py-8">
                <p class="text-gray-600">Complete the improvements above to unlock your strengths!</p>
            </div>
        `;return}s.forEach(e=>{const t=document.createElement("div");t.className="strength-item",t.innerHTML=`
            <div class="check-icon">
                <svg class="w-4 h-4 text-white" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                </svg>
            </div>
            <div class="strength-content">
                <h4>${e.name}</h4>
                <p>Excellent! Your ${e.name.toLowerCase()} is well-optimized for ATS systems.</p>
            </div>
        `,S.appendChild(t)})}}function J(){const s=document.getElementById("toggleSummaryBtn"),e=document.getElementById("toggleSummaryIcon"),t=document.getElementById("summaryDetails");s&&e&&t&&s.addEventListener("click",()=>{t.classList.contains("hidden")?(t.classList.remove("hidden"),e.style.transform="rotate(180deg)",s.title="Hide detailed breakdown"):(t.classList.add("hidden"),e.style.transform="rotate(0deg)",s.title="Show detailed breakdown")});const n=document.getElementById("toggleIssuesBtn"),o=document.getElementById("toggleIcon");n&&g&&o&&n.addEventListener("click",()=>{g.classList.contains("hidden")?(g.classList.remove("hidden"),o.style.transform="rotate(180deg)",n.querySelector("h3").textContent="Hide Detailed Issues",n.querySelector("p").textContent="Collapse the detailed issues breakdown"):(g.classList.add("hidden"),o.style.transform="rotate(0deg)",n.querySelector("h3").textContent="Show Detailed Issues",n.querySelector("p").textContent="View the detailed issues breakdown")});const i=document.getElementById("toggleStrengthsBtn"),r=document.getElementById("toggleStrengthsIcon"),d=document.getElementById("strengthsContent"),l=document.getElementById("strengthsSection");i&&r&&d&&(l&&l.classList.remove("hidden"),i.addEventListener("click",()=>{d.classList.contains("hidden")?(d.classList.remove("hidden"),r.style.transform="rotate(180deg)",i.querySelector("h3").textContent="Hide What You Did Well",i.querySelector("p").textContent="Collapse the strengths section"):(d.classList.add("hidden"),r.style.transform="rotate(0deg)",i.querySelector("h3").textContent="Show What You Did Well",i.querySelector("p").textContent="View areas where your resume already excels")}))}async function B(){if(h)return h;try{const t=`${window.location.hostname!=="localhost"&&window.location.hostname!=="127.0.0.1"?"https://bestcvbuilder-api.onrender.com/api":"/api"}/config/`,n=await fetch(t,{method:"GET",headers:{"Content-Type":"application/json"}});if(!n.ok)throw new Error(`Config fetch failed: ${n.status}`);return h=await n.json(),console.log("🔧 App config loaded:",h),h}catch(s){return console.error("⚠️ Failed to fetch app config, using defaults:",s),h={bypass_payment:!0,free_mode_enabled:!0,features:{free_cv_rewrite:!0,payment_bypass:!0}},h}}async function P(s="upgrade"){console.log(`🚀 CTA clicked from: ${s}`);const e=JSON.parse(sessionStorage.getItem("customerInfo")||"{}");console.log("👤 Customer info for CV rewrite:",e);const t=await B(),n=t.bypass_payment||t.free_mode_enabled;console.log(`🔧 Payment bypass enabled: ${n}`),n?(console.log("✅ Free mode: proceeding directly to TXT download"),await K()):(console.log("💳 Paid mode: redirecting to payment page"),sessionStorage.setItem("pendingAnalysis",JSON.stringify(c)),sessionStorage.setItem("customerInfoForPayment",JSON.stringify(e)),window.location.href="./payment.html")}async function K(){console.log("📄 Showing TXT download page...");try{X(),console.log("🔍 DEBUGGING TXT REPORT GENERATION"),console.log("📊 Full analysisData keys:",Object.keys(c)),console.log("📊 analysisData structure:",JSON.stringify(c,null,2));const s=c.comprehensive_issues_report;if(console.log("🔍 comprehensive_issues_report field:",s),console.log("🔍 Type of comprehensive_issues_report:",typeof s),console.log("🔍 Is null/undefined?",s==null),s&&s.length>0)sessionStorage.setItem("comprehensiveReport",s),console.log("✅ Comprehensive report found and stored"),console.log("📄 Report length:",s.length),console.log("📄 Report preview (first 200 chars):",s.substring(0,200));else{console.log("⚠️ FALLBACK TRIGGERED:"),console.log("   - comprehensiveReport exists?",!!s),console.log("   - comprehensiveReport length?",(s==null?void 0:s.length)||"N/A"),console.log("   - comprehensiveReport content?",s||"NULL/UNDEFINED");const e=Y();sessionStorage.setItem("comprehensiveReport",e),console.log("⚠️ Generated basic report as fallback"),console.log("📄 Basic report length:",e.length)}window.location.href="./download-report.html"}catch(s){console.error("❌ Failed to show TXT download page:",s),Z(),alert("Failed to generate issues report. Please try again.")}}function Y(){const s=c.score||c.ats_score||0,e=c.detailedAnalysis||c.detailed_analysis||{};let t=`ATS ISSUES REPORT
`;return t+=`${"=".repeat(50)}
`,t+=`Current ATS Score: ${s}/100
`,t+=`Report Generated: ${new Date().toLocaleString()}

`,t+=`ISSUES BY CATEGORY
`,t+=`${"-".repeat(30)}

`,Object.entries(e).forEach(([n,o])=>{if(o&&o.score<10){const i=n.split("_").map(r=>r.charAt(0).toUpperCase()+r.slice(1)).join(" ");t+=`${i}: ${o.score}/10
`,o.issues&&o.issues.length>0&&o.issues.forEach(r=>{t+=`  • ${r}
`}),o.suggestions&&o.suggestions.length>0&&o.suggestions.forEach(r=>{t+=`  → ${r}
`}),t+=`
`}}),t+=`
Generated by BestCVBuilder.com
`,t+=`Your ATS Optimization Partner
`,t}function X(){f&&(f.disabled=!0,f.innerHTML="🔄 Processing Your CV...",f.classList.add("loading"));const s=document.getElementById("modalFixAllBtn");s&&(s.disabled=!0,s.innerHTML="🔄 Processing...",s.classList.add("loading"))}function Z(){f&&(f.disabled=!1,f.innerHTML="🚀 FIX MY RESUME NOW - FREE 🚀",f.classList.remove("loading"));const s=document.getElementById("modalFixAllBtn");s&&(s.disabled=!1,s.innerHTML="🚀 Fix for Free - Instant Results",s.classList.remove("loading"))}function $(s){if(!s)return null;const e=s.replace(/[^\d+]/g,"");if(e.startsWith("+91")){const t=e.substring(3);if(t.length===10&&/^[6-9]/.test(t))return`+91${t}`}else if(e.startsWith("91")){const t=e.substring(2);if(t.length===10&&/^[6-9]/.test(t))return`+91${t}`}else{if(e.length===10&&/^[6-9]/.test(e))return`+91${e}`;if(e.startsWith("+1")&&e.substring(2).length===10)return e;if(e.startsWith("+")&&e.length>=10&&e.length<=15)return e}return null}function M(s){if(!s||!s.startsWith("+"))return!1;if(s.startsWith("+91")){const e=s.substring(3);return e.length===10&&/^[6-9]\d{9}$/.test(e)}else if(s.startsWith("+1")){const e=s.substring(2);return e.length===10&&/^\d{10}$/.test(e)}else{const e=s.substring(1);return e.length>=9&&e.length<=14&&/^\d+$/.test(e)}}function F(s,e){let t=0;if(s.startsWith("+91")){t+=100;const n=s.substring(3);/^[6-9]/.test(n)&&(t+=50)}if(e.includes("+91")&&(t+=30),(e.includes("-")||e.includes(" "))&&(t+=20),s.startsWith("+")){const n=s.match(/^\+(\d{1,3})/)[1];t+=n.length*5}return t}function Q(){if(!c)return{email:"",mobile:"",name:""};let s="",e="",t="";const n=c.personal_information||c.personalInfo||{};console.log("🔍 DEBUG: Name extraction process starting..."),console.log("📊 Analysis data keys:",Object.keys(c)),console.log("👤 Personal info object:",n),console.log("👤 Personal info keys:",Object.keys(n)),n.email&&(s=n.email,console.log("📧 Email found in backend data:",s)),(n.phone||n.mobile)&&(e=n.phone||n.mobile,console.log("📞 Phone found in backend data:",e)),n.full_name||n.name?(t=n.full_name||n.name,console.log("✅ Name found in backend data:",t)):(console.log("❌ No name found in backend personal_information:"),console.log("  - full_name:",n.full_name),console.log("  - name:",n.name),console.log("  - Available fields:",Object.keys(n)));const o=c.content||c.resume_text||c.text||c.extractedText||"";if(!s&&o){const i=/\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Z|a-z]{2,}\b/g,r=o.match(i);r&&r.length>0&&(s=r.filter(l=>!l.match(/^[a-z][A-Z]/)&&l.length<50&&!l.includes("example")&&!l.includes("test"))[0]||r[0])}if(!e&&o){const i=[/\+91[-\s]?\d{5}[-\s]?\d{5}/g,/\+91[-\s]?\d{4}[-\s]?\d{6}/g,/\+91[-\s]?\d{3}[-\s]?\d{7}/g,/\+91[-\s]?\d{2}[-\s]?\d{4}[-\s]?\d{4}/g,/\+91[-.\s]?\d{10}/g,/\+91\s?\d{10}/g,/\+\d{1,3}[-\s]?\d{3,4}[-\s]?\d{3,4}[-\s]?\d{3,4}/g,/\+\d{1,3}[-.\s]?\d{10,}/g,/\b\d{5}[-\s]?\d{5}\b/g,/\b\d{4}[-\s]?\d{6}\b/g,/\b\d{3}[-\s]?\d{7}\b/g,/\b\d{10}\b/g,/\b\d{3}[-.\s]\d{3}[-.\s]\d{4}\b/g,/\(\d{3}\)\s?\d{3}[-.\s]\d{4}/g,/\b\d{11,12}\b/g];for(const r of i){const d=o.match(r);if(d&&d.length>0){for(const l of d){const u=l.trim(),a=$(u);if(a&&M(a)){const m=F(a,u);(!e||m>F(e,e))&&(e=a)}}if(e)break}}if(!e){const r=o.split(`
`),d=["phone","mobile","tel","cell","contact","call"];for(const l of r){const u=l.toLowerCase();if(d.some(a=>u.includes(a))){const a=l.match(/\d{10,}/g);if(a){const m=$(a[0]);if(m&&M(m)){e=m;break}}}}}}if(!t&&o){console.log("🔍 Frontend name extraction - backend didn't provide name, trying manual extraction...");const r=o.split(`
`).slice(0,8);console.log("📝 Checking first lines for name:",r.map((d,l)=>`Line ${l}: "${d.trim()}"`));for(const d of r){const l=d.trim(),u=[/@/,/http/,/\d{3,}/,/resume|cv/i,/curriculum|vitae/i,/profile|about/i,/contact|address/i,/\+\d+/,/\d{4}-\d{4}/,/\d+\s*(years?|months?)/i,/[.]{2,}/,/_{3,}|-{3,}/];if(l&&l.length>3&&l.length<60&&!u.some(a=>a.test(l))){const a=l.split(/\s+/);if(a.length>=2&&a.length<=5){const m={allTitleCase:a.every(p=>p.charAt(0).toUpperCase()===p.charAt(0)&&p.length>1&&/^[A-Za-zÀ-ÿ'.-]+$/.test(p)),reasonableLength:a.every(p=>p.length>=2&&p.length<=20),noNumbers:!l.match(/\d/),noSpecialChars:!l.match(/[#$%&*+=<>{}|\\]/),hasVowels:a.some(p=>/[aeiouAEIOU]/.test(p))};if(console.log(`📝 Evaluating "${l}":`,m),m.allTitleCase&&m.reasonableLength&&m.noNumbers&&m.noSpecialChars&&m.hasVowels){t=l,console.log(`✅ Found name: "${t}"`);break}else console.log(`❌ Rejected "${l}" - failed validation`)}}else if(l){const a=l.length<=3?"too short":l.length>=60?"too long":"matched skip pattern";console.log(`❌ Skipped "${l}" - ${a}`)}}if(!t&&s){const l=s.split("@")[0].split(/[._-]/);if(l.length>=2&&l.every(u=>u.length>=2)){const u=l.map(a=>a.charAt(0).toUpperCase()+a.slice(1).toLowerCase()).join(" ");t=u,console.log(`💡 Extracted name from email: "${u}"`)}}t||console.log("❌ No name could be extracted from resume content")}return console.log("📞 Extracted contact info:",{email:s,mobile:e,name:t}),{email:s,mobile:e,name:t}}function ee(s){console.log("🔍 CONTACT VALIDATION DEBUG:"),console.log("  - Input contact:",s);const e={...s};if(e.email&&(!e.email.includes("@")||e.email.length<5)?(console.log(`❌ Email rejected: "${e.email}" (invalid format or too short)`),e.email=""):e.email&&console.log(`✅ Email validated: "${e.email}"`),e.mobile){const t=e.mobile.replace(/[^\d]/g,"");t.length<10?(console.log(`❌ Mobile rejected: "${e.mobile}" (${t.length} digits, need 10+)`),e.mobile=""):console.log(`✅ Mobile validated: "${e.mobile}" (${t.length} digits)`)}return e.name&&(e.name.length<2||e.name.length>50)?(console.log(`❌ Name rejected: "${e.name}" (length: ${e.name.length}, need 2-50)`),e.name=""):e.name?console.log(`✅ Name validated: "${e.name}" (length: ${e.name.length})`):console.log("❌ No name provided for validation"),console.log("  - Output validated:",e),e}function R(){const s=document.getElementById("customerInfoModal");if(s){s.classList.remove("hidden");const e=Q(),t=ee(e);console.log("🎯 MODAL PREFILL DEBUG:"),console.log("  - Raw extracted:",e),console.log("  - After validation:",t);const n=document.getElementById("customerName"),o=document.getElementById("customerEmail"),i=document.getElementById("customerMobile");console.log("📝 Form inputs found:"),console.log("  - nameInput:",!!n),console.log("  - emailInput:",!!o),console.log("  - mobileInput:",!!i);let r=[];if(n&&t.name?(n.value=t.name,r.push("name"),console.log(`✅ Name prefilled: "${t.name}"`)):(console.log("❌ Name NOT prefilled:"),console.log("  - nameInput exists:",!!n),console.log("  - validatedContact.name:",t.name)),o&&t.email?(o.value=t.email,r.push("email"),console.log(`✅ Email prefilled: "${t.email}"`)):(console.log("❌ Email NOT prefilled:"),console.log("  - emailInput exists:",!!o),console.log("  - validatedContact.email:",t.email)),i&&t.mobile?(i.value=t.mobile,r.push("phone"),console.log(`✅ Mobile prefilled: "${t.mobile}"`)):(console.log("❌ Mobile NOT prefilled:"),console.log("  - mobileInput exists:",!!i),console.log("  - validatedContact.mobile:",t.mobile)),r.length>0){const d=document.getElementById("autoFillNotification"),l=document.getElementById("autoFillMessage");if(d&&l){const u={name:"name",email:"email",phone:"phone number"},a=r.map(m=>u[m]).join(", ");l.textContent=`${a} automatically extracted from your resume`,d.classList.remove("hidden"),console.log(`📝 Auto-fill notification shown for: ${a}`),setTimeout(()=>{r.includes("name")&&n&&n.classList.add("border-green-300","bg-green-50"),r.includes("email")&&o&&o.classList.add("border-green-300","bg-green-50"),r.includes("phone")&&i&&i.classList.add("border-green-300","bg-green-50")},100)}}se(),k(),te(),console.log("✅ Customer info modal shown with prefilled data")}}function A(){const s=document.getElementById("customerInfoModal");s&&s.classList.add("hidden")}function te(){const s=document.getElementById("customerInfoForm"),e=document.getElementById("customerName"),t=document.getElementById("customerEmail"),n=document.getElementById("customerMobile");document.getElementById("submitCustomerInfo");const o=document.getElementById("cancelCustomerInfo");o&&(o.removeEventListener("click",A),o.addEventListener("click",A)),[e,t,n].forEach(i=>{i&&(i.removeEventListener("input",k),i.addEventListener("input",k),i.removeEventListener("blur",_),i.addEventListener("blur",_))}),s&&(s.removeEventListener("submit",D),s.addEventListener("submit",D))}function k(){const s=document.getElementById("customerName"),e=document.getElementById("customerEmail"),t=document.getElementById("customerMobile"),n=document.getElementById("submitCustomerInfo"),o=(s==null?void 0:s.value.trim())||"",i=(e==null?void 0:e.value.trim())||"",r=(t==null?void 0:t.value.trim())||"",d=o.length>=2,l=i.includes("@")&&i.includes(".")&&i.length>=5,u=r.length>=10&&/[\d\s\+\-\(\)]+/.test(r),a=d&&l&&u;return n&&(n.disabled=!a,n.style.opacity=a?"1":"0.6"),a}function _(s){const e=s.target,t=e.value.trim();let n=!1,o="";switch(e.id){case"customerName":n=t.length>=2,o="Please enter your full name (at least 2 characters)";break;case"customerEmail":n=t.includes("@")&&t.includes(".")&&t.length>=5,o="Please enter a valid email address";break;case"customerMobile":n=t.length>=10&&/[\d\s\+\-\(\)]+/.test(t),o="Please enter a valid mobile number (at least 10 digits)";break}const i=e.id.replace("customer","").toLowerCase()+"Error",r=document.getElementById(i);r&&(t&&!n?(r.textContent=o,r.classList.remove("hidden"),e.classList.add("border-red-500")):(r.classList.add("hidden"),e.classList.remove("border-red-500")))}function se(){["nameError","emailError","mobileError"].forEach(s=>{const e=document.getElementById(s);e&&e.classList.add("hidden")}),["customerName","customerEmail","customerMobile"].forEach(s=>{const e=document.getElementById(s);e&&e.classList.remove("border-red-500")})}async function D(s){if(s.preventDefault(),!k())return;const e=new FormData(s.target),t={name:e.get("name"),email:e.get("email"),mobile:e.get("mobile")};console.log("👤 Customer info collected:",t);const n=document.getElementById("submitCustomerInfo");n&&(n.disabled=!0,n.textContent="Creating Order...");try{const o=await ne(t);if(o){console.log(`✅ Order created successfully: ${o}`),sessionStorage.setItem("customerInfo",JSON.stringify(t)),sessionStorage.setItem("orderId",o),A();const i=await B();i.bypass_payment||i.free_mode_enabled?(console.log("✅ Payment bypass enabled, proceeding to TXT download"),sessionStorage.setItem("pendingAnalysis",JSON.stringify(c)),P("customer_info")):(console.log("💳 Payment required, redirecting to order page"),sessionStorage.setItem("pendingAnalysis",JSON.stringify(c)),window.location.href="./create-order.html")}else throw new Error("Order creation failed - no order ID received")}catch(o){console.error("❌ Order creation error:",o),oe(o.message),n&&(n.disabled=!1,n.textContent="Continue")}}async function ne(s){try{const e=JSON.parse(sessionStorage.getItem("atsAnalysis")||"{}");if(!e||!e.content&&!e.resume_text)throw new Error("Analysis data not found. Please analyze your resume again.");const t={email:s.email,phone:s.mobile,analysis_data:e,user_id:null};console.log("📦 Creating order with data:",{email:t.email,phone:t.phone,hasAnalysisData:!!t.analysis_data});const o=window.location.hostname!=="localhost"&&window.location.hostname!=="127.0.0.1"?"https://bestcvbuilder-api.onrender.com/api":"/api",i=await fetch(`${o}/orders/create-order`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!i.ok){const d=await i.json();throw new Error(d.error||`HTTP ${i.status}: Order creation failed`)}const r=await i.json();if(!r.success||!r.order)throw new Error(r.error||"Invalid response from server");return console.log("✅ Order created:",{orderId:r.order.order_id,email:r.order.order_email,mobile:r.order.order_mobile,amount:r.amount,currency:r.currency}),sessionStorage.setItem("orderDetails",JSON.stringify({orderId:r.order.order_id,amount:r.amount,currency:r.currency,createdAt:new Date().toISOString()})),r.order.order_id}catch(e){throw console.error("❌ Create order error:",e),e}}function oe(s){let e=document.getElementById("orderCreationError");if(!e){e=document.createElement("div"),e.id="orderCreationError",e.className="mt-4 p-3 bg-red-50 border border-red-200 rounded-lg";const t=document.getElementById("customerInfoForm"),n=t==null?void 0:t.querySelector(".flex.space-x-3");n&&t.insertBefore(e,n)}e.innerHTML=`
        <div class="flex items-start">
            <div class="flex-shrink-0">
                <svg class="h-5 w-5 text-red-400" viewBox="0 0 20 20" fill="currentColor">
                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd" />
                </svg>
            </div>
            <div class="ml-3">
                <h3 class="text-sm font-medium text-red-800">Order Creation Failed</h3>
                <p class="mt-1 text-sm text-red-700">${s}</p>
                <p class="mt-2 text-xs text-red-600">Please try again or contact support if the issue persists.</p>
            </div>
        </div>
    `,setTimeout(()=>{e&&e.parentNode&&e.remove()},5e3)}function ie(){f&&f.addEventListener("click",()=>{R()})}function re(){const s=document.getElementById("issueModal"),e=document.getElementById("closeModal"),t=document.getElementById("modalCloseBtn"),n=document.getElementById("modalFixAllBtn");[e,t].forEach(o=>{o&&o.addEventListener("click",C)}),n&&n.addEventListener("click",De),s&&s.addEventListener("click",o=>{o.target===s&&C()}),document.addEventListener("keydown",o=>{o.key==="Escape"&&s&&!s.classList.contains("hidden")&&C()})}function ae(s,e){console.log("🔧 Fix issue clicked:",s,e),le(s)}function le(s){const e=document.getElementById("issueModal"),t=document.getElementById("modalTitle"),n=document.getElementById("modalIssuesList");if(!e||!t||!n){console.error("Modal elements not found");return}console.log("🔍 Looking for modal content for category:",s);const o=ce(s);o?(console.log("✅ Found backend modal content:",o),de(o,s)):(console.log("⚠️ No backend modal content found, using frontend fallback"),me(s)),e.classList.remove("hidden")}function ce(s){try{const e=c.detailedAnalysis||c.detailed_analysis||{};if(!e||Object.keys(e).length===0)return console.warn("No detailed analysis data available"),null;const t=s.toLowerCase().replace(/\s+/g,"_").replace(/&/g,"and");console.log("🔍 Looking for backend category:",t),console.log("🔍 Available categories:",Object.keys(e));const n=e[t];return n&&n.modal_content?(console.log("✅ Found modal content for",t,":",n.modal_content),n.modal_content):(console.warn(`No modal content found for category: ${t}`),null)}catch(e){return console.error("Error extracting modal content from analysis data:",e),null}}function de(s,e){const t=document.getElementById("modalTitle"),n=document.getElementById("modalIssuesList");if(!t||!n)return;if(t.textContent=s.title||`${e} Issues Found`,n.innerHTML="",s.generic_explanation){const r=document.createElement("div");r.className="bg-blue-50 border-l-4 border-blue-400 p-4 mb-6",r.innerHTML=`
            <h3 class="text-lg font-semibold text-blue-900 mb-3">Why This Matters for ATS</h3>
            <div class="text-sm text-blue-800 leading-relaxed whitespace-pre-line">${s.generic_explanation}</div>
        `,n.appendChild(r)}if(s.dynamic_examples&&s.dynamic_examples.length>0){const r=document.createElement("div");r.className="bg-red-50 border-l-4 border-red-400 p-3 mb-3",r.innerHTML=`
            <h3 class="text-md font-semibold text-red-900 mb-2">Issues Found</h3>
            <div class="space-y-2">
                ${s.dynamic_examples.map((d,l)=>`
                    <div class="bg-white border border-red-200 rounded p-2">
                        <div class="flex items-start gap-2">
                            <div class="w-1.5 h-1.5 bg-red-500 rounded-full mt-1.5 flex-shrink-0"></div>
                            <div class="flex-1">
                                <p class="text-xs font-medium text-gray-900 mb-1">${d.issue}</p>
                                <div class="bg-gray-50 border border-gray-200 rounded p-1 font-mono text-xs text-gray-600 mb-1">
                                    "${d.example}"
                                </div>
                                <p class="text-xs text-red-600">${d.suggestion}</p>
                            </div>
                        </div>
                    </div>
                `).join("")}
            </div>
        `,n.appendChild(r)}const o=document.createElement("div");o.className="bg-gradient-to-r from-green-50 to-green-100 border-2 border-green-300 rounded-lg p-3 text-center mt-3",o.innerHTML=`
        <div class="text-lg mb-2">🚀</div>
        <h4 class="text-md font-bold text-green-800 mb-2">Ready to Fix These Issues?</h4>
        <p class="text-xs text-green-600">✓ Instant results • ✓ No credit card required</p>
    `,n.appendChild(o);const i=document.getElementById("modalFixAllBtn");i&&O(i)}function me(s){const e=document.getElementById("modalTitle"),t=document.getElementById("modalIssuesList");e.textContent=`${s} Issues Found`;const n=ue(s);t.innerHTML="",n.forEach((r,d)=>{const l=document.createElement("div");l.className="bg-gray-50 border border-gray-200 rounded-lg p-4",l.innerHTML=`
            <div class="flex items-start gap-3">
                <div class="w-2 h-2 bg-red-500 rounded-full mt-2 flex-shrink-0"></div>
                <div class="flex-1">
                    <p class="text-sm font-medium text-gray-900 mb-1">${r.description}</p>
                    <div class="bg-white border border-gray-200 rounded p-2 font-mono text-xs text-gray-700">
                        "${r.cvLine}"
                    </div>
                    <p class="text-xs text-gray-500 mt-1">Line ${r.lineNumber} in your resume</p>
                </div>
            </div>
        `,t.appendChild(l)});const o=document.createElement("div");o.className="bg-gradient-to-r from-green-50 to-green-100 border-2 border-green-300 rounded-lg p-3 text-center mt-3",o.innerHTML=`
        <div class="text-lg mb-2">🚀</div>
        <h4 class="text-md font-bold text-green-800 mb-2">Ready to Fix These Issues?</h4>
        <p class="text-xs text-green-600">✓ Instant results • ✓ No credit card required</p>
    `,t.appendChild(o);const i=document.getElementById("modalFixAllBtn");i&&O(i)}function ue(s){const e=c.content||"";if(!e)return[{description:"Resume content not available for detailed analysis",cvLine:"Please re-upload your resume",lineNumber:0}];const t=e.split(`
`).filter(o=>o.trim().length>5);let n=[];switch(s){case"Personal Pronouns":n=ge(t);break;case"Grammar":n=fe(t);break;case"Spelling":n=pe(t);break;case"Action Verbs":n=he(t);break;case"Contact Details":n=be(t);break;case"Education Section":n=ye(t);break;case"Skills Section":n=ve(t);break;case"Use Of Bullets":n=xe(t);break;case"Quantifiable Achievements":n=Le(t);break;case"Summary":n=Ee(t);break;case"Repetition":n=Ie(t);break;case"Verbosity":n=we(t);break;case"Verb Tenses":n=Ce(t);break;case"Active Voice":n=Ne(t);break;case"Page Density":n=ke(t);break;case"Unnecessary Sections":n=Be(t);break;case"Growth Signals":n=Se(t);break;case"Drive":n=Ae(t);break;case"Leadership":n=Te(t);break;case"Teamwork":n=$e(t);break;case"Analytical":n=Me(t);break;case"Certifications":n=Fe(t);break;default:n=_e(t,s);break}return n.slice(0,3)}function ge(s){const e=[],t=["I "," I ","My ","Me ","Myself","Mine"];return s.forEach((n,o)=>{const i=t.find(r=>n.includes(r));i&&e.push({description:`Remove personal pronoun "${i.trim()}" for professional tone`,cvLine:n.trim(),lineNumber:o+1})}),e.length===0&&e.push({description:"Personal pronouns detected in resume content",cvLine:"No specific examples found in current analysis",lineNumber:0}),e}function fe(s){const e=[];return s.forEach((t,n)=>{t.includes(" and ")&&!t.includes(",")&&t.length>50?e.push({description:"Consider adding comma before coordinating conjunction",cvLine:t.trim(),lineNumber:n+1}):t.match(/\b(develop|create|manage)\b.*\b(developed|created|managed)\b/i)&&e.push({description:"Inconsistent verb tense in same sentence",cvLine:t.trim(),lineNumber:n+1})}),e.length===0&&e.push({description:"Grammar improvements suggested for this section",cvLine:s[0]||"No content available",lineNumber:1}),e}function pe(s){const e=[],t={managment:"management",developement:"development",responsable:"responsible",sucessful:"successful",comunication:"communication"};return s.forEach((n,o)=>{Object.keys(t).forEach(i=>{n.toLowerCase().includes(i)&&e.push({description:`Misspelled word: "${i}" should be "${t[i]}"`,cvLine:n.trim(),lineNumber:o+1})})}),e.length===0&&e.push({description:"Spelling optimization suggested for better ATS compatibility",cvLine:s[0]||"No content available",lineNumber:1}),e}function he(s){const e=[],t=["did","worked on","was responsible","helped with","involved in"];return s.forEach((n,o)=>{const i=t.find(r=>n.toLowerCase().includes(r));i&&e.push({description:`Replace weak verb phrase "${i}" with stronger action verb`,cvLine:n.trim(),lineNumber:o+1})}),e.length===0&&e.push({description:"Action verb strength can be improved",cvLine:s[0]||"No content available",lineNumber:1}),e}function be(s){const e=[],t=s.slice(0,10),n=t.some(r=>r.includes("@")),o=t.some(r=>/\d{3}[-.\s]?\d{3}[-.\s]?\d{4}/.test(r)),i=t.some(r=>r.toLowerCase().includes("linkedin"));return n||e.push({description:"Professional email address should be prominently displayed",cvLine:t[0]||"Header section",lineNumber:1}),o||e.push({description:"Phone number should be included in contact information",cvLine:t[0]||"Header section",lineNumber:1}),i||e.push({description:"LinkedIn profile URL should be included",cvLine:t[0]||"Header section",lineNumber:1}),e}function ye(s){const e=[],t=["education","degree","university","college","bachelor","master","phd","graduated"];s.some(i=>t.some(r=>i.toLowerCase().includes(r)))||e.push({description:"Education section not clearly identified",cvLine:"Add clear education section with degree details",lineNumber:0});const o=s.filter(i=>t.some(r=>i.toLowerCase().includes(r)));return o.forEach((i,r)=>{!i.match(/\b(19|20)\d{2}\b/)&&!i.match(/\b\d{4}\b/)&&e.push({description:"Missing graduation year in education entry",cvLine:i.trim(),lineNumber:s.indexOf(i)+1})}),e.length===0&&e.push({description:"Education section format can be optimized",cvLine:o[0]||"Education section",lineNumber:1}),e}function ve(s){const e=[],t=["skills","technical skills","core competencies","technologies"],n=s.find(o=>t.some(i=>o.toLowerCase().includes(i)));return n||e.push({description:"Skills section not clearly labeled",cvLine:"Add dedicated skills or technical competencies section",lineNumber:0}),s.forEach((o,i)=>{o.includes(",")&&o.split(",").length>5&&e.push({description:"Long comma-separated list - consider bullet points",cvLine:o.trim(),lineNumber:i+1})}),e.length===0&&e.push({description:"Skills presentation can be enhanced for ATS parsing",cvLine:n||s[0],lineNumber:1}),e}function xe(s){const e=[];return s.forEach((t,n)=>{const o=t.trim();o.match(/^(managed|led|developed|created|implemented|achieved)/i)&&!o.startsWith("•")&&!o.startsWith("-")&&e.push({description:"Achievement statement should use bullet points",cvLine:o,lineNumber:n+1}),(o.startsWith("•")||o.startsWith("-"))&&o.length>150&&e.push({description:"Bullet point too long - keep under 150 characters",cvLine:o,lineNumber:n+1})}),e.length===0&&e.push({description:"Bullet point formatting is optimized",cvLine:"No specific improvements needed",lineNumber:0}),e}function Le(s){const e=[];return s.forEach((t,n)=>{t.match(/\b(increased|improved|reduced|achieved|grew|saved|generated)\b/i)&&!t.match(/\d+/)&&!t.includes("%")&&e.push({description:"Add specific numbers or percentages to quantify achievement",cvLine:t.trim(),lineNumber:n+1}),t.match(/\b(many|several|various|multiple|significant)\b/i)&&e.push({description:"Replace vague terms with specific numbers",cvLine:t.trim(),lineNumber:n+1})}),e.length===0&&e.push({description:"Add more quantified achievements with specific metrics",cvLine:"Include numbers, percentages, and measurable results",lineNumber:0}),e}function Ee(s){const e=[],t=["summary","profile","objective","about"],n=s.find(i=>t.some(r=>i.toLowerCase().includes(r)));n||e.push({description:"Professional summary section missing",cvLine:"Add professional summary at the top of resume",lineNumber:1});const o=s.slice(0,5);return o.forEach((i,r)=>{i.length>200&&e.push({description:"Summary statement too long - keep under 200 characters",cvLine:i.trim(),lineNumber:r+1})}),e.length===0&&e.push({description:"Summary section can be optimized for impact",cvLine:n||o[0],lineNumber:1}),e}function Ie(s){const e=[],t={};return s.forEach(o=>{o.toLowerCase().split(/\s+/).filter(r=>r.length>4).forEach(r=>{t[r]=(t[r]||0)+1})}),Object.entries(t).filter(([o,i])=>i>5).forEach(([o,i])=>{const r=s.find(d=>d.toLowerCase().includes(o));r&&e.push({description:`Word "${o}" used ${i} times - consider synonyms`,cvLine:r.trim(),lineNumber:s.indexOf(r)+1})}),e.length===0&&e.push({description:"Word variety is good - no excessive repetition detected",cvLine:"Content shows good vocabulary diversity",lineNumber:0}),e}function we(s){const e=[];return s.forEach((t,n)=>{t.length>120&&!t.includes("•")&&!t.includes("-")&&e.push({description:"Line too long - break into shorter, clearer statements",cvLine:t.trim(),lineNumber:n+1}),["in order to","due to the fact that","with regard to","for the purpose of"].forEach(i=>{t.toLowerCase().includes(i)&&e.push({description:`Replace wordy phrase "${i}" with simpler alternative`,cvLine:t.trim(),lineNumber:n+1})})}),e.length===0&&e.push({description:"Content is appropriately concise",cvLine:"Good balance of detail and brevity",lineNumber:0}),e}function Ce(s){const e=[];return s.forEach((t,n)=>{t.match(/\b(manage|develop|create)\b.*\b(managed|developed|created)\b/i)&&e.push({description:"Mixed verb tenses in same statement - use consistent tense",cvLine:t.trim(),lineNumber:n+1}),t.match(/\b(currently|presently)\b/i)&&t.match(/\b(managed|developed|created)\b/i)&&e.push({description:"Use present tense for current role, past tense for previous roles",cvLine:t.trim(),lineNumber:n+1})}),e.length===0&&e.push({description:"Verb tense consistency can be improved",cvLine:"Review tense usage throughout resume",lineNumber:0}),e}function Ne(s){const e=[],t=["was responsible","were responsible","was tasked","were given","was assigned"];return s.forEach((n,o)=>{t.forEach(i=>{n.toLowerCase().includes(i)&&e.push({description:`Convert passive voice "${i}" to active voice`,cvLine:n.trim(),lineNumber:o+1})})}),e.length===0&&e.push({description:"Active voice usage is strong throughout resume",cvLine:"Good use of action-oriented language",lineNumber:0}),e}function ke(s){const e=[],t=s.length,n=s.reduce((o,i)=>o+i.length,0)/t;return t<20?e.push({description:"Resume appears too sparse - add more relevant content",cvLine:`Total content: ${t} lines`,lineNumber:0}):t>60&&e.push({description:"Resume appears too dense - consider condensing content",cvLine:`Total content: ${t} lines`,lineNumber:0}),n>100&&e.push({description:"Average line length too long - use more white space",cvLine:`Average line length: ${Math.round(n)} characters`,lineNumber:0}),e.length===0&&e.push({description:"Page density is well-balanced",cvLine:"Good use of white space and content distribution",lineNumber:0}),e}function Be(s){const e=[],t=["references","hobbies","interests","personal information"];return s.forEach((n,o)=>{t.forEach(i=>{n.toLowerCase().includes(i)&&e.push({description:`Consider removing "${i}" section - not ATS-friendly`,cvLine:n.trim(),lineNumber:o+1})})}),e.length===0&&e.push({description:"All sections appear relevant and necessary",cvLine:"Good focus on professional content",lineNumber:0}),e}function Se(s){const e=[],t=["promoted","advanced","progressed","increased responsibility","leadership role"];s.some(i=>t.some(r=>i.toLowerCase().includes(r)))||e.push({description:"Add evidence of career progression and growth",cvLine:"Include promotions, increased responsibilities, or skill development",lineNumber:0});const o=[];return s.forEach(i=>{const r=i.match(/\b(19|20)\d{2}\b/g);r&&o.push(...r)}),o.length<2&&e.push({description:"Include dates to show career timeline and progression",cvLine:"Add employment dates to demonstrate growth over time",lineNumber:0}),e}function Ae(s){const e=[],t=["initiated","pioneered","launched","established","founded","created","innovated"];return s.some(o=>t.some(i=>o.toLowerCase().includes(i)))||e.push({description:"Add examples of initiative and self-motivation",cvLine:"Include projects you initiated or innovative solutions you created",lineNumber:0}),e}function Te(s){const e=[],t=["led","managed","supervised","directed","coordinated","team","leadership"];return s.some(o=>t.some(i=>o.toLowerCase().includes(i)))||e.push({description:"Add leadership experiences and team management examples",cvLine:"Include team leadership, project management, or mentoring experience",lineNumber:0}),e}function $e(s){const e=[],t=["collaborated","partnered","worked with","cross-functional","team member"];return s.some(o=>t.some(i=>o.toLowerCase().includes(i)))||e.push({description:"Add examples of collaboration and teamwork",cvLine:"Include cross-functional projects or collaborative achievements",lineNumber:0}),e}function Me(s){const e=[],t=["analyzed","evaluated","assessed","researched","investigated","data","metrics"];return s.some(o=>t.some(i=>o.toLowerCase().includes(i)))||e.push({description:"Add examples of analytical and problem-solving skills",cvLine:"Include data analysis, research, or problem-solving achievements",lineNumber:0}),e}function Fe(s){const e=[],t=["certified","certification","license","credential","certificate"];return s.some(o=>t.some(i=>o.toLowerCase().includes(i)))||e.push({description:"Add relevant professional certifications and credentials",cvLine:"Include industry certifications, licenses, or training certificates",lineNumber:0}),e}function _e(s,e){return[{description:`Optimization needed for ${e} section`,cvLine:s[0]||"Content analysis in progress",lineNumber:1}]}function C(){const s=document.getElementById("issueModal");s&&s.classList.add("hidden")}function De(){console.log("🚀 Modal Fix All clicked"),C();const s=JSON.parse(sessionStorage.getItem("customerInfo")||"{}");s.name&&s.email&&s.mobile?(console.log("✅ Customer info already available, proceeding to CV rewrite"),P("modal")):(console.log("📝 Customer info needed, showing collection modal"),R())}function Oe(s){console.error("❌ Error:",s),b&&(b.textContent="—"),N&&(N.textContent=s),g&&(g.innerHTML=`
            <div class="bg-red-50 border border-red-200 rounded-xl p-6 text-center">
                <div class="w-16 h-16 mx-auto mb-4 bg-red-100 rounded-full flex items-center justify-center">
                    <span class="text-2xl text-red-600">❌</span>
                </div>
                <h3 class="text-lg font-bold text-red-900 mb-2">No Analysis Data Found</h3>
                <p class="text-red-700 mb-4">${s}</p>
                <button onclick="window.location.href='./index.html'" class="bg-red-600 text-white px-6 py-2 rounded-xl hover:bg-red-700 transition-colors">
                    Upload Resume
                </button>
            </div>
        `,g.classList.remove("hidden")),y&&(y.innerHTML='<div class="text-sm text-gray-500 p-4">No data available</div>'),v&&(v.innerHTML='<div class="text-sm text-gray-500 p-4">No data available</div>')}window.handleFixIssue=ae;document.readyState==="loading"?document.addEventListener("DOMContentLoaded",T):T();
