import"./supabase-DQ_B3N6C-v2.js";import"./atsAnalysis-CFcDtclU-v2.js";console.log("üöÄ PROFESSIONAL SUMMARY DEBUG VERSION LOADED");console.log("üöÄ This version has comprehensive debugging for Professional Summary scoring");const T=document.getElementById("atsScore"),S=document.getElementById("scoreCircle"),z=document.getElementById("markedAsDone"),M=document.getElementById("topFixesList"),I=document.getElementById("completedList"),w=document.getElementById("issuesList"),O=document.getElementById("strengthsList"),W=document.getElementById("strengthsSection"),N=document.getElementById("upgradeBtn");let f=null,v=[],y=null,x=null;async function $(){var t;console.log("üöÄ DEBUG: Starting result.js initialization...");try{console.log("üîç DEBUG: Step 1 - Loading analysis data from session storage...");const e=sessionStorage.getItem("atsAnalysis");if(!e){console.error("‚ùå DEBUG: No analysis data found in session storage"),console.log("üîç DEBUG: Available session storage keys:",Object.keys(sessionStorage)),window.location.href="./index.html";return}console.log("‚úÖ DEBUG: Step 1 Complete - Found stored data, length:",e.length),console.log("üîç DEBUG: Step 2 - Parsing JSON data..."),f=JSON.parse(e),console.log("‚úÖ DEBUG: Step 2 Complete - Analysis data loaded:",{hasScore:!!f.score,score:f.score,hasContent:!!f.content,contentLength:((t=f.content)==null?void 0:t.length)||0,keys:Object.keys(f)}),console.log("üîç DEBUG: Step 3 - Loading config files..."),await Y(),console.log("‚úÖ DEBUG: Step 3 Complete - Config files loaded"),console.log("üîç DEBUG: Step 4 - Displaying overall score..."),ae(f),console.log("‚úÖ DEBUG: Step 4 Complete - Overall score displayed"),console.log("üîç DEBUG: Step 5 - Displaying sidebar categories...");const n=re(f);console.log("‚úÖ DEBUG: Step 5 Complete - Sidebar categories displayed"),console.log("üîç DEBUG: Step 6 - Displaying main issues list..."),it(f,n),console.log("‚úÖ DEBUG: Step 6 Complete - Main issues list displayed"),console.log("üîç DEBUG: Step 7 - Displaying strengths..."),at(f),console.log("‚úÖ DEBUG: Step 7 Complete - Strengths displayed"),console.log("üîç DEBUG: Step 8 - Setting up event handlers..."),wt(),console.log("‚úÖ DEBUG: Step 8 Complete - Event handlers setup"),console.log("üéâ DEBUG: All initialization steps completed successfully!")}catch(e){console.error("‚ùå DEBUG: Error in initialization step:",e),console.error("‚ùå DEBUG: Full error details:",{message:e.message,stack:e.stack,name:e.name}),q()}}function q(){if(console.log("Displaying fallback results..."),f&&T&&(T.textContent=Math.round(f.score||75),S)){const t=f.score||75;t>=80?S.style.borderColor="#10b981":t>=60?S.style.borderColor="#f59e0b":S.style.borderColor="#ef4444"}w&&(w.innerHTML=`
            <div class="bg-blue-50 border border-blue-200 rounded-xl p-6 text-center">
                <h3 class="text-xl font-bold text-blue-900 mb-2">Analysis Complete!</h3>
                <p class="text-blue-700">Your resume has been analyzed. Click the button below to get your optimized version.</p>
            </div>
        `)}async function Y(){console.log("üîß DEBUG: Starting config file loading...");try{console.log("üîß DEBUG: Config Step 1 - Loading skills-buzzwords.json...");const t=await fetch("./config/skills-buzzwords.json");console.log("üîß DEBUG: Skills response status:",t.status,t.statusText),t.ok?(y=await t.json(),console.log("‚úÖ DEBUG: Skills-buzzwords config loaded successfully:",{hasConfig:!!y,keys:y?Object.keys(y):[]})):console.warn("‚ö†Ô∏è DEBUG: Failed to load skills-buzzwords.json - Status:",t.status),console.log("üîß DEBUG: Config Step 2 - Loading action-verbs.json...");const e=await fetch("./config/action-verbs.json");console.log("üîß DEBUG: Verbs response status:",e.status,e.statusText),e.ok?(x=await e.json(),window.actionVerbsConfig=x,console.log("‚úÖ DEBUG: Action-verbs config loaded successfully:",{hasConfig:!!x,keys:x?Object.keys(x):[]})):console.warn("‚ö†Ô∏è DEBUG: Failed to load action-verbs.json - Status:",e.status),console.log("üîß DEBUG: Config loading completed")}catch(t){console.error("‚ùå DEBUG: Error loading config files:",{message:t.message,stack:t.stack,name:t.name})}}function K(t){let e=10;const n=["STRONG_ACCOMPLISHMENT_DRIVEN_VERBS","ENTREPRENEURIAL_SKILLS","MANAGEMENT_SKILLS","LEADERSHIP_MENTORSHIP_AND_TEACHING_SKILLS","PROBLEM_SOLVING_SKILLS","COMMUNICATION_SKILLS","RESEARCH_AND_ANALYSIS_SKILLS","PROCESS_IMPROVEMENT_CONSULTING_AND_OPERATIONS","FINANCIAL_SKILLS","DESIGN_AND_CREATIVE_SKILLS","ENGINEERING_TECHNICAL_ROLES","TEAMWORK_COLLABORATION_SKILLS"],o=ze(t);if(o.length===0)return 3;let s={},i=[];console.log("üîç ACTION VERBS: Starting categorization..."),console.log("üîç ACTION VERBS: ActionVerbs module available:",!!(window.ActionVerbs&&window.ActionVerbs.getVerbsForCategory)),console.log("üîç ACTION VERBS: actionVerbsConfig available:",!!window.actionVerbsConfig),console.log("üîç ACTION VERBS: actionVerbsConfig content check:",window.actionVerbsConfig?Object.keys(window.actionVerbsConfig).slice(0,3):"null"),window.ActionVerbs&&window.ActionVerbs.getVerbsForCategory?(console.log("üîç ACTION VERBS: Using ActionVerbs module"),s=Ue(o,n),i=window.ActionVerbs.getVerbsForCategory("WEAK_VERBS")):window.actionVerbsConfig?(console.log("üîç ACTION VERBS: Using actionVerbsConfig from JSON file"),s=Fe(o,n),i=window.actionVerbsConfig.WEAK_VERBS||[]):(console.log("üîç ACTION VERBS: No ActionVerbs module or config available, using basic fallback"),s=Ge(o),i=["responsible","involved","participated","helped","assisted"]);const a=Object.keys(s).length;if(console.log("üîç ACTION VERBS: Categories used:",a),console.log("üîç ACTION VERBS: Categorized verbs:",s),a<5){const m=e;a===4?e-=1:a===3?e-=2:a===2?e-=3:a===1?e-=4:e-=5,console.log("üîç ACTION VERBS: Category diversity penalty applied. Score changed from",m,"to",e)}else console.log("üîç ACTION VERBS: No category diversity penalty (used",a,"categories)");let r=0,c=0;for(const m of o)if(i.some(d=>m.toLowerCase().includes(d.toLowerCase())||d.toLowerCase().includes(m.toLowerCase())))r++;else{let d=!1;window.ActionVerbs&&window.ActionVerbs.getVerbsForCategory?d=n.some(g=>window.ActionVerbs.getVerbsForCategory(g).some(p=>p.toLowerCase()===m.toLowerCase()||p.toLowerCase().includes(m.toLowerCase()))):window.actionVerbsConfig?d=n.some(g=>(window.actionVerbsConfig[g]||[]).some(p=>p.toLowerCase()===m.toLowerCase()||p.toLowerCase().includes(m.toLowerCase()))):d=["managed","led","supervised","coordinated","directed","guided","oversaw","spearheaded","championed","mentored","coached","launched","pioneered","initiated","founded","established","created","built","developed","engineered","programmed","designed","implemented","achieved","delivered","executed","accomplished","completed","optimized","streamlined","improved","enhanced","revamped","budgeted","forecasted","analyzed","calculated","scaled","boosted","drove","conceived","orchestrated","conceptualized","record","design","increase","boost","program","develop","scale","build","engineer","generated","facilitated","organized","produced","supported","collaborated","negotiated","presented","resolved","transformed","upgraded","maintained","monitored","recruited","evaluated","assessed","identified","researched","tested","reviewed","processed","handled"].includes(m.toLowerCase()),d||c++}const l=r+c;console.log("üîç ACTION VERBS: Weak verb count:",r),console.log("üîç ACTION VERBS: Unknown verb count:",c),console.log("üîç ACTION VERBS: Total penalty:",l),console.log("üîç ACTION VERBS: Score before penalty:",e),e-=l,console.log("üîç ACTION VERBS: Score after penalty:",e);const u=Math.max(Math.min(e,10),0);return console.log("üîç ACTION VERBS: Final score (clamped 0-10):",u),u}function X(t){console.log("üîç QUANTIFIABLE ACHIEVEMENTS: Starting analysis...");const e=P(t);if(console.log("üîç QUANTIFIABLE ACHIEVEMENTS: Experience section found:",!!e),console.log("üîç QUANTIFIABLE ACHIEVEMENTS: Experience section length:",e?e.length:0),!e)return console.log("üîç QUANTIFIABLE ACHIEVEMENTS: No experience section found, returning score 1"),1;const n=Q(e);if(console.log("üîç QUANTIFIABLE ACHIEVEMENTS: Total points extracted:",n.length),console.log("üîç QUANTIFIABLE ACHIEVEMENTS: All points:",n),n.length===0)return console.log("üîç QUANTIFIABLE ACHIEVEMENTS: No points found in experience section, returning score 1"),1;const o=n.filter(a=>te(a));console.log("üîç QUANTIFIABLE ACHIEVEMENTS: Quantified points found:",o.length),console.log("üîç QUANTIFIABLE ACHIEVEMENTS: Quantified points:",o);const s=o.length/n.length*100;console.log("üîç QUANTIFIABLE ACHIEVEMENTS: Percentage of quantified points:",s.toFixed(1)+"%");let i;return s>90?i=10:s>80?i=9:s>70?i=8:s>60?i=7:s>50?i=6:s>40?i=5:s>30?i=4:s>20?i=3:s>10?i=2:i=1,console.log("üîç QUANTIFIABLE ACHIEVEMENTS: Final score:",i),i}function P(t){console.log("üîç EXPERIENCE EXTRACTION: Starting experience section extraction...");const e=t.toLowerCase(),n=["professional experience","work experience","employment history","career history","work history","experience"],o=["education","academic background","qualifications","skills","technical skills","core skills","key skills","projects","personal projects","key projects","certifications","certificates","licenses","awards","achievements","honors","references","contact","additional information"];let s=-1;for(let a of n){const r=new RegExp("(^|\\n)\\s*"+a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")+"\\s*($|\\n)","i"),c=e.match(r);if(c){s=c.index+(c[1]?c[1].length:0),console.log("üîç EXPERIENCE EXTRACTION: Found experience header:",a,"at position:",s);break}}if(s===-1){const a=["developer","manager","analyst","engineer","coordinator","specialist","consultant","director","associate"];for(let r of a){const c=e.indexOf(r);if(c!==-1){s=Math.max(0,c-50);break}}}if(s===-1)return null;let i=t.length;for(let a of o){const r=e.indexOf(a,s);r!==-1&&r>s&&(i=Math.min(i,r))}return t.substring(s,i)}function Q(t){console.log("üîç EXPERIENCE POINTS: Starting point extraction..."),console.log("üîç EXPERIENCE POINTS: Input text length:",t.length);const e=t.split(`
`);console.log("üîç EXPERIENCE POINTS: Total lines to process:",e.length);const n=[];let o="";for(let s=0;s<e.length;s++){let i=e[s].trim();if(!i){o.trim()&&(n.push(o.trim()),o="");continue}if(console.log(`üîç EXPERIENCE POINTS: Processing line ${s}: "${i}"`),J(i)){console.log(`üîç EXPERIENCE POINTS: Skipping job title/company: "${i}"`);continue}Z(i)||ee(i)?(o.trim()&&(n.push(o.trim()),console.log(`üîç EXPERIENCE POINTS: Saved previous point: "${o.trim()}"`)),o=i,console.log(`üîç EXPERIENCE POINTS: Started new point: "${i}"`)):o?(o+=" "+i,console.log(`üîç EXPERIENCE POINTS: Extended current point: "${i}"`)):(n.push(i),console.log(`üîç EXPERIENCE POINTS: Added standalone point: "${i}"`))}return o.trim()&&(n.push(o.trim()),console.log(`üîç EXPERIENCE POINTS: Saved final point: "${o.trim()}"`)),console.log("üîç EXPERIENCE POINTS: Final extracted points:",n.length),console.log("üîç EXPERIENCE POINTS: Points preview:",n.slice(0,3)),n}function J(t){return[/^[A-Z][a-z\s]+(?:Developer|Manager|Analyst|Engineer|Coordinator|Specialist|Consultant|Director|Associate)$/i,/\b(Inc\.|Corp\.|Ltd\.|LLC|Company|Corporation)\b/i,/^\d{4}\s*[-‚Äì]\s*\d{4}|\d{4}\s*[-‚Äì]\s*Present/i,/^(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)/i].some(n=>n.test(t))}function Z(t){return/^[\s]*[‚Ä¢¬∑\*\-\+]\s/.test(t)}function ee(t){if(t.length<20)return!1;const n=["developed","managed","led","created","implemented","designed","coordinated","analyzed","improved","optimized"].some(s=>t.toLowerCase().includes(s)),o=/[a-z].*[.!?]?$/i.test(t)&&t.split(" ").length>=4;return n||o}function te(t){return[/\d+%/,/[\$‚Çπ]\s*\d+/,/\d+\s*(million|thousand|lakhs?|crores?|k|m)\b/i,/\d+\s*(years?|months?|weeks?|days?)\b/i,/\d+\s*(people|members?|employees?|users?|customers?)\b/i,/\d+\s*(projects?|tasks?|features?|products?)\b/i,/\d+\s*(clients?|accounts?|companies?)\b/i,/\d+x\b|\bx\d+/i,/\d+\+/,/\b\d{1,3}(,\d{3})*\b/].some(n=>n.test(t))}function ne(t){console.log("üîç USE OF BULLETS: Starting analysis...");const e=t.split(`
`).map(c=>c.trim()).filter(c=>c.length>0);console.log("üîç USE OF BULLETS: Total lines found:",e.length);let n=0,o=0,s=0,i=!1;for(let c=0;c<e.length;c++){const l=e[c];if(oe(l)){const m=l.toLowerCase();i=m.includes("experience")||m.includes("work")||m.includes("employment"),console.log(`üîç USE OF BULLETS: Header detected: "${l}" -> inExperience: ${i}`);continue}if(l.length<20||/^\d+\/\d+|@|‚Ä¢\s*\w+,\s*\w+/.test(l))continue;s++;const u=/^[\s]*[‚Ä¢¬∑\*\-\+\>]\s/.test(l)||/^\s*\d+[\.\)]\s/.test(l)||/^[\s]*[\u2022\u2023\u25E6\u2043\u2219]\s/.test(l)||l.startsWith("‚Ä¢")||l.startsWith("- ")||l.startsWith("* ");console.log(`üîç USE OF BULLETS: Line ${c} (${i?"EXP":"OTHER"}): "${l.substring(0,50)}..." -> bullet: ${u}`),u?n++:i&&l.length>50&&(o++,console.log(`üîç USE OF BULLETS: Paragraph block detected in experience: "${l.substring(0,50)}..."`))}console.log("üîç USE OF BULLETS: Analysis summary:"),console.log("üîç USE OF BULLETS: - Total content lines:",s),console.log("üîç USE OF BULLETS: - Bullet points found:",n),console.log("üîç USE OF BULLETS: - Paragraph blocks in experience:",o);let a=0;if(s===0)a=5;else{const c=n/Math.max(s,1);c>.7?a=10:c>.5?a=8:c>.3?a=6:c>.1?a=4:a=2,a-=Math.min(o,5)}const r=Math.max(a,0);return console.log("üîç USE OF BULLETS: Final score calculation:"),console.log("üîç USE OF BULLETS: - Bullet ratio:",(n/Math.max(s,1)*100).toFixed(1)+"%"),console.log("üîç USE OF BULLETS: - Base score from ratio:",a+Math.min(o,5)),console.log("üîç USE OF BULLETS: - Paragraph penalty:",Math.min(o,5)),console.log("üîç USE OF BULLETS: - Final score:",r),r}function oe(t){const e=t.trim();if(e.length<10)return!0;const n=["experience","education","skills","summary","objective","projects","certifications","awards","achievements","contact","work history","employment","qualifications","professional summary","technical skills","core competencies","professional experience"],o=e.toLowerCase();if(n.some(i=>o===i||o.includes(i)&&e.length<50)||e===e.toUpperCase()&&e.length<30||/^[A-Z][a-z\s]+@\s+[A-Z]/.test(e)||/^\w+\s*@\s*\w+/.test(e)||/^\d{2}\/\d{4}/.test(e)||/^\w+\s*-\s*\w+/.test(e)&&e.length<50)return!0;const s=e.split(" ");return!!(s.length<=4&&s.every(i=>/^[A-Z][a-z]*$/.test(i)))}function se(t){let e=10;const n=["\\bi\\b","\\bme\\b","\\bwe\\b","\\bmy\\b","\\bour\\b","\\bus\\b"];let o=0;return n.forEach(s=>{const i=new RegExp(s,"gi"),a=t.match(i)||[];o+=a.length}),e-=o,Math.max(e,0)}function ie(t){return["certified","certification","license","credential"].filter(o=>t.toLowerCase().includes(o)).length>0?8:5}function ae(t){if(!T)return;const n=j(t).reduce((i,a)=>i+a.score,0),o=Math.round(n/260*100);let s=o;console.log(`Calculated overall score from 26 categories: ${o} (sum: ${n}/260)`),console.log(`Using ATS score: ${s}`),T.textContent=Math.round(s),S&&(s>=80?S.style.borderColor="#10b981":s>=60?S.style.borderColor="#f59e0b":S.style.borderColor="#ef4444")}function re(t){if(console.log("üìä DEBUG: Starting displaySidebarCategories..."),!M||!I){console.error("‚ùå DEBUG: Missing DOM elements - topFixesList:",!!M,"completedList:",!!I);return}console.log("üìä DEBUG: DOM elements found, proceeding with data:",{hasData:!!t,dataKeys:t?Object.keys(t):[]}),M.innerHTML="",I.innerHTML="",console.log("üìä DEBUG: Cleared existing content"),console.log("üìä DEBUG: Calling generateComprehensiveATSScores...");const e=j(t);console.log("üìä DEBUG: Generated categories:",{count:e.length,categories:e.map(i=>({name:i.name,score:i.score}))});const n=e.filter(i=>i.score<6),o=e.filter(i=>i.score>=6&&i.score<9),s=e.filter(i=>i.score>=9);return console.log("üìä DEBUG: Categories divided:",{topFixes:n.length,needFixes:o.length,completed:s.length}),console.log("üîç High Priority (<6):",n.length,n),console.log("üîç Need Fixes (6-8):",o.length,o),console.log("üîç Completed (9-10):",s.length,s),console.log("üîç Total categories:",e.length),n.forEach(i=>{const a=document.createElement("div");a.className="sidebar-item",a.innerHTML=`
            <span class="text-sm text-gray-700">${i.name}</span>
            <span class="text-sm font-bold text-red-600">${i.score}/10</span>
        `,M.appendChild(a),v.push({title:i.name,description:i.issue,score:i.score,category:"High Priority",severity:"high",impact:i.impact})}),o.forEach(i=>{const a=document.createElement("div");a.className="sidebar-item",a.innerHTML=`
            <span class="text-sm text-gray-700">${i.name}</span>
            <span class="text-sm font-bold text-orange-600">${i.score}/10</span>
        `,M.appendChild(a),v.push({title:i.name,description:i.issue,score:i.score,category:"Need Fixes",severity:"medium",impact:i.impact})}),s.forEach(i=>{const a=document.createElement("div");a.className="sidebar-item",a.innerHTML=`
            <span class="text-sm text-gray-700">${i.name}</span>
            <span class="text-sm font-bold text-green-600">${i.score}/10</span>
        `,I.appendChild(a)}),z&&(z.textContent=`${s.length} COMPLETED OF 21`),{topFixes:n,needFixes:o,completed:s,allCategories:e}}function j(t){console.log("Generating scores with real data:",t);const e=t.component_scores||{},n=t.detailed_analysis||{},o=t.content||t.text||"";console.log("Backend component scores:",e),console.log("Backend detailed analysis:",n);const s=[];n.contact,s.push({name:"Contact Details",score:ce(o),issue:"Ensure all contact information is complete and professional",impact:"SECTIONS"}),n.structure,e.structure,s.push({name:"Education Section",score:me(o),issue:"Optimize education section format and content",impact:"SECTIONS"}),s.push({name:"Skills Section",score:Ee(o),issue:"Improve skills presentation and relevance",impact:"SECTIONS"}),n.keywords;const i=e.keywords||0;s.push({name:"Job Fit",score:Math.round(i/20*10),issue:"Better align experience with target role requirements",impact:"ALL"}),s.push({name:"Analytical",score:Me(o),issue:"Highlight analytical and problem-solving skills",impact:"ALL"}),s.push({name:"Leadership",score:xe(o),issue:"Emphasize leadership experiences and impact",impact:"ALL"}),n.formatting,e.formatting,s.push({name:"Page Density",score:nt(o),issue:"Optimize page layout and white space usage",impact:"STYLE"}),s.push({name:"Use of Bullets",score:ne(o),issue:"Improve bullet point structure and formatting",impact:"STYLE"}),s.push({name:"Spelling & Consistency",score:ke(o),issue:"Fix spelling errors and maintain consistency",impact:"BREVITY"});const a=Re(o);console.log("üîç NEW CATEGORY - Grammar (LLM-powered):",{score:a,maxScore:10,percentage:Math.round(a/10*100)+"%",analysis:"Uses AI-powered grammar checking for accuracy"}),s.push({name:"Grammar",score:a,issue:"Fix grammar errors and improve language accuracy",impact:"BREVITY"});const r=H(o);console.log("üîç NEW CATEGORY - Spelling (LLM-powered):",{score:r,maxScore:10,percentage:Math.round(r/10*100)+"%",analysis:"Uses AI-powered spelling detection for accuracy"}),s.push({name:"Spelling",score:r,issue:"Fix spelling errors using AI-powered detection",impact:"BREVITY"}),s.push({name:"Verb Tenses",score:Te(o),issue:"Use consistent and appropriate verb tenses",impact:"BREVITY"});const c=se(o);console.log("üîç NEW CATEGORY - Personal Pronouns:",{score:c,maxScore:10,percentage:Math.round(c/10*100)+"%",analysis:'Checks for "I", "me", "my", "myself", "our", "we" pronouns'}),s.push({name:"Personal Pronouns",score:c,issue:'Remove first-person pronouns like "I", "me", "my"',impact:"BREVITY"});const l=He(o);console.log("üîç NEW CATEGORY - Dates:",{score:l,maxScore:10,percentage:Math.round(l/10*100)+"%",analysis:"Checks date format consistency and chronological order"}),s.push({name:"Dates",score:l,issue:"Improve date formatting and chronological consistency",impact:"STYLE"}),n.achievements,e.achievements;const u=X(o);console.log("üîÑ REPLACED CATEGORY - Quantifiable Achievements (was Quantity Impact):",{score:u,maxScore:10,percentage:Math.round(u/10*100)+"%",analysis:"Searches for quantified achievements and measurable results"}),s.push({name:"Quantifiable Achievements",score:u,issue:"Add more quantified achievements with specific numbers",impact:"IMPACT"});const m=K(o);console.log("üîÑ REPLACED CATEGORY - Action Verbs (was Weak Verbs):",{score:m,maxScore:10,percentage:Math.round(m/10*100)+"%",analysis:"Analyzes use of strong action verbs instead of weak verbs"}),s.push({name:"Action Verbs",score:m,issue:"Use more strong action verbs to start bullet points",impact:"IMPACT"}),s.push({name:"Active Voice",score:$e(o),issue:"Convert passive voice to active voice for impact",impact:"IMPACT"}),s.push({name:"Summary",score:je(o),issue:"Professional summary needs improvement for better impact",impact:"IMPACT"}),s.push({name:"Teamwork",score:Je(o),issue:"Better showcase collaborative experiences",impact:"ALL"}),n.readability;const C=e.readability||0;s.push({name:"Verbosity",score:Math.round(C/10*10),issue:"Reduce wordiness for better readability",impact:"BREVITY"}),s.push({name:"Repetition",score:Ze(o),issue:"Eliminate repetitive phrases and content",impact:"BREVITY"}),s.push({name:"Unnecessary Sections",score:et(o),issue:"Remove sections that don't add value",impact:"SECTIONS"}),s.push({name:"Growth Signals",score:tt(o),issue:"Demonstrate career progression and learning",impact:"ALL"}),s.push({name:"Drive",score:st(o),issue:"Show initiative and self-motivation examples",impact:"ALL"});const d=ie(o);return console.log("üîç NEW CATEGORY - Certifications:",{score:d,maxScore:10,percentage:Math.round(d/10*100)+"%",analysis:"Checks for professional certifications and credentials"}),s.push({name:"Certifications",score:d,issue:"Add relevant certifications and professional credentials",impact:"ALL"}),console.log("Generated categories with real scores:",s),console.log("üéØ NEW CATEGORIES SUMMARY - Verification Log:",{totalCategories:s.length,newCategories:["Personal Pronouns","Dates","Grammar (LLM-powered)","Spelling (LLM-powered)","Certifications"],replacedCategories:["Quantifiable Achievements (was Quantity Impact)","Action Verbs (was Weak Verbs)"],allCategoryScores:s.map(g=>({name:g.name,score:g.score,percentage:Math.round(g.score/10*100)+"%"}))}),s}function ce(t){let e=10;return le(t)||(e-=2.5),de(t)||(e-=2.5),ge(t)||(e-=2.5),ue(t)||(e-=2.5),Math.max(e,0)}function le(t){return[/\b\d{3}[-.\s]?\d{3}[-.\s]?\d{4}\b/g,/\b\(\d{3}\)\s?\d{3}[-.\s]?\d{4}\b/g,/\b\+\d{1,3}[-.\s]?\d{1,14}[-.\s]?\d{1,14}\b/g,/\b\+91[-.\s]?\d{10}\b/g,/\b91[-.\s]?\d{10}\b/g,/\b[6-9]\d{9}\b/g,/\b\d{10,15}\b/g,/\bphone\s*:?\s*[+]?\d/gi,/\bmobile\s*:?\s*[+]?\d/gi,/\bcell\s*:?\s*[+]?\d/gi,/\bcontact\s*:?\s*[+]?\d/gi].some(n=>n.test(t))}function de(t){return/\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Z|a-z]{2,}\b/g.test(t)}function ge(t){t.toLowerCase();const e=[/linkedin\.com\/in\/[a-z0-9-]+/gi,/linkedin\.com\/pub\/[a-z0-9-]+/gi,/www\.linkedin\.com/gi,/linkedin:\s*[a-z0-9.-]+/gi,/\blinkedin\b.*profile/gi,/profile/gi];return/\blinkedin\b/gi.test(t)?!0:e.some(n=>n.test(t))}function ue(t){const e=t.toLowerCase(),n=["mumbai","delhi","new delhi","bangalore","bengaluru","hyderabad","chennai","kolkata","calcutta","pune","gurugram","gurgaon","noida","ahmedabad","surat","jaipur","lucknow","kanpur","nagpur","indore","thane","bhopal","visakhapatnam","vishakhapatnam","pimpri","patna","vadodara","coimbatore","ludhiana","agra","nashik","faridabad","meerut","rajkot","varanasi","banaras","srinagar","aurangabad","dhanbad","amritsar","navi mumbai","allahabad","prayagraj","ranchi","howrah","jabalpur","gwalior","vijayawada","mysore","hubli","mangalore","solapur","kota","trivandrum","thiruvananthapuram","kochi","ernakulam","madurai","salem","tiruchirappalli","trichy","bhubaneswar","cuttack","guwahati","shimla","dehradun","gangtok","itanagar","aizawl","kohima","imphal","agartala","panaji","porvorim","silchar","dibrugarh","tezpur","durgapur","asansol","siliguri","india","haryana","uttar pradesh","maharashtra","karnataka","tamil nadu","telangana","andhra pradesh","gujarat","west bengal","punjab","rajasthan","bihar","jharkhand","kerala","odisha","uttarakhand","chhattisgarh","assam","goa","sikkim","mizoram","tripura","nagaland","manipur","arunachal pradesh","meghalaya","himachal pradesh","california","new york","texas","florida","illinois","pennsylvania","ohio","georgia","north carolina","michigan","new jersey","virginia","washington","arizona","massachusetts","tennessee","indiana","missouri","maryland","wisconsin","colorado","minnesota","south carolina","alabama","louisiana","kentucky","oregon","oklahoma","connecticut","utah","iowa","nevada","arkansas","mississippi","kansas","new mexico","nebraska","west virginia","montana","idaho","hawaii","alaska","maine","new hampshire","vermont","rhode island","delaware","district of columbia","los angeles","san francisco","san diego","san jose","sacramento","fresno","oakland","new york city","nyc","buffalo","rochester","houston","dallas","austin","san antonio","fort worth","miami","orlando","tampa","jacksonville","atlanta","charlotte","raleigh","detroit","grand rapids","chicago","philadelphia","pittsburgh","cleveland","columbus","cincinnati","phoenix","boston","nashville","memphis","indianapolis","st louis","baltimore","milwaukee","denver","minneapolis","seattle","portland","las vegas","salt lake city","honolulu","ontario","quebec","british columbia","alberta","manitoba","saskatchewan","nova scotia","new brunswick","newfoundland and labrador","prince edward island","toronto","vancouver","montreal","ottawa","calgary","edmonton","winnipeg","halifax","victoria","london","manchester","birmingham","liverpool","glasgow","edinburgh","leeds","sheffield","bristol","cardiff","belfast","new south wales","victoria","queensland","south australia","western australia","tasmania","northern territory","australian capital territory","sydney","melbourne","brisbane","perth","adelaide","canberra","hobart","darwin","gold coast","dubai","abu dhabi","doha","riyadh","jeddah","amman","muscat","kuwait city","manama","berlin","munich","hamburg","frankfurt","stuttgart","paris","lyon","marseille","nice","toulouse","amsterdam","rotterdam","the hague","utrecht","zurich","geneva","basel","vienna","budapest","helsinki","stockholm","copenhagen","madrid","barcelona","valencia","seville","lisbon","porto","rome","milan","florence","naples","turin","venice","tokyo","osaka","kyoto","yokohama","nagoya","hong kong","shanghai","beijing","guangzhou","shenzhen","singapore","kuala lumpur","bangkok","jakarta","manila","seoul","busan","incheon","mexico city","guadalajara","monterrey","bogota","lima","santiago","buenos aires","cape town","johannesburg","nairobi","lagos","cairo","casablanca","accra","addis ababa"],o=[/\b\w+,\s*[A-Z]{2,3}\b/g,/\b\w+,\s*\w+\s*\d{5,6}\b/g,/\b\d{5,6}(-\d{4})?\b/g,/location\s*:?\s*\w+/gi,/address\s*:?\s*\w+/gi,/based\s+in\s+\w+/gi,/located\s+in\s+\w+/gi,/\bcity\s*:?\s*\w+/gi,/\bstate\s*:?\s*\w+/gi,/\bcurrent\s+location\s*:?\s*\w+/gi],s=n.some(a=>new RegExp(`\\b${a}\\b`,"i").test(e)),i=o.some(a=>a.test(t));return s||i}function me(t,e){let n=0;const o=t.toLowerCase(),s=D(t),i=s>=5;return(o.includes("education")||o.includes("academic")||o.includes("qualification"))&&(n+=3),pe(t)&&(n+=i?6:4),fe(t)&&(n+=i?1:2),i||be(t)&&(n+=2),s<3&&(ye(t)||(n-=1)),Math.max(Math.min(n,10),0)}function pe(t){const n=he(t)||t.toLowerCase(),o=["bachelor","master","phd","doctorate","associate","diploma","certificate","b\\.?e\\.?","b\\.?tech","b\\.?s\\.?","b\\.?a\\.?","b\\.?sc\\.?","b\\.?com\\.?","m\\.?tech","m\\.?s\\.?","m\\.?a\\.?","m\\.?sc\\.?","m\\.?com\\.?","mba","m\\.?phil","ph\\.?d\\.?","doctorate","post\\s*graduate","graduate\\s*degree","btech","mtech","beng","meng","bsc","msc","bcom","mcom","llb","llm","md","mbbs","bds","mds","ca","cs","cma"];return new RegExp(`\\b(${o.join("|")})\\b`,"i").test(n)}function he(t){t.toLowerCase();const e=t.split(`
`);let n=-1;const o=["education","academic","qualification","educational background"];for(let a=0;a<e.length;a++){const r=e[a].toLowerCase().trim();if(o.some(c=>r.includes(c))&&r.length<50){n=a;break}}if(n===-1)return null;let s=e.length;const i=["experience","work","employment","skills","projects","certifications"];for(let a=n+1;a<e.length;a++){const r=e[a].toLowerCase().trim();if(i.some(c=>r.includes(c))&&r.length<50){s=a;break}}return e.slice(n,s).join(`
`).toLowerCase()}function fe(t){const e=["university","college","institute","school","academy","tech","polytechnic","community college"],n=t.toLowerCase();return e.some(o=>n.includes(o))}function be(t){return[/\b(19|20)\d{2}\b/g,/\d{1,2}\/\d{4}/g,/[A-Za-z]+\s+\d{4}/g,/\d{4}\s*[-‚Äì]\s*\d{4}/g].some(n=>n.test(t))}function ye(t){const e=t.toLowerCase(),n=[/gpa\s*:?\s*\d\.\d/gi,/\d\.\d{1,2}\s*gpa/gi,/\d\.\d{1,2}\/4\.0/gi],o=["magna cum laude","summa cum laude","cum laude","honors","dean's list","honor roll","distinction","academic excellence","merit","scholarship"],s=n.some(a=>a.test(t)),i=o.some(a=>e.includes(a));return s||i}function Ee(t,e){let n=0;const o=D(t);Ae(t)&&(n+=2);const i=we(t),a=Se(o);i>=a.ideal?n+=3:i>=a.minimum?n+=2:i>=a.minimum*.5&&(n+=1);const r=Ce(t);n+=Math.min(r,3);const c=ve(t);return n+=Math.min(c,2),Math.min(n,10)}function Ae(t){const e=t.toLowerCase();return["skills","technical skills","core competencies","competencies","expertise","proficiencies","technologies","tools"].some(o=>e.includes(o))}function we(t){const e=t.toLowerCase(),n=["python","java","javascript","typescript","c++","c#","php","ruby","go","rust","swift","kotlin","scala","r","matlab","sql","html","css","react","angular","vue","node.js","express","django","flask","spring","bootstrap","jquery","tensorflow","pytorch","pandas","numpy","mysql","postgresql","mongodb","redis","elasticsearch","oracle","sqlite","aws","azure","gcp","docker","kubernetes","jenkins","git","github","terraform","ansible","ci/cd","linux","bash","jira","confluence","slack","trello","figma","photoshop","excel","tableau","power bi","salesforce","hubspot"],o=["project management","agile","scrum","kanban","waterfall","leadership","team management","communication","presentation","problem solving","analytical thinking","strategic planning","business analysis","process improvement","quality assurance","stakeholder management","budget management","risk management"];return[...n,...o].filter(a=>e.includes(a)).length}function Se(t){return t<3?{minimum:4,ideal:8}:t<6?{minimum:9,ideal:14}:{minimum:15,ideal:20}}function Ce(t){const e=t.toLowerCase(),o=["artificial intelligence","machine learning","deep learning","ai/ml","cloud computing","microservices","apis","restful","graphql","blockchain","iot","big data","data science","analytics","agile methodology","devops","continuous integration","automation","test-driven development","object-oriented","responsive design","digital transformation","scalability","performance optimization","user experience","customer satisfaction","roi","kpi"].filter(s=>e.includes(s));return o.length>=4?3:o.length>=2?2:o.length>=1?1:0}function ve(t){let e=0;const n=t.toLowerCase();["programming languages","frameworks","databases","tools","technical skills","soft skills","languages","certifications"].filter(a=>n.includes(a)).length>=2&&(e+=1);const i=Le(t);if(i){const a=/[‚Ä¢‚ñ™‚ñ´‚ñ†‚ñ°‚ó¶‚Ä£‚ÅÉ-]/.test(i),r=i.includes(","),c=i.includes(`
`);(a||r||c)&&(e+=1)}return e}function Le(t){const e=t.toLowerCase(),n=["skills","technical skills","competencies"];let o=-1;for(const a of n){const r=e.indexOf(a);if(r!==-1){o=r;break}}if(o===-1)return null;const s=["experience","education","projects","certifications"];let i=t.length;for(const a of s){const r=e.indexOf(a,o+10);r!==-1&&r<i&&(i=r)}return t.substring(o,i)}function Me(t,e){let n=0;if(window.ActionVerbs&&window.ActionVerbs.countVerbsInText){const o=window.ActionVerbs.countVerbsInText(t,"RESEARCH_AND_ANALYSIS_SKILLS"),s=window.ActionVerbs.countVerbsInText(t,"PROBLEM_SOLVING_SKILLS");n+=Math.min(o*1.5,6),n+=Math.min(s*1.2,4);const a=["analysis","analytical","data","research","statistics","metrics","insights"].filter(r=>t.toLowerCase().includes(r)).length;n+=Math.min(a*.3,2)}else{const o=t.toLowerCase(),i=["analysis","analytical","data","research","investigate","evaluate","assess","statistics"].filter(a=>o.includes(a)).length;n+=Math.min(i*1.25,10)}return Math.min(n,10)}function xe(t,e){let n=0;if(window.ActionVerbs&&window.ActionVerbs.countVerbsInText){const o=window.ActionVerbs.countVerbsInText(t,"LEADERSHIP_MENTORSHIP_AND_TEACHING_SKILLS"),s=window.ActionVerbs.countVerbsInText(t,"MANAGEMENT_SKILLS");n+=Math.min(o*.8,6),n+=Math.min(s*.7,4);const a=["director","manager","lead","supervisor","head","chief","senior"].filter(r=>t.toLowerCase().includes(r)).length;n+=Math.min(a*.3,1)}else{const o=t.toLowerCase(),i=["lead","leader","manage","director","supervisor","team","mentor","coach"].filter(a=>o.includes(a)).length;n+=Math.min(i*1.25,10)}return Math.min(n,10)}function ke(t){return H(t).then(e=>{Lt(e)}),Ct(t)}async function H(t){try{const r=await fetch("/api/grammar-check",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.dumps({text:t,check_type:"spelling"})});if(r.ok){const c=await r.json();return Math.max(Math.min(c.spelling_score||8,10),0)}}catch(r){console.warn("LLM spelling check failed, using fallback:",r)}let e=0;t.length>200?e=8:t.length>100?e=6:t.length>50?e=4:e=2;const o=["recieved","seperate","managment","acheivement","excelent","experiance","responsibilty","occured"].filter(r=>t.toLowerCase().includes(r)).length;return e-=o*1.5,[/\d{1,2}\/\d{4}/g,/\d{4}-\d{2}/g,/[A-Za-z]+ \d{4}/g].map(r=>(t.match(r)||[]).length).filter(r=>r>0).length>1&&(e-=1),Math.max(e,0)}function Re(t){console.log("üîç GRAMMAR: Starting grammar analysis..."),console.log("üîç GRAMMAR: Resume text length:",t.length),console.log("üîç GRAMMAR: Starting async LLM grammar analysis..."),Ie(t).then(n=>{console.log("üîç GRAMMAR: LLM analysis completed with score:",n),vt(n)}).catch(n=>{console.error("‚ùå GRAMMAR: LLM analysis failed:",n)});const e=St(t);return console.log("üîç GRAMMAR: Returning immediate fallback score:",e),e}async function Ie(t){console.log("üîç GRAMMAR LLM: Starting LLM grammar API call...");try{console.log("üîç GRAMMAR LLM: Making fetch request to /api/grammar-check"),console.log("üîç GRAMMAR LLM: Request payload:",{text_length:t.length,check_type:"grammar"});const a=window.location.hostname==="localhost"?"http://localhost:3001/api/grammar-check":"/api/grammar-check";console.log("üîç GRAMMAR LLM: Using API URL:",a);const r=await fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:t,check_type:"grammar"})});if(console.log("üîç GRAMMAR LLM: API response status:",r.status,r.statusText),r.ok){const c=await r.json();console.log("üîç GRAMMAR LLM: API response data:",c);const l=Math.max(Math.min(c.grammar_score||8,10),0);return console.log("üîç GRAMMAR LLM: Calculated final score:",l),l}else{console.error("‚ùå GRAMMAR LLM: API request failed with status:",r.status);const c=await r.text();console.error("‚ùå GRAMMAR LLM: Error response:",c)}}catch(a){console.error("‚ùå GRAMMAR LLM: LLM grammar check failed:",a),console.error("‚ùå GRAMMAR LLM: Error details:",a.message,a.stack)}console.log("üîç GRAMMAR LLM: API failed, using internal fallback grammar check...");let e=0;const n=[/\bis\s+are\b/gi,/\bare\s+is\b/gi,/\bi\s+are\b/gi,/\byou\s+is\b/gi];let o=0;n.forEach((a,r)=>{const c=(t.match(a)||[]).length;o+=c,c>0&&console.log("üîç GRAMMAR LLM FALLBACK: Found",c,"matches for pattern",r)}),console.log("üîç GRAMMAR LLM FALLBACK: Total issues found:",o),t.length>100?e=8:t.length>50?e=6:e=4,console.log("üîç GRAMMAR LLM FALLBACK: Base score:",e);const s=Math.min(o*2,6);e-=s,console.log("üîç GRAMMAR LLM FALLBACK: Penalty applied:",s,"Final score:",e);const i=Math.max(e,0);return console.log("üîç GRAMMAR LLM FALLBACK: Returning fallback score:",i),i}function Te(t){let e=8;t.length<=100&&(e=t.length>50?5:3);try{const n=Ne(t);if(n.length===0)return Math.max(e-2,0);const o=Be(n[0]),s=n.every(i=>k(i.text));for(let i=0;i<n.length;i++){const a=n[i],r=i===0&&o,c=!r,l=U(a.text),u=Ve(a.text);r&&!s?e-=Math.min(u*1,3):c&&(e-=Math.min(l*2,4))}if(s){const i=n.reduce((a,r)=>a+U(r.text),0);e-=Math.min(i*3,6)}Pe(n)||(e-=1),De(n)||(e-=1)}catch(n){return console.warn("Error in verb tense analysis, using fallback:",n),Math.max(e-2,0)}return Math.max(e,0)}function Ne(t){const e=[],n=P(t);if(!n)return e;const o=[/\n\s*[A-Z][^\n]*\s+(?:at|@|\||\-)\s+[A-Z][^\n]*\n/g,/\n\s*\d{4}\s*[\-‚Äì]\s*(?:\d{4}|Present|Current|Ongoing)/g,/\n\s*[A-Z][A-Za-z\s,&]+(?:Inc\.|Corp\.|LLC|Ltd\.|Company)\s*\n/g];let s=[n];for(const i of o){const a=[];for(const r of s){const c=r.split(i);a.push(...c.filter(l=>l.trim().length>50))}if(a.length>s.length){s=a;break}}return s.forEach((i,a)=>{i.trim().length>30&&e.push({index:a,text:i.trim(),hasEndDate:k(i)})}),e}function Be(t){if(!t)return!1;const e=t.text.toLowerCase(),o=["present","current","ongoing","now"].some(a=>e.includes(a)),s=!k(t.text),i=Oe(t.text);return o||s||i}function k(t){return[/\d{4}\s*[\-‚Äì]\s*\d{4}/g,/\d{1,2}\/\d{4}\s*[\-‚Äì]\s*\d{1,2}\/\d{4}/g,/(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s+\d{4}\s*[\-‚Äì]\s*(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s+\d{4}/gi].some(n=>n.test(t))}function Oe(t){const e=new Date().getFullYear(),n=new Date().getMonth()+1;if(!new RegExp(`\\b${e}\\b`).test(t))return!1;const s=[];for(let a=0;a<3;a++){const r=n-a;r>0&&s.push(r.toString().padStart(2,"0"))}return new RegExp(`\\b(${s.join("|")})\\/${e}\\b`).test(t)}function U(t){const e=["manage","lead","develop","create","implement","design","build","coordinate","oversee","direct","supervise","execute","deliver","analyze","optimize","maintain","support","collaborate","work","handle","process","review","monitor","track","report"],n=new RegExp(`\\b(${e.join("|")})\\b`,"gi");return(t.match(n)||[]).length}function Ve(t){const e=["managed","led","developed","created","implemented","designed","built","coordinated","oversaw","directed","supervised","executed","delivered","analyzed","optimized","maintained","supported","collaborated","worked","handled","processed","reviewed","monitored","tracked","reported"],n=/\b\w+ed\b/g,o=(t.match(n)||[]).length,s=new RegExp(`\\b(${e.join("|")})\\b`,"gi"),i=(t.match(s)||[]).length;return Math.max(o,i)}function Pe(t){if(t.length<2)return!0;const e=t[0],n=t[1],o=k(e.text),s=k(n.text);return!0}function De(t){return t.length<2?!0:t.filter(n=>/\d{4}/.test(n.text)||/(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)/i.test(n.text)).length>=t.length*.7}function ze(t){console.log("üîç ACTION VERBS EXTRACT: Starting verb extraction...");const e=[],n=t.toLowerCase();if(window.actionVerbsConfig){console.log("üîç ACTION VERBS EXTRACT: Using config-based extraction");const s=[];Object.keys(window.actionVerbsConfig).forEach(a=>{if(a!=="WEAK_VERBS"){const r=window.actionVerbsConfig[a]||[];s.push(...r.map(c=>c.toLowerCase()))}});const i=window.actionVerbsConfig.WEAK_VERBS||[];s.push(...i.map(a=>a.toLowerCase())),console.log("üîç ACTION VERBS EXTRACT: Total config verbs to search for:",s.length),s.forEach(a=>{new RegExp("\\b"+a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")+"\\b","gi").test(n)&&e.push(a)}),console.log("üîç ACTION VERBS EXTRACT: Found config-based verbs:",e.length)}else{console.log("üîç ACTION VERBS EXTRACT: Falling back to hardcoded patterns");const s=[/\b(managed|led|developed|created|implemented|achieved|increased|reduced|improved|delivered|executed|coordinated|supervised|administered|analyzed|designed|established|facilitated|generated|initiated|launched|optimized|organized|planned|produced|provided|supported|trained|collaborated|communicated|negotiated|presented|resolved|streamlined|transformed|upgraded|built|maintained|monitored|oversaw|recruited|directed|guided|mentored|coached|evaluated|assessed|identified|researched|tested|reviewed|audited|calculated|forecasted|interviewed|investigated|traced|classified|collected|compiled|processed|recorded|scheduled|arranged|prepared|operated|handled|assisted|helped|contributed|participated|worked|responsible|spearheaded|championed|pioneered|conceptualized|revamped|boosted|drove|conceived|programmed|scaled|orchestrated|engineered)\b/g,/\b(manage|lead|develop|create|implement|achieve|increase|reduce|improve|deliver|execute|coordinate|supervise|administer|analyze|design|establish|facilitate|generate|initiate|launch|optimize|organize|plan|produce|provide|support|train|collaborate|communicate|negotiate|present|resolve|streamline|transform|upgrade|build|maintain|monitor|oversee|recruit|direct|guide|mentor|coach|evaluate|assess|identify|research|test|review|audit|calculate|forecast|interview|investigate|trace|classify|collect|compile|process|record|schedule|arrange|prepare|operate|handle|assist|help|contribute|participate|work|spearhead|champion|pioneer|conceptualize|revamp|boost|drive|conceive|program|scale|orchestrate|engineer)\b/g];for(const i of s){const a=n.match(i);a&&e.push(...a)}}const o=[...new Set(e)];return console.log("üîç ACTION VERBS EXTRACT: Final unique verbs found:",o.length,o),o}function Ue(t,e){const n={};if(!window.ActionVerbs||!window.ActionVerbs.getVerbsForCategory)return n;for(const o of e){const s=window.ActionVerbs.getVerbsForCategory(o),i=[];for(const a of t)s.some(c=>c.toLowerCase()===a.toLowerCase()||c.toLowerCase().includes(a.toLowerCase())||a.toLowerCase().includes(c.toLowerCase()))&&i.push(a);i.length>0&&(n[o]=i)}return n}function Fe(t,e){const n={};for(const o of e){const s=window.actionVerbsConfig[o]||[],i=[];for(const a of t)s.some(c=>c.toLowerCase()===a.toLowerCase()||c.toLowerCase().includes(a.toLowerCase())||a.toLowerCase().includes(c.toLowerCase()))&&i.push(a);i.length>0&&(n[o]=i)}return n}function Ge(t){const e={MANAGEMENT_SKILLS:["managed","led","supervised","coordinated","directed","guided","oversaw"],LEADERSHIP_MENTORSHIP_AND_TEACHING_SKILLS:["spearheaded","championed","mentored","coached","led","guided"],ENTREPRENEURIAL_SKILLS:["launched","pioneered","initiated","founded","established","created"],ENGINEERING_TECHNICAL_ROLES:["built","developed","engineered","programmed","designed","implemented"],STRONG_ACCOMPLISHMENT_DRIVEN_VERBS:["achieved","delivered","executed","accomplished","completed"],PROCESS_IMPROVEMENT_CONSULTING_AND_OPERATIONS:["optimized","streamlined","improved","enhanced","revamped"],FINANCIAL_SKILLS:["budgeted","forecasted","analyzed","calculated","scaled"]},n={};for(const[o,s]of Object.entries(e)){const i=[];for(const a of t)s.some(c=>c.toLowerCase()===a.toLowerCase())&&i.push(a);i.length>0&&(n[o]=i)}return n}function $e(t){const e=["was completed","were handled","was managed","were developed","was created"];let n=0;t.length>100?n=8:t.length>50?n=6:n=4;const o=e.reduce((s,i)=>s+(t.toLowerCase().split(i).length-1),0);return n-=Math.min(o*2,6),Math.max(n,2)}function je(t){let e=0;const n=We(t),o=n.content||"",s=n.hasHeading||!1;return console.log("Summary Section Analysis:",{summaryLength:o.length,hasHeading:s,summaryPreview:o.substring(0,300)+"...",originalPreview:n.content?n.content.substring(0,100):"No original content"}),!o||o.length<20?1:(e=10,F(o)||F(t)||(e-=2),qe(o)||(e-=2),Ye(o)||(e-=2),Ke(o)||(e-=2),Xe(o)||Qe(o)||(e-=2),s||(e-=1),Math.max(e,0))}function He(t){console.log("üîç DATES: Starting date analysis...");let e=10;const n=[/\b(0[1-9]|1[0-2])\/\d{4}\b/g,/\b(0[1-9]|1[0-2])-\d{4}\b/g,/\b\d{1,2}\/\d{4}\b/g,/\b\d{1,2}-\d{4}\b/g,/\b(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)[a-z]*\s+\d{4}\b/gi,/\b\d{4}\s*[-‚Äì]\s*\d{4}\b/g,/\b\d{4}\s*[-‚Äì]\s*(Present|Ongoing|Current)\b/gi,/\b(Present|Ongoing|Current)\b/gi],o=[],s=[];if(n.forEach((c,l)=>{(t.match(c)||[]).forEach(m=>{o.push(m.trim()),s.push(l)})}),console.log("üîç DATES: Found dates:",o),console.log("üîç DATES: Format types:",s),[...new Set(s)].length>1){const c=s.length-s.filter(u=>u===s[0]).length,l=Math.min(c*2,8);e-=l,console.log("üîç DATES: Date format inconsistencies found:",c,"Penalty:",l)}else console.log("üîç DATES: Date formats are consistent");const a=_e(t);e-=a;const r=Math.max(e,0);return console.log("üîç DATES: Final date score:",r),r}function _e(t){console.log("üîç DATES CHRONO: Checking chronological order...");const e=P(t);if(!e)return console.log("üîç DATES CHRONO: No experience section found"),0;const n=/\b(19|20)\d{2}\b/g,o=[];let s;for(;(s=n.exec(e))!==null;){const a=parseInt(s[0]);a>=1990&&a<=new Date().getFullYear()+1&&o.push(a)}if(console.log("üîç DATES CHRONO: Extracted years from experience:",o),o.length<2)return console.log("üîç DATES CHRONO: Not enough years to check order"),0;let i=!0;for(let a=0;a<o.length-1;a++)if(o[a]<o[a+1]){i=!1;break}return i?(console.log("üîç DATES CHRONO: Experience is in correct reverse chronological order"),0):(console.log("üîç DATES CHRONO: Experience is NOT in reverse chronological order - applying 5 point penalty"),5)}function We(t){const e=t.toLowerCase(),n=t.split(`
`).map(d=>d.trim()).filter(d=>d.length>0),o=["professional summary","executive summary","career summary","summary","objective","profile","overview","about","introduction"];let s=-1,i="";for(const d of o){const g=e.indexOf(d);g!==-1&&(s===-1||g<s)&&(s=g,i=d)}if(s!==-1){const d=t.substring(s),g=["experience","work history","employment","education","skills","technical skills","core competencies"];let b=d.length;for(const E of g){const h=d.toLowerCase().indexOf(E);if(h!==-1&&h<b&&h>i.length+200){const L=d.substring(Math.max(0,h-50),h),R=d.substring(h,h+50);L.includes(`
`)&&R.includes(`
`)&&(b=h)}}let p=d.substring(i.length,b).trim();if(p.length<100){const E=d.split(`
`);let h=[],L=!1;for(let B=0;B<E.length;B++){const A=E[B].trim();if(!L){if(A.toLowerCase().includes(i)){L=!0;continue}continue}if(A.length>0&&A.length<30&&(A===A.toUpperCase()||["EDUCATION","EXPERIENCE","SKILLS","PROFESSIONAL EXPERIENCE","WORK HISTORY"].includes(A.toUpperCase()))&&h.length>0)break;A.length>0&&h.push(A)}const R=h.join(" ").trim();R.length>p.length&&(p=R)}return p=V(p),{content:p,hasHeading:!0}}console.log("üîç EXTRACT SUMMARY: No explicit summary section found, looking for intro lines...");let a=0;const r=[/^[A-Z][a-z]+ [A-Z][a-z]+/,/@/,/\b\d{3}[-.\s]?\d{3}[-.\s]?\d{4}\b/,/\b[A-Z]{2}\b|\bcity\b|\bstate\b/,/linkedin/i,/github/i];for(let d=0;d<Math.min(n.length,10);d++){const g=n[d],b=r.some(p=>p.test(g));if(console.log(`üîç EXTRACT SUMMARY: Line ${d}: "${g}" -> Contact info: ${b}`),!b&&g.length>30){a=d,console.log("üîç EXTRACT SUMMARY: Starting summary extraction from line:",d);break}}const c=[];console.log("üîç EXTRACT SUMMARY: Extracting potential summary lines from line",a);for(let d=a;d<Math.min(a+8,n.length);d++){const g=n[d],p=["experience","work history","employment","education","skills","projects","certifications"].some(L=>g.toLowerCase().includes(L))&&g.length<50;if(console.log(`üîç EXTRACT SUMMARY: Processing line ${d}: "${g}" (length: ${g.length}, section header: ${p})`),p){console.log("üîç EXTRACT SUMMARY: Hit section header, stopping extraction");break}const E=g.match(/^[A-Z\s]{2,}$/),h=g.length>20;if(console.log(`üîç EXTRACT SUMMARY: Line analysis - Good length: ${h}, All caps header: ${!!E}`),h&&!E&&(c.push(g),console.log("üîç EXTRACT SUMMARY: Added line to potential summary")),c.length>=2&&(g.length<10||E)){console.log("üîç EXTRACT SUMMARY: Have enough lines and hit break, stopping");break}}const l=c.join(" ").trim();if(console.log("üîç EXTRACT SUMMARY: Potential summary lines joined:",c),console.log("üîç EXTRACT SUMMARY: Combined summary content (length:",l.length,"):",l),l.length>50){const d=V(l);return console.log("üîç EXTRACT SUMMARY: Returning intro summary (cleaned):",d),{content:d,hasHeading:!1}}console.log("üîç EXTRACT SUMMARY: Using fallback - first substantial paragraph");const u=t.split(`

`).filter(d=>d.trim().length>50);console.log("üîç EXTRACT SUMMARY: Found paragraphs:",u.length),u.length>0&&console.log("üîç EXTRACT SUMMARY: First paragraph:",u[0]);const m=u[0]||"",C=V(m);return console.log("üîç EXTRACT SUMMARY: Returning fallback content (cleaned):",C),{content:C,hasHeading:!1}}function V(t){if(!t)return"";let e=t;return e=e.replace(/([a-z])([A-Z])/g,"$1 $2"),e=e.replace(/([a-zA-Z])(\d)/g,"$1 $2"),e=e.replace(/(\d)([a-zA-Z])/g,(o,s,i)=>t.includes(s+"+")?o:s+" "+i),["and","of","in","to","with","for","the","as","at","by","on","or"].forEach(o=>{const s=new RegExp(`([a-z])${o}\\b`,"gi");e=e.replace(s,`$1 ${o}`);const i=new RegExp(`\\b${o}([a-z])`,"gi");e=e.replace(i,`${o} $1`)}),e=e.replace(/([a-z])([,.;:])/gi,"$1$2 "),e=e.replace(/([,.;:])([a-zA-Z])/g,"$1 $2"),e=e.replace(/\s+/g," ").trim(),e=e.replace(/\be - commerce\b/gi,"e-commerce"),e=e.replace(/\bed - tech\b/gi,"ed-tech"),e=e.replace(/\bA R R\b/gi,"ARR"),e=e.replace(/\bR O I\b/gi,"ROI"),e=e.replace(/\bA I\b/gi,"AI"),e=e.replace(/\bM L\b/gi,"ML"),e=e.replace(/\bC P O\b/gi,"CPO"),e}function F(t){const e=[/(\d+)\+?\s*years?\s*(of\s*)?(experience|exp)/gi,/over\s*(\d+)\s*years?\s*(of\s*)?(experience|exp)/gi,/more than\s*(\d+)\s*years?\s*(of\s*)?(experience|exp)/gi,/(\d+)\+?\s*year\s*(experienced|professional)/gi,/(experienced|seasoned|veteran)\s*(professional|expert|leader)/gi,/\b(\d+)\+?\s*years?\b/gi,/(senior|lead|principal|staff)\s*(engineer|developer|manager|leader)/gi,/(accomplished|proven|established)\s*(professional|leader|expert)/gi];console.log("üîç hasYearsOfExperience testing against:",t);const o=e.map((s,i)=>{const a=s.test(t);return console.log(`Pattern ${i}: ${s} -> ${a}`),a}).some(s=>s);return console.log("üîç hasYearsOfExperience final result:",o),o}function qe(t){if(!y)return console.warn("Skills-buzzwords config not loaded, using fallback analysis"),["skill","experience","expertise","proficient","knowledge","ability","capable"].some(i=>t.toLowerCase().includes(i));const e=[...y.technicalSkills||[],...y.professionalSkills||[],...y.industryTerms||[]],n=t.toLowerCase(),o=e.filter(s=>n.includes(s.toLowerCase()));return console.log("Skills analysis (from config):",o),o.length>=1}function Ye(t){if(!y)return console.warn("Skills-buzzwords config not loaded, using fallback analysis"),["drive","deliver","optimize","transform","innovate","scale","growth","efficiency"].some(i=>t.toLowerCase().includes(i));const e=[];y.buzzwords&&Object.values(y.buzzwords).forEach(s=>{e.push(...s)});const n=t.toLowerCase(),o=e.filter(s=>n.includes(s.toLowerCase()));return console.log("Buzzwords analysis (from config):",o),o.length>=2}function Ke(t){const e=[/\b\d+\.?\d*\s*%/g,/\$[\d,]+\.?\d*[kmb]?/gi,/\b\d{2,}[,\d]*\s*(users?|customers?|clients?|people|projects?|systems?|applications?)\b/gi,/\b(\d+x|doubled?|tripled?)\b/gi,/\b(over|more than|up to|above|exceeding?)\s*\d{2,}/gi,/\b\d+\s*(years?|months?)\s*(of\s*)?(experience|exp)/gi];console.log("üîç hasQuantification testing against:",t),console.log('üîç QUANTIFICATION TEST: Looking for "$10M+ ARR" pattern...');const n="$10M+ ARR";console.log('üîç QUANTIFICATION TEST: Testing "$10M+ ARR" directly...');const s=e.map((i,a)=>{i.lastIndex=0;const r=i.test(t);i.lastIndex=0;const c=i.test(n);if(console.log(`Quantification Pattern ${a}: ${i} -> ${r} (test on "$10M+ ARR": ${c})`),r){i.lastIndex=0;const l=t.match(i);console.log("  -> Found matches in summary:",l)}if(c){i.lastIndex=0;const l=n.match(i);console.log('  -> Test matches on "$10M+ ARR":',l)}return r}).some(i=>i);return console.log("üîç hasQuantification final result:",s),s}function Xe(t){const e=t.trim().split(/\s+/).length,n=t.split(/[.!?]+/).filter(o=>o.trim().length>5).length;return n>=2&&n<=4&&e>=50&&e<=150}function Qe(t){const e=t.trim().split(/\s+/).length,n=t.split(/[.!?]+/).filter(o=>o.trim().length>5).length;return n>=1&&n<=6&&e>=30&&e<=300}function Je(t){let e=0;if(window.ActionVerbs&&window.ActionVerbs.countVerbsInText){const n=window.ActionVerbs.countVerbsInText(t,"TEAMWORK_COLLABORATION_SKILLS"),o=window.ActionVerbs.countVerbsInText(t,"COMMUNICATION_SKILLS");e+=Math.min(n*1.5,6),e+=Math.min(o*.2,2);const i=["team","cross-functional","partnership","stakeholders","collaboration"].filter(a=>t.toLowerCase().includes(a)).length;e+=Math.min(i*.4,2)}else{const n=["team","collaborate","cooperation","partnership","group","cross-functional"],o=t.toLowerCase(),s=n.filter(i=>o.includes(i)).length;e+=Math.min(s*1.7,10)}return Math.min(e,10)}function Ze(t){let e=10;const n=[];if(window.ActionVerbs&&window.ActionVerbs.getAllStrongVerbs){const d=window.ActionVerbs.getAllStrongVerbs();n.push(...d)}const o={},s=t.toLowerCase();n.forEach(d=>{const g=d.toLowerCase(),b=new RegExp(`\\b${g}\\b`,"gi"),p=s.match(b);p&&p.length>1&&(o[g]=p.length)});const i=Object.values(o).filter(d=>d>1);e-=i.length;const a=t.toLowerCase().split(/\s+/),r={},c=["that","this","with","from","have","been","were","will","they","them","their","there","where","when","what","which","work","team","project","company","business","experience","years"];a.forEach(d=>{const g=d.replace(/[^\w]/g,"");g.length>4&&!c.includes(g)&&(r[g]=(r[g]||0)+1)});const l=Object.values(r).filter(d=>d>3).length;e-=Math.min(l*.5,3);const u=t.toLowerCase().match(/\b\w+\s+\w+\b/g)||[],m={};u.forEach(d=>{!c.includes(d.split(" ")[0])&&!c.includes(d.split(" ")[1])&&(m[d]=(m[d]||0)+1)});const C=Object.values(m).filter(d=>d>1).length;return e-=Math.min(C*.5,2),Math.max(e,0)}function et(t){const e=t.toLowerCase();let n=10;const s=["references available","hobbies","interests","personal information"].filter(i=>e.includes(i)).length;return n-=s*2,Math.max(n,4)}function tt(t){const e=t.toLowerCase(),n=["promoted","advancement","progression","senior","lead","principal","director"];let o=0;const s=n.filter(i=>e.includes(i)).length;return o+=Math.min(s*1.4,10),Math.min(o,10)}function nt(t){let e=10;const n=t.trim().split(/\s+/).length,o=t.length,s=t.split(`
`).length,i=Math.ceil(n/550);D(t)<6?i>1&&(i===2?e-=4:i>=3&&(e-=7)):i>2&&(e-=5);const r=n/i;r<300?e-=2:r>700&&(e-=3);const c=n/s;c<3?e-=1:c>15&&(e-=2);const l=ot(t);e+=l;const u=(t.match(/\s/g)||[]).length/o;return u<.15?e-=2:u>.25&&(e-=1),Math.max(Math.min(e,10),0)}function D(t){const e=t.toLowerCase(),n=[/(\d+)\+?\s*years?\s*(of\s*)?(experience|exp)/gi,/over\s*(\d+)\s*years?\s*(of\s*)?(experience|exp)/gi,/more than\s*(\d+)\s*years?\s*(of\s*)?(experience|exp)/gi];for(const i of n){const a=e.match(i);if(a){const r=a[0].match(/\d+/);if(r)return parseInt(r[0])}}const o=new Date().getFullYear(),s=t.match(/\b(19|20)\d{2}\b/g);if(s&&s.length>=2){const i=s.map(c=>parseInt(c)).sort(),a=i[0];if(i[i.length-1]>=o-1)return Math.min(o-a,20)}return t.length>2e3?8:t.length>1500?5:3}function ot(t){let e=0;[/\b(professional\s+)?(summary|objective|profile)\b/gi,/\b(professional\s+|work\s+)?experience\b/gi,/\beducation\b/gi,/\bskills\b/gi,/\b(contact|contact\s+information)\b/gi].filter(c=>c.test(t)).length>=4&&(e+=1),(t.match(/[‚Ä¢‚ñ™‚ñ´‚ñ†‚ñ°‚ó¶‚Ä£‚ÅÉ-]/g)||[]).length>=5&&(e+=.5);const i=[(t.match(/\d{4}\s*[-‚Äì]\s*\d{4}/g)||[]).length,(t.match(/\d{1,2}\/\d{4}/g)||[]).length,(t.match(/[A-Za-z]+\s+\d{4}/g)||[]).length],a=Math.max(...i),r=i.reduce((c,l)=>c+l,0);return r>0&&a/r>=.8&&(e+=.5),Math.min(e,2)}function st(t){const e=t.toLowerCase(),n=["initiative","self-motivated","proactive","launched","founded","created","innovated"];let o=0;const s=n.filter(i=>e.includes(i)).length;return o+=Math.min(s*1.4,10),Math.min(o,10)}function it(t,e=null){if(!w)return;w.innerHTML="";let n,o,s,i;if(e?(o=e.topFixes,s=e.needFixes,i=e.completed,n=[...o,...s]):(n=v.filter(r=>r.score&&r.score<9),o=v.filter(r=>r.score<6),s=v.filter(r=>r.score>=6&&r.score<=8),i=v.filter(r=>r.score>=9)),n.length===0){w.innerHTML=`
            <div class="text-center py-8">
                <div class="text-6xl mb-4">üéâ</div>
                <h3 class="text-xl font-semibold text-gray-900 mb-2">Perfect ATS Score!</h3>
                <p class="text-gray-600">All categories are optimized. Your resume is ready!</p>
            </div>
        `;return}n.forEach((r,c)=>{const l=document.createElement("div");l.className=`issue-card severity-${r.severity}`;const u=r.score>=8?"text-yellow-600":r.score>=6?"text-orange-600":"text-red-600";l.innerHTML=`
            <div class="flex-1">
                <div class="flex items-center justify-between mb-2">
                    <h3 class="text-lg font-semibold text-gray-900">${r.title}</h3>
                    <div class="text-sm font-bold ${u}">${r.score}/10</div>
                </div>
                <p class="text-gray-600 mb-3">${r.description}</p>
                <div class="flex items-center justify-between">
                    <div class="impact-badge">
                        ${ct(r.impact)} ${lt(r.impact)}
                    </div>
                    <div class="text-xs text-gray-500">
                        ${dt(r.severity)}
                    </div>
                </div>
            </div>
            <button class="fix-button" onclick="handleFixIssue('${r.title}', ${c})">
                FIX ‚Üí
            </button>
        `,w.appendChild(l)});const a=document.createElement("div");a.className="bg-blue-50 border border-blue-200 rounded-12 p-6 mb-6",a.innerHTML=`
        <div class="flex items-center mb-3">
            <div class="w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center mr-4">
                <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                </svg>
            </div>
            <div>
                <h3 class="text-lg font-semibold text-gray-900">ATS Analysis Summary</h3>
                <p class="text-sm text-gray-600">${n.length} areas need improvement out of 21 categories analyzed</p>
            </div>
        </div>
        <div class="grid grid-cols-3 gap-4 text-center">
            <div>
                <div class="text-2xl font-bold text-red-600">${o.length}</div>
                <div class="text-xs text-gray-600 uppercase">High Priority</div>
            </div>
            <div>
                <div class="text-2xl font-bold text-yellow-600">${s.length}</div>
                <div class="text-xs text-gray-600 uppercase">Need Fixes</div>
            </div>
            <div>
                <div class="text-2xl font-bold text-green-600">${i.length}</div>
                <div class="text-xs text-gray-600 uppercase">Completed</div>
            </div>
        </div>
    `,w.insertBefore(a,w.firstChild)}function at(t){if(!O||!W)return;O.innerHTML="",[{title:"Contact Information",description:"Complete contact details with professional email and phone number."},{title:"Professional Format",description:"Clean, ATS-friendly format that scans well across different systems."},{title:"Education Section",description:"Well-structured education section with clear degree and institution details."},{title:"File Structure",description:"PDF format ensures consistent formatting across different devices and systems."},{title:"Length Optimization",description:"Appropriate resume length that provides sufficient detail without being too lengthy."},{title:"Grammar Quality",description:"Professional language with proper grammar and sentence structure."}].forEach(n=>{const o=document.createElement("div");o.className="strength-item",o.innerHTML=`
            <div class="check-icon">
                <svg class="w-3 h-3 text-white" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                </svg>
            </div>
            <div class="flex-1">
                <h4 class="font-semibold text-gray-900">${n.title}</h4>
                <p class="text-gray-600 mt-1">${n.description}</p>
            </div>`,O.appendChild(o)})}function rt(t){const e=t.nextElementSibling,n=t.querySelector("svg"),o=t.querySelector("span");if(e.classList.contains("hidden")){e.classList.remove("hidden"),n.style.transform="rotate(180deg)";const s=e.querySelectorAll(".strength-item").length;o.textContent=`Hide ${s} additional categories`,setTimeout(()=>{const i=document.getElementById("upgradeBtn");i&&i.scrollIntoView({behavior:"smooth",block:"end"})},300)}else{e.classList.add("hidden"),n.style.transform="rotate(0deg)";const s=e.querySelectorAll(".strength-item").length;o.textContent=`Show ${s} more completed categories`}}window.toggleAdditionalStrengths=rt;function ct(t){return{BREVITY:"üìù",IMPACT:"‚ö°",SECTIONS:"üìã",STYLE:"üé®",ALL:"üéØ"}[t]||"üìå"}function lt(t){return t||"ALL"}function dt(t){return{high:"High Priority",medium:"Medium Priority",low:"Low Priority"}[t]||"Medium Priority"}window.handleFixIssue=function(t,e){console.log(`Fix requested for: ${t}`);const n=gt(t,f);Et(t,n)};function gt(t,e){const n=e.insights||{},o=e.resume_text||e.text||"";return ut(t,n,o)}function ut(t,e,n){const o=[],s=e.quick_wins||[],i=e.critical_issues||[],a=e.improvement_suggestions||[],r=[...s,...i,...a],c=mt(t,r);if(c.length>0)c.forEach(l=>{o.push({line:ht(l,n),issue:l.title||l.issue||l.suggestion||"Issue needs attention",fix:l.recommendation||l.solution||`Improved version addressing: ${l.issue||l.suggestion}`,fromAnalysis:!0})});else{const l=bt(t,n);o.push(...l)}return o.slice(0,3)}function mt(t,e,n){const o=pt(t);return e.filter(s=>{const i=(s.title||s.issue||s.suggestion||"").toLowerCase();return o.some(a=>i.includes(a))})}function pt(t){return{summary:["summary","objective","profile","overview"],"quantity impact":["quantify","metric","number","percentage","result","achievement"],"weak verbs":["verb","action","responsible","duties","passive"],verbosity:["concise","wordy","lengthy","verbose","brief"],"spelling & consistency":["spelling","typo","error","consistent","mistake"],grammar:["grammar","tense","sentence","structure"],"active voice":["active","passive","voice"],"verb tenses":["tense","past","present","consistent"],"education section":["education","degree","university","school"],"skills section":["skills","technical","competencies"],"contact details":["contact","phone","email","address"],"use of bullets":["bullet","format","list","structure"]}[t.toLowerCase()]||[t.toLowerCase()]}function ht(t,e){if(!e)return"Content from your resume that needs attention";const n=e.split(`
`).filter(s=>s.trim().length>10),o=(t.title||t.issue||"").toLowerCase().split(" ");for(let s of n){const i=s.toLowerCase().split(" ");if(o.filter(r=>i.some(c=>c.includes(r)&&r.length>3)).length>0)return s.trim()}return ft(t,n)}function ft(t,e){var o;const n=(t.title||t.issue||"").toLowerCase();for(let s of e)if(n.includes("verb")&&(s.includes("responsible for")||s.includes("duties include"))||n.includes("quantify")&&(s.includes("improved")||s.includes("increased"))&&!s.match(/\d+/)||n.includes("summary")&&(s.includes("seeking")||s.includes("professional")))return s.trim();return((o=e.find(s=>s.length>30))==null?void 0:o.trim())||"Sample content from your resume"}function bt(t,e){if(!e||e.length<50)return[{line:"Resume content needs enhancement",issue:`${t} section requires improvement for ATS optimization`,fix:"Enhance this section with more relevant content and keywords"}];const n=e.split(`
`).filter(s=>s.trim().length>15),o=[];return n.forEach(s=>{if(o.length>=2)return;const i=yt(s,t);i&&o.push(i)}),o.length===0&&o.push({line:n[0]||"Resume content",issue:`${t} optimization needed for better ATS performance`,fix:"Professional optimization will improve this section for ATS systems"}),o}function yt(t,e){const n=e.toLowerCase();return n.includes("verb")&&(t.toLowerCase().includes("responsible for")||t.toLowerCase().includes("duties include"))?{line:t.trim(),issue:"Uses weak passive language instead of strong action verbs",fix:"Replace with specific action verbs showing leadership and results"}:n.includes("quantify")&&(t.includes("improved")||t.includes("increased"))&&!t.match(/\d+/)?{line:t.trim(),issue:"Claims improvement without specific metrics or numbers",fix:"Add quantified results with percentages, dollar amounts, or specific numbers"}:n.includes("spelling")&&t.length>50?{line:t.trim(),issue:"May contain spelling or consistency issues requiring review",fix:"Professional review will identify and correct any errors"}:null}function Et(t,e){const n=document.createElement("div");n.className="fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",n.id="issueDetailModal",n.innerHTML=`
        <div class="bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto">
            <div class="sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between">
                <h2 class="text-xl font-bold text-gray-900">Fix: ${t}</h2>
                <button onclick="closeIssueModal()" class="text-gray-400 hover:text-gray-600">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
            
            <div class="p-6">
                <div class="mb-6">
                    <h3 class="text-lg font-semibold text-gray-900 mb-2">Specific Issues Found in Your Resume:</h3>
                    <p class="text-gray-600">Here are examples of areas that need improvement for better ATS optimization:</p>
                </div>
                
                ${e.map((o,s)=>`
                    <div class="mb-8 border border-gray-200 rounded-lg overflow-hidden">
                        <div class="bg-red-50 p-4 border-b border-gray-200">
                            <h4 class="font-semibold text-red-800 mb-2">‚ùå Current (Problematic):</h4>
                            <div class="bg-white p-3 rounded border-l-4 border-red-500">
                                <code class="text-sm text-gray-800">"${o.line}"</code>
                            </div>
                            <p class="text-sm text-red-700 mt-2"><strong>Issue:</strong> ${o.issue}</p>
                        </div>
                        
                        <div class="bg-green-50 p-4">
                            <h4 class="font-semibold text-green-800 mb-2">‚úÖ Improved (ATS-Optimized):</h4>
                            <div class="bg-white p-3 rounded border-l-4 border-green-500">
                                <code class="text-sm text-gray-800">"${o.fix}"</code>
                            </div>
                        </div>
                    </div>
                `).join("")}
                
                <div class="bg-blue-50 border border-blue-200 rounded-lg p-6 mt-8">
                    <h4 class="font-semibold text-blue-800 mb-3">üí° Why This Matters for ATS:</h4>
                    <p class="text-blue-700 text-sm">
                        ${At(t)}
                    </p>
                </div>
                
                <div class="flex gap-4 mt-8">
                    <button onclick="closeIssueModal()" class="flex-1 bg-gray-200 text-gray-800 py-3 px-6 rounded-lg font-medium hover:bg-gray-300">
                        I'll Fix This Manually
                    </button>
                    <button onclick="handleAutoFix('${t}')" class="flex-1 bg-purple-600 text-white py-3 px-6 rounded-lg font-medium hover:bg-purple-700">
                        üöÄ Auto-Fix with AI - FREE
                    </button>
                </div>
            </div>
        </div>
    `,document.body.appendChild(n)}function At(t){return{summary:"ATS systems scan for specific keywords and value propositions in the summary. Generic statements reduce your ranking compared to candidates with targeted, quantified summaries.","quantity impact":"ATS algorithms favor resumes with quantified achievements. Numbers and metrics demonstrate measurable impact and help you stand out in automated screening.","weak verbs":'Strong action verbs signal leadership and initiative to ATS systems. Weak verbs like "responsible for" are passive and reduce the impact score of your accomplishments.',verbosity:"ATS systems may truncate overly long descriptions, causing important information to be missed. Concise, impactful statements ensure all your achievements are captured.","spelling & consistency":"ATS systems flag spelling errors as quality indicators. Even minor mistakes can significantly impact your overall ATS score and prevent you from reaching human reviewers.","active voice":"ATS systems favor active voice as it demonstrates ownership and leadership. Passive voice can make your achievements seem less impactful and reduce keyword matching.","verb tenses":"Consistent verb tenses help ATS systems understand your career timeline. Inconsistent tenses can confuse parsing algorithms and misrepresent your experience."}[t.toLowerCase()]||"Optimizing this area will improve your ATS score and increase your chances of passing automated screening systems used by most companies."}window.closeIssueModal=function(){const t=document.getElementById("issueDetailModal");t&&t.remove()};window.handleAutoFix=function(t){console.log(`Auto-fix requested for: ${t}`),closeIssueModal(),sessionStorage.setItem("fixIssue",t),sessionStorage.setItem("pendingUpgrade","true"),sessionStorage.setItem("upgradeSource","specific_fix"),N&&N.click()};function wt(){N&&N.addEventListener("click",()=>{sessionStorage.setItem("pendingUpgrade","true"),sessionStorage.setItem("upgradeSource","results_page"),window.location.href="./payment.html"})}console.log("üîÑ DEBUG: result.js module loaded");console.log("üîç DEBUG: DOM readyState:",document.readyState);console.log("üîç DEBUG: Available DOM elements check:");console.log("  - atsScore element:",!!document.getElementById("atsScore"));console.log("  - scoreCircle element:",!!document.getElementById("scoreCircle"));console.log("  - topFixesList element:",!!document.getElementById("topFixesList"));console.log("  - completedList element:",!!document.getElementById("completedList"));console.log("  - issuesList element:",!!document.getElementById("issuesList"));console.log("  - strengthsList element:",!!document.getElementById("strengthsList"));document.readyState==="loading"?(console.log("üîç DEBUG: DOM still loading, adding event listener"),document.addEventListener("DOMContentLoaded",()=>{console.log("üîç DEBUG: DOMContentLoaded event fired"),console.log("üîç DEBUG: Re-checking DOM elements after DOMContentLoaded:"),console.log("  - atsScore element:",!!document.getElementById("atsScore")),console.log("  - scoreCircle element:",!!document.getElementById("scoreCircle")),console.log("  - topFixesList element:",!!document.getElementById("topFixesList")),console.log("  - completedList element:",!!document.getElementById("completedList")),console.log("  - issuesList element:",!!document.getElementById("issuesList")),console.log("  - strengthsList element:",!!document.getElementById("strengthsList")),G()})):(console.log("üîç DEBUG: DOM already loaded, initializing directly"),G());async function G(){console.log("üîß DEBUG: Starting initializeWithActionVerbs...");try{console.log("üîß DEBUG: Checking for ActionVerbs module:",!!window.ActionVerbs),window.ActionVerbs&&window.ActionVerbs.loadActionVerbs?(console.log("üîß DEBUG: Loading ActionVerbs..."),await window.ActionVerbs.loadActionVerbs(),console.log("üîß DEBUG: ActionVerbs loaded successfully")):console.log("üîß DEBUG: ActionVerbs not available or loadActionVerbs method missing, proceeding without it"),console.log("üîß DEBUG: ActionVerbs setup complete, initializing results page")}catch(t){console.error("‚ùå DEBUG: Failed to load ActionVerbs:",t),console.warn("Failed to load ActionVerbs, proceeding with fallback analysis:",t)}console.log("üîß DEBUG: Calling main init() function..."),$()}function St(t){console.log("üîç GRAMMAR FALLBACK: Calculating fallback grammar score...");let e=0;const n=[/\bis\s+are\b/gi,/\bare\s+is\b/gi,/\bi\s+are\b/gi,/\byou\s+is\b/gi];let o=0;n.forEach((a,r)=>{const c=(t.match(a)||[]).length;o+=c,c>0&&console.log("üîç GRAMMAR FALLBACK: Found",c,"matches for pattern",r,a)}),console.log("üîç GRAMMAR FALLBACK: Total grammar issues found:",o),t.length>100?e=8:t.length>50?e=6:e=4,console.log("üîç GRAMMAR FALLBACK: Base score based on length:",e);const s=Math.min(o*2,6);e-=s,console.log("üîç GRAMMAR FALLBACK: Penalty applied:",s,"Score after penalty:",e);const i=Math.max(e,0);return console.log("üîç GRAMMAR FALLBACK: Final fallback score:",i),i}function Ct(t){let e=0;t.length>200?e=8:t.length>100?e=6:t.length>50?e=4:e=2;const o=["recieved","seperate","managment","acheivement","excelent","experiance","responsibilty","occured"].filter(r=>t.toLowerCase().includes(r)).length;return e-=o*1.5,[/\d{1,2}\/\d{4}/g,/\d{4}-\d{2}/g,/[A-Za-z]+ \d{4}/g].map(r=>(t.match(r)||[]).length).filter(r=>r>0).length>1&&(e-=1),Math.max(e,0)}function vt(t){console.log("üîç GRAMMAR UPDATE: Attempting to update grammar score to:",t);const e=document.querySelectorAll('[data-category="Grammar"]');console.log("üîç GRAMMAR UPDATE: Found grammar elements:",e.length);const n=document.querySelectorAll('[data-category="Grammar & Spelling"]');console.log('üîç GRAMMAR UPDATE: Found "Grammar & Spelling" elements:',n.length),[...e,...n].forEach((o,s)=>{console.log("üîç GRAMMAR UPDATE: Processing element",s,o);const i=o.querySelector(".score");if(i){console.log("üîç GRAMMAR UPDATE: Found score element, updating from",i.textContent,"to",`${t}/10`),i.textContent=`${t}/10`;const a=`score ${t>=8?"text-green-600":t>=6?"text-yellow-600":"text-red-600"}`;i.className=a,console.log("üîç GRAMMAR UPDATE: Applied new class:",a)}else console.log("‚ùå GRAMMAR UPDATE: No score element found in element",s)}),_()}function Lt(t){document.querySelectorAll('[data-category="Spelling & Consistency"]').forEach(n=>{const o=n.querySelector(".score");o&&(o.textContent=`${t}/10`,o.className=`score ${t>=8?"text-green-600":t>=6?"text-yellow-600":"text-red-600"}`)}),_()}function _(){const t=document.querySelectorAll(".score");let e=0,n=0;if(t.forEach(o=>{const s=o.textContent.match(/(\d+)\/10/);s&&(e+=parseInt(s[1]),n++)}),n>0){const o=Math.round(e/n*10),s=document.querySelector("#overall-score");s&&(s.textContent=o)}}window.debugResults={analysisData:()=>f,allIssues:()=>v,reinit:$};
