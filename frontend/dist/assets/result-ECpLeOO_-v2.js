import"./modulepreload-polyfill-B5Qt9EMX-v2.js";/* empty css                  */const h=document.getElementById("atsScore"),v=document.getElementById("scoreCircle"),L=document.getElementById("markedAsDone"),b=document.getElementById("topFixesList"),y=document.getElementById("completedList"),m=document.getElementById("issuesList"),B=document.getElementById("strengthsList"),g=document.getElementById("upgradeBtn"),C=document.getElementById("summaryText"),x=document.getElementById("highPriorityCount"),E=document.getElementById("needFixesCount"),I=document.getElementById("completedCount");let a,f=null;try{const e=sessionStorage.getItem("atsAnalysis");console.log("üìä Raw session data:",e),a=JSON.parse(e||"{}"),console.log("üìä Parsed Analysis Data:",a),console.log("üîç INITIAL DATA CHECK:"),console.log("üîç Has comprehensive_issues_report?","comprehensive_issues_report"in a),console.log("üîç comprehensive_issues_report value:",a.comprehensive_issues_report)}catch(e){console.error("‚ùå Failed to parse session data:",e),a={}}async function T(){if(console.log("üöÄ Initializing result page..."),console.log("üîç All session storage keys:",Object.keys(sessionStorage)),console.log("üîç atsAnalysis:",sessionStorage.getItem("atsAnalysis")),console.log("üîç atsResults:",sessionStorage.getItem("atsResults")),!a||Object.keys(a).length===0){console.error("‚ùå No analysis data found");const e=sessionStorage.getItem("atsResults")||sessionStorage.getItem("analysisResults");if(e){console.log("üìä Found alternative data:",e);try{a=JSON.parse(e),console.log("üìä Using alternative data:",a)}catch(t){console.error("‚ùå Failed to parse alternative data:",t)}}if(!a||Object.keys(a).length===0){Se("No analysis data found. Please upload your resume again.");return}}await _(),R(),H(),V(),J(),Q(),console.log("‚úÖ Result page initialized successfully")}async function _(){try{const e=await S(),t=e.bypass_payment||e.free_mode_enabled,s=document.getElementById("upgradeBtn");s&&(t?s.innerHTML="üöÄ FIX MY RESUME NOW - FREE üöÄ":s.innerHTML="üöÄ FIX THIS RESUME NOW - ‚Çπ99 üöÄ"),console.log(`üîß CTA text updated - bypass: ${t}`)}catch(e){console.error("‚ö†Ô∏è Failed to update CTA text:",e)}}async function F(e){try{const t=await S();t.bypass_payment||t.free_mode_enabled?(e.innerHTML="üöÄ Fix for Free - Instant Results",e.className="flex-1 bg-gradient-to-r from-green-500 to-green-600 text-white font-bold py-3 px-6 rounded-lg hover:from-green-600 hover:to-green-700 transition-all duration-300 shadow-lg text-base"):(e.innerHTML="üöÄ Fix This - ‚Çπ99",e.className="flex-1 bg-gradient-to-r from-blue-500 to-blue-600 text-white font-bold py-3 px-6 rounded-lg hover:from-blue-600 hover:to-blue-700 transition-all duration-300 shadow-lg text-base")}catch(t){console.error("‚ö†Ô∏è Failed to update modal CTA button:",t)}}function R(){if(!h)return;const e=Math.round(a.score||a.ats_score||0);h.textContent=e,h.classList.remove("initial-loading"),h.classList.add("loaded"),console.log("üìä SCORE DEBUG: Received scores from backend:",{score:a.score,ats_score:a.ats_score,finalUsed:e,whichFieldUsed:a.score?"score":"ats_score"}),v&&(e>=80?v.style.borderColor="#10b981":e>=60?v.style.borderColor="#f59e0b":v.style.borderColor="#ef4444")}function H(){const e=a.detailedAnalysis||a.detailed_analysis||{},t=a.component_scores||{};console.log("üìä DEBUG: Full analysisData keys:",Object.keys(a)),console.log("üìä DEBUG: analysisData.detailedAnalysis exists:",!!a.detailedAnalysis),console.log("üìä DEBUG: analysisData.detailed_analysis exists:",!!a.detailed_analysis),console.log("üìä DEBUG: detailedAnalysis keys:",a.detailedAnalysis?Object.keys(a.detailedAnalysis):"NONE"),console.log("üìä DEBUG: detailedAnalysis count:",a.detailedAnalysis?Object.keys(a.detailedAnalysis).length:0),console.log("üìä Detailed Analysis:",e),console.log("üìä Component Scores:",t),b&&(b.innerHTML=""),y&&(y.innerHTML=""),m&&(m.innerHTML="");const s=P(t,e),n=s.filter(r=>r.score<6),o=s.filter(r=>r.score>=6&&r.score<9),i=s.filter(r=>r.score>=9);if(console.log("üìä Category breakdown:",{low:n.length,medium:o.length,high:i.length,total:s.length}),C){const r=n.length+o.length;C.textContent=`${r} areas need improvement out of ${s.length} categories analyzed`}x&&(x.textContent=n.length,x.classList.remove("initial-loading"),x.classList.add("loaded")),E&&(E.textContent=o.length,E.classList.remove("initial-loading"),E.classList.add("loaded")),I&&(I.textContent=i.length,I.classList.remove("initial-loading"),I.classList.add("loaded")),L&&(L.textContent=`${i.length} COMPLETED`,L.classList.remove("initial-loading"),L.classList.add("loaded")),G(n,o,i),O(n,o,i),j(n,o),U(i)}function P(e,t){const s=[];return console.log("üîç Creating categories from comprehensive backend analysis:",t),t&&Object.keys(t).length>0?Object.entries(t).forEach(([n,o])=>{if(o&&typeof o.score<"u"){const i=Math.max(0,Math.min(10,Math.round(o.score))),r=n.split("_").map(p=>p.charAt(0).toUpperCase()+p.slice(1)).join(" ").replace("And","&"),l=o.issues&&o.issues.length>0?o.issues[0]:"Needs improvement",d=o.impact||"IMPROVEMENT";s.push({name:r,score:i,issue:l,impact:d}),console.log(`üìä ${r}: ${i}/10`)}else console.warn(`‚ö†Ô∏è No data for ${n}:`,o)}):console.error("‚ùå No comprehensive backend analysis found"),console.log(`üìä Final categories created: ${s.length} total`),console.log("üìä Categories:",s.map(n=>n.name)),s}function O(e,t,s){const n=document.getElementById("highPriorityDetailCount"),o=document.getElementById("needFixesDetailCount"),i=document.getElementById("completedDetailCount");n&&(n.textContent=e.length),o&&(o.textContent=t.length),i&&(i.textContent=s.length);const r=document.getElementById("highPriorityDetailList"),l=document.getElementById("needFixesDetailList"),d=document.getElementById("completedDetailList");if(r&&(r.innerHTML="",e.slice(0,5).forEach(c=>{const u=document.createElement("div");u.className="flex justify-between items-center py-1",u.innerHTML=`
                <span class="text-xs">${c.name}</span>
                <span class="text-xs font-medium text-red-600">${c.score}/10</span>
            `,r.appendChild(u)}),e.length>5)){const c=document.createElement("div");c.className="text-xs text-gray-400 py-1",c.textContent=`+${e.length-5} more items`,r.appendChild(c)}if(l&&(l.innerHTML="",t.slice(0,5).forEach(c=>{const u=document.createElement("div");u.className="flex justify-between items-center py-1",u.innerHTML=`
                <span class="text-xs">${c.name}</span>
                <span class="text-xs font-medium text-orange-600">${c.score}/10</span>
            `,l.appendChild(u)}),t.length>5)){const c=document.createElement("div");c.className="text-xs text-gray-400 py-1",c.textContent=`+${t.length-5} more items`,l.appendChild(c)}if(d&&(d.innerHTML="",s.slice(0,5).forEach(c=>{const u=document.createElement("div");u.className="flex justify-between items-center py-1",u.innerHTML=`
                <span class="text-xs">${c.name}</span>
                <span class="text-xs font-medium text-green-600">${c.score}/10</span>
            `,d.appendChild(u)}),s.length>5)){const c=document.createElement("div");c.className="text-xs text-gray-400 py-1",c.textContent=`+${s.length-5} more items`,d.appendChild(c)}const p=document.getElementById("summaryInsights");if(p){let c="";e.length>0?c=`Focus on ${e[0].name.toLowerCase()} first - it has the biggest impact on your ATS score`:t.length>0?c=`Great job! Focus on ${t[0].name.toLowerCase()} for further improvement`:c="Excellent! Your resume is well-optimized for ATS systems",p.textContent=c}}function G(e,t,s){b&&[...e,...t].forEach(n=>{const o=document.createElement("div");o.className="sidebar-item";const i=n.score<6?"text-red-600":"text-orange-600";o.innerHTML=`
                <span class="text-sm text-gray-700">${n.name}</span>
                <span class="text-sm font-bold ${i}">${n.score}/10</span>
            `,b.appendChild(o)}),y&&s.forEach(n=>{const o=document.createElement("div");o.className="sidebar-item",o.innerHTML=`
                <span class="text-sm text-gray-700">${n.name}</span>
                <span class="text-sm font-bold text-green-600">${n.score}/10</span>
            `,y.appendChild(o)})}function j(e,t){if(!m)return;const s=[...e,...t];if(s.length===0){m.innerHTML=`
            <div class="text-center py-8">
                <div class="text-6xl mb-4">üéâ</div>
                <h3 class="text-xl font-semibold text-gray-900 mb-2">Perfect ATS Score!</h3>
                <p class="text-gray-600">All categories are optimized. Your resume is ready!</p>
            </div>
        `;return}s.forEach((n,o)=>{const i=document.createElement("div"),r=n.score<6?"severity-high":"severity-medium",l=n.score<6?"high":"medium";i.className=`issue-card ${r}`,i.innerHTML=`
            <div class="issue-content">
                <h3>${n.name}</h3>
                <p>${n.issue}</p>
                <div class="issue-meta">
                    <span class="score-badge">${n.score}/10</span>
                    <span class="impact-badge ${l}">${n.impact}</span>
                </div>
            </div>
            <button class="fix-button" onclick="handleFixIssue('${n.name}', ${o})">
                FIX ‚Üí
            </button>
        `,m.appendChild(i)})}function U(e){if(B){if(e.length===0){B.innerHTML=`
            <div class="text-center py-8">
                <p class="text-gray-600">Complete the improvements above to unlock your strengths!</p>
            </div>
        `;return}e.forEach(t=>{const s=document.createElement("div");s.className="strength-item",s.innerHTML=`
            <div class="check-icon">
                <svg class="w-4 h-4 text-white" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                </svg>
            </div>
            <div class="strength-content">
                <h4>${t.name}</h4>
                <p>Excellent! Your ${t.name.toLowerCase()} is well-optimized for ATS systems.</p>
            </div>
        `,B.appendChild(s)})}}function V(){const e=document.getElementById("toggleSummaryBtn"),t=document.getElementById("toggleSummaryIcon"),s=document.getElementById("summaryDetails");e&&t&&s&&e.addEventListener("click",()=>{s.classList.contains("hidden")?(s.classList.remove("hidden"),t.style.transform="rotate(180deg)",e.title="Hide detailed breakdown"):(s.classList.add("hidden"),t.style.transform="rotate(0deg)",e.title="Show detailed breakdown")});const n=document.getElementById("toggleIssuesBtn"),o=document.getElementById("toggleIcon");n&&m&&o&&n.addEventListener("click",()=>{m.classList.contains("hidden")?(m.classList.remove("hidden"),o.style.transform="rotate(180deg)",n.querySelector("h3").textContent="Hide Detailed Issues",n.querySelector("p").textContent="Collapse the detailed issues breakdown"):(m.classList.add("hidden"),o.style.transform="rotate(0deg)",n.querySelector("h3").textContent="Show Detailed Issues",n.querySelector("p").textContent="View the detailed issues breakdown")});const i=document.getElementById("toggleStrengthsBtn"),r=document.getElementById("toggleStrengthsIcon"),l=document.getElementById("strengthsContent"),d=document.getElementById("strengthsSection");i&&r&&l&&(d&&d.classList.remove("hidden"),i.addEventListener("click",()=>{l.classList.contains("hidden")?(l.classList.remove("hidden"),r.style.transform="rotate(180deg)",i.querySelector("h3").textContent="Hide What You Did Well",i.querySelector("p").textContent="Collapse the strengths section"):(l.classList.add("hidden"),r.style.transform="rotate(0deg)",i.querySelector("h3").textContent="Show What You Did Well",i.querySelector("p").textContent="View areas where your resume already excels")}))}async function S(){if(f)return f;try{const s=`${window.location.hostname!=="localhost"&&window.location.hostname!=="127.0.0.1"?"https://bestcvbuilder-api.onrender.com/api":"/api"}/config/`,n=await fetch(s,{method:"GET",headers:{"Content-Type":"application/json"}});if(!n.ok)throw new Error(`Config fetch failed: ${n.status}`);return f=await n.json(),console.log("üîß App config loaded:",f),f}catch(e){return console.error("‚ö†Ô∏è Failed to fetch app config, using defaults:",e),f={bypass_payment:!0,free_mode_enabled:!0,features:{free_cv_rewrite:!0,payment_bypass:!0}},f}}async function $(e="upgrade"){console.log(`üöÄ CTA clicked from: ${e}`);const t=JSON.parse(sessionStorage.getItem("customerInfo")||"{}");console.log("üë§ Customer info for CV rewrite:",t);const s=await S(),n=s.bypass_payment||s.free_mode_enabled;console.log(`üîß Payment bypass enabled: ${n}`),n?(console.log("‚úÖ Free mode: proceeding directly to TXT download"),await W()):(console.log("üí≥ Paid mode: redirecting to payment page"),sessionStorage.setItem("pendingAnalysis",JSON.stringify(a)),sessionStorage.setItem("customerInfoForPayment",JSON.stringify(t)),window.location.href="./payment.html")}async function W(){console.log("üìÑ Showing TXT download page...");try{q(),console.log("üîç DEBUGGING TXT REPORT GENERATION"),console.log("üìä Full analysisData keys:",Object.keys(a)),console.log("üìä analysisData structure:",JSON.stringify(a,null,2));const e=a.comprehensive_issues_report;if(console.log("üîç comprehensive_issues_report field:",e),console.log("üîç Type of comprehensive_issues_report:",typeof e),console.log("üîç Is null/undefined?",e==null),e&&e.length>0)sessionStorage.setItem("comprehensiveReport",e),console.log("‚úÖ Comprehensive report found and stored"),console.log("üìÑ Report length:",e.length),console.log("üìÑ Report preview (first 200 chars):",e.substring(0,200));else{console.log("‚ö†Ô∏è FALLBACK TRIGGERED:"),console.log("   - comprehensiveReport exists?",!!e),console.log("   - comprehensiveReport length?",(e==null?void 0:e.length)||"N/A"),console.log("   - comprehensiveReport content?",e||"NULL/UNDEFINED");const t=z();sessionStorage.setItem("comprehensiveReport",t),console.log("‚ö†Ô∏è Generated basic report as fallback"),console.log("üìÑ Basic report length:",t.length)}window.location.href="./download-report.html"}catch(e){console.error("‚ùå Failed to show TXT download page:",e),K(),alert("Failed to generate issues report. Please try again.")}}function z(){const e=a.score||a.ats_score||0,t=a.detailedAnalysis||a.detailed_analysis||{};let s=`ATS ISSUES REPORT
`;return s+=`${"=".repeat(50)}
`,s+=`Current ATS Score: ${e}/100
`,s+=`Report Generated: ${new Date().toLocaleString()}

`,s+=`ISSUES BY CATEGORY
`,s+=`${"-".repeat(30)}

`,Object.entries(t).forEach(([n,o])=>{if(o&&o.score<10){const i=n.split("_").map(r=>r.charAt(0).toUpperCase()+r.slice(1)).join(" ");s+=`${i}: ${o.score}/10
`,o.issues&&o.issues.length>0&&o.issues.forEach(r=>{s+=`  ‚Ä¢ ${r}
`}),o.suggestions&&o.suggestions.length>0&&o.suggestions.forEach(r=>{s+=`  ‚Üí ${r}
`}),s+=`
`}}),s+=`
Generated by BestCVBuilder.com
`,s+=`Your ATS Optimization Partner
`,s}function q(){g&&(g.disabled=!0,g.innerHTML="üîÑ Processing Your CV...",g.classList.add("loading"));const e=document.getElementById("modalFixAllBtn");e&&(e.disabled=!0,e.innerHTML="üîÑ Processing...",e.classList.add("loading"))}function K(){g&&(g.disabled=!1,g.innerHTML="üöÄ FIX MY RESUME NOW - FREE üöÄ",g.classList.remove("loading"));const e=document.getElementById("modalFixAllBtn");e&&(e.disabled=!1,e.innerHTML="üöÄ Fix for Free - Instant Results",e.classList.remove("loading"))}function D(){const e=document.getElementById("customerInfoModal");e&&(e.classList.remove("hidden"),document.getElementById("customerInfoForm").reset(),document.getElementById("submitCustomerInfo").disabled=!0,X(),Y())}function k(){const e=document.getElementById("customerInfoModal");e&&e.classList.add("hidden")}function Y(){const e=document.getElementById("customerInfoForm"),t=document.getElementById("customerName"),s=document.getElementById("customerEmail"),n=document.getElementById("customerMobile");document.getElementById("submitCustomerInfo");const o=document.getElementById("cancelCustomerInfo");o&&(o.removeEventListener("click",k),o.addEventListener("click",k)),[t,s,n].forEach(i=>{i&&(i.removeEventListener("input",N),i.addEventListener("input",N),i.removeEventListener("blur",A),i.addEventListener("blur",A))}),e&&(e.removeEventListener("submit",M),e.addEventListener("submit",M))}function N(){const e=document.getElementById("customerName"),t=document.getElementById("customerEmail"),s=document.getElementById("customerMobile"),n=document.getElementById("submitCustomerInfo"),o=(e==null?void 0:e.value.trim())||"",i=(t==null?void 0:t.value.trim())||"",r=(s==null?void 0:s.value.trim())||"",l=o.length>=2,d=i.includes("@")&&i.includes(".")&&i.length>=5,p=r.length>=10&&/[\d\s\+\-\(\)]+/.test(r),c=l&&d&&p;return n&&(n.disabled=!c,n.style.opacity=c?"1":"0.6"),c}function A(e){const t=e.target,s=t.value.trim();let n=!1,o="";switch(t.id){case"customerName":n=s.length>=2,o="Please enter your full name (at least 2 characters)";break;case"customerEmail":n=s.includes("@")&&s.includes(".")&&s.length>=5,o="Please enter a valid email address";break;case"customerMobile":n=s.length>=10&&/[\d\s\+\-\(\)]+/.test(s),o="Please enter a valid mobile number (at least 10 digits)";break}const i=t.id.replace("customer","").toLowerCase()+"Error",r=document.getElementById(i);r&&(s&&!n?(r.textContent=o,r.classList.remove("hidden"),t.classList.add("border-red-500")):(r.classList.add("hidden"),t.classList.remove("border-red-500")))}function X(){["nameError","emailError","mobileError"].forEach(e=>{const t=document.getElementById(e);t&&t.classList.add("hidden")}),["customerName","customerEmail","customerMobile"].forEach(e=>{const t=document.getElementById(e);t&&t.classList.remove("border-red-500")})}async function M(e){if(e.preventDefault(),!N())return;const t=new FormData(e.target),s={name:t.get("name"),email:t.get("email"),mobile:t.get("mobile")};console.log("üë§ Customer info collected:",s),sessionStorage.setItem("customerInfo",JSON.stringify(s)),k(),$("customer_info")}function J(){g&&g.addEventListener("click",()=>{D()})}function Q(){const e=document.getElementById("issueModal"),t=document.getElementById("closeModal"),s=document.getElementById("modalCloseBtn"),n=document.getElementById("modalFixAllBtn");[t,s].forEach(o=>{o&&o.addEventListener("click",w)}),n&&n.addEventListener("click",Ne),e&&e.addEventListener("click",o=>{o.target===e&&w()}),document.addEventListener("keydown",o=>{o.key==="Escape"&&e&&!e.classList.contains("hidden")&&w()})}function Z(e,t){console.log("üîß Fix issue clicked:",e,t),ee(e)}function ee(e){const t=document.getElementById("issueModal"),s=document.getElementById("modalTitle"),n=document.getElementById("modalIssuesList");if(!t||!s||!n){console.error("Modal elements not found");return}console.log("üîç Looking for modal content for category:",e);const o=te(e);o?(console.log("‚úÖ Found backend modal content:",o),se(o,e)):(console.log("‚ö†Ô∏è No backend modal content found, using frontend fallback"),ne(e)),t.classList.remove("hidden")}function te(e){try{const t=a.detailedAnalysis||a.detailed_analysis||{};if(!t||Object.keys(t).length===0)return console.warn("No detailed analysis data available"),null;const s=e.toLowerCase().replace(/\s+/g,"_").replace(/&/g,"and");console.log("üîç Looking for backend category:",s),console.log("üîç Available categories:",Object.keys(t));const n=t[s];return n&&n.modal_content?(console.log("‚úÖ Found modal content for",s,":",n.modal_content),n.modal_content):(console.warn(`No modal content found for category: ${s}`),null)}catch(t){return console.error("Error extracting modal content from analysis data:",t),null}}function se(e,t){const s=document.getElementById("modalTitle"),n=document.getElementById("modalIssuesList");if(!s||!n)return;if(s.textContent=e.title||`${t} Issues Found`,n.innerHTML="",e.generic_explanation){const r=document.createElement("div");r.className="bg-blue-50 border-l-4 border-blue-400 p-4 mb-6",r.innerHTML=`
            <h3 class="text-lg font-semibold text-blue-900 mb-3">Why This Matters for ATS</h3>
            <div class="text-sm text-blue-800 leading-relaxed whitespace-pre-line">${e.generic_explanation}</div>
        `,n.appendChild(r)}if(e.dynamic_examples&&e.dynamic_examples.length>0){const r=document.createElement("div");r.className="bg-red-50 border-l-4 border-red-400 p-3 mb-3",r.innerHTML=`
            <h3 class="text-md font-semibold text-red-900 mb-2">Issues Found</h3>
            <div class="space-y-2">
                ${e.dynamic_examples.map((l,d)=>`
                    <div class="bg-white border border-red-200 rounded p-2">
                        <div class="flex items-start gap-2">
                            <div class="w-1.5 h-1.5 bg-red-500 rounded-full mt-1.5 flex-shrink-0"></div>
                            <div class="flex-1">
                                <p class="text-xs font-medium text-gray-900 mb-1">${l.issue}</p>
                                <div class="bg-gray-50 border border-gray-200 rounded p-1 font-mono text-xs text-gray-600 mb-1">
                                    "${l.example}"
                                </div>
                                <p class="text-xs text-red-600">${l.suggestion}</p>
                            </div>
                        </div>
                    </div>
                `).join("")}
            </div>
        `,n.appendChild(r)}const o=document.createElement("div");o.className="bg-gradient-to-r from-green-50 to-green-100 border-2 border-green-300 rounded-lg p-3 text-center mt-3",o.innerHTML=`
        <div class="text-lg mb-2">üöÄ</div>
        <h4 class="text-md font-bold text-green-800 mb-2">Ready to Fix These Issues?</h4>
        <p class="text-xs text-green-600">‚úì Instant results ‚Ä¢ ‚úì No credit card required</p>
    `,n.appendChild(o);const i=document.getElementById("modalFixAllBtn");i&&F(i)}function ne(e){const t=document.getElementById("modalTitle"),s=document.getElementById("modalIssuesList");t.textContent=`${e} Issues Found`;const n=oe(e);s.innerHTML="",n.forEach((r,l)=>{const d=document.createElement("div");d.className="bg-gray-50 border border-gray-200 rounded-lg p-4",d.innerHTML=`
            <div class="flex items-start gap-3">
                <div class="w-2 h-2 bg-red-500 rounded-full mt-2 flex-shrink-0"></div>
                <div class="flex-1">
                    <p class="text-sm font-medium text-gray-900 mb-1">${r.description}</p>
                    <div class="bg-white border border-gray-200 rounded p-2 font-mono text-xs text-gray-700">
                        "${r.cvLine}"
                    </div>
                    <p class="text-xs text-gray-500 mt-1">Line ${r.lineNumber} in your resume</p>
                </div>
            </div>
        `,s.appendChild(d)});const o=document.createElement("div");o.className="bg-gradient-to-r from-green-50 to-green-100 border-2 border-green-300 rounded-lg p-3 text-center mt-3",o.innerHTML=`
        <div class="text-lg mb-2">üöÄ</div>
        <h4 class="text-md font-bold text-green-800 mb-2">Ready to Fix These Issues?</h4>
        <p class="text-xs text-green-600">‚úì Instant results ‚Ä¢ ‚úì No credit card required</p>
    `,s.appendChild(o);const i=document.getElementById("modalFixAllBtn");i&&F(i)}function oe(e){const t=a.content||"";if(!t)return[{description:"Resume content not available for detailed analysis",cvLine:"Please re-upload your resume",lineNumber:0}];const s=t.split(`
`).filter(o=>o.trim().length>5);let n=[];switch(e){case"Personal Pronouns":n=ie(s);break;case"Grammar":n=re(s);break;case"Spelling":n=ae(s);break;case"Action Verbs":n=ce(s);break;case"Contact Details":n=le(s);break;case"Education Section":n=de(s);break;case"Skills Section":n=me(s);break;case"Use Of Bullets":n=ue(s);break;case"Quantifiable Achievements":n=pe(s);break;case"Summary":n=ge(s);break;case"Repetition":n=fe(s);break;case"Verbosity":n=he(s);break;case"Verb Tenses":n=be(s);break;case"Active Voice":n=ye(s);break;case"Page Density":n=ve(s);break;case"Unnecessary Sections":n=Le(s);break;case"Growth Signals":n=xe(s);break;case"Drive":n=Ee(s);break;case"Leadership":n=Ie(s);break;case"Teamwork":n=we(s);break;case"Analytical":n=Ce(s);break;case"Certifications":n=Be(s);break;default:n=ke(s,e);break}return n.slice(0,3)}function ie(e){const t=[],s=["I "," I ","My ","Me ","Myself","Mine"];return e.forEach((n,o)=>{const i=s.find(r=>n.includes(r));i&&t.push({description:`Remove personal pronoun "${i.trim()}" for professional tone`,cvLine:n.trim(),lineNumber:o+1})}),t.length===0&&t.push({description:"Personal pronouns detected in resume content",cvLine:"No specific examples found in current analysis",lineNumber:0}),t}function re(e){const t=[];return e.forEach((s,n)=>{s.includes(" and ")&&!s.includes(",")&&s.length>50?t.push({description:"Consider adding comma before coordinating conjunction",cvLine:s.trim(),lineNumber:n+1}):s.match(/\b(develop|create|manage)\b.*\b(developed|created|managed)\b/i)&&t.push({description:"Inconsistent verb tense in same sentence",cvLine:s.trim(),lineNumber:n+1})}),t.length===0&&t.push({description:"Grammar improvements suggested for this section",cvLine:e[0]||"No content available",lineNumber:1}),t}function ae(e){const t=[],s={managment:"management",developement:"development",responsable:"responsible",sucessful:"successful",comunication:"communication"};return e.forEach((n,o)=>{Object.keys(s).forEach(i=>{n.toLowerCase().includes(i)&&t.push({description:`Misspelled word: "${i}" should be "${s[i]}"`,cvLine:n.trim(),lineNumber:o+1})})}),t.length===0&&t.push({description:"Spelling optimization suggested for better ATS compatibility",cvLine:e[0]||"No content available",lineNumber:1}),t}function ce(e){const t=[],s=["did","worked on","was responsible","helped with","involved in"];return e.forEach((n,o)=>{const i=s.find(r=>n.toLowerCase().includes(r));i&&t.push({description:`Replace weak verb phrase "${i}" with stronger action verb`,cvLine:n.trim(),lineNumber:o+1})}),t.length===0&&t.push({description:"Action verb strength can be improved",cvLine:e[0]||"No content available",lineNumber:1}),t}function le(e){const t=[],s=e.slice(0,10),n=s.some(r=>r.includes("@")),o=s.some(r=>/\d{3}[-.\s]?\d{3}[-.\s]?\d{4}/.test(r)),i=s.some(r=>r.toLowerCase().includes("linkedin"));return n||t.push({description:"Professional email address should be prominently displayed",cvLine:s[0]||"Header section",lineNumber:1}),o||t.push({description:"Phone number should be included in contact information",cvLine:s[0]||"Header section",lineNumber:1}),i||t.push({description:"LinkedIn profile URL should be included",cvLine:s[0]||"Header section",lineNumber:1}),t}function de(e){const t=[],s=["education","degree","university","college","bachelor","master","phd","graduated"];e.some(i=>s.some(r=>i.toLowerCase().includes(r)))||t.push({description:"Education section not clearly identified",cvLine:"Add clear education section with degree details",lineNumber:0});const o=e.filter(i=>s.some(r=>i.toLowerCase().includes(r)));return o.forEach((i,r)=>{!i.match(/\b(19|20)\d{2}\b/)&&!i.match(/\b\d{4}\b/)&&t.push({description:"Missing graduation year in education entry",cvLine:i.trim(),lineNumber:e.indexOf(i)+1})}),t.length===0&&t.push({description:"Education section format can be optimized",cvLine:o[0]||"Education section",lineNumber:1}),t}function me(e){const t=[],s=["skills","technical skills","core competencies","technologies"],n=e.find(o=>s.some(i=>o.toLowerCase().includes(i)));return n||t.push({description:"Skills section not clearly labeled",cvLine:"Add dedicated skills or technical competencies section",lineNumber:0}),e.forEach((o,i)=>{o.includes(",")&&o.split(",").length>5&&t.push({description:"Long comma-separated list - consider bullet points",cvLine:o.trim(),lineNumber:i+1})}),t.length===0&&t.push({description:"Skills presentation can be enhanced for ATS parsing",cvLine:n||e[0],lineNumber:1}),t}function ue(e){const t=[];return e.forEach((s,n)=>{const o=s.trim();o.match(/^(managed|led|developed|created|implemented|achieved)/i)&&!o.startsWith("‚Ä¢")&&!o.startsWith("-")&&t.push({description:"Achievement statement should use bullet points",cvLine:o,lineNumber:n+1}),(o.startsWith("‚Ä¢")||o.startsWith("-"))&&o.length>150&&t.push({description:"Bullet point too long - keep under 150 characters",cvLine:o,lineNumber:n+1})}),t.length===0&&t.push({description:"Bullet point formatting is optimized",cvLine:"No specific improvements needed",lineNumber:0}),t}function pe(e){const t=[];return e.forEach((s,n)=>{s.match(/\b(increased|improved|reduced|achieved|grew|saved|generated)\b/i)&&!s.match(/\d+/)&&!s.includes("%")&&t.push({description:"Add specific numbers or percentages to quantify achievement",cvLine:s.trim(),lineNumber:n+1}),s.match(/\b(many|several|various|multiple|significant)\b/i)&&t.push({description:"Replace vague terms with specific numbers",cvLine:s.trim(),lineNumber:n+1})}),t.length===0&&t.push({description:"Add more quantified achievements with specific metrics",cvLine:"Include numbers, percentages, and measurable results",lineNumber:0}),t}function ge(e){const t=[],s=["summary","profile","objective","about"],n=e.find(i=>s.some(r=>i.toLowerCase().includes(r)));n||t.push({description:"Professional summary section missing",cvLine:"Add professional summary at the top of resume",lineNumber:1});const o=e.slice(0,5);return o.forEach((i,r)=>{i.length>200&&t.push({description:"Summary statement too long - keep under 200 characters",cvLine:i.trim(),lineNumber:r+1})}),t.length===0&&t.push({description:"Summary section can be optimized for impact",cvLine:n||o[0],lineNumber:1}),t}function fe(e){const t=[],s={};return e.forEach(o=>{o.toLowerCase().split(/\s+/).filter(r=>r.length>4).forEach(r=>{s[r]=(s[r]||0)+1})}),Object.entries(s).filter(([o,i])=>i>5).forEach(([o,i])=>{const r=e.find(l=>l.toLowerCase().includes(o));r&&t.push({description:`Word "${o}" used ${i} times - consider synonyms`,cvLine:r.trim(),lineNumber:e.indexOf(r)+1})}),t.length===0&&t.push({description:"Word variety is good - no excessive repetition detected",cvLine:"Content shows good vocabulary diversity",lineNumber:0}),t}function he(e){const t=[];return e.forEach((s,n)=>{s.length>120&&!s.includes("‚Ä¢")&&!s.includes("-")&&t.push({description:"Line too long - break into shorter, clearer statements",cvLine:s.trim(),lineNumber:n+1}),["in order to","due to the fact that","with regard to","for the purpose of"].forEach(i=>{s.toLowerCase().includes(i)&&t.push({description:`Replace wordy phrase "${i}" with simpler alternative`,cvLine:s.trim(),lineNumber:n+1})})}),t.length===0&&t.push({description:"Content is appropriately concise",cvLine:"Good balance of detail and brevity",lineNumber:0}),t}function be(e){const t=[];return e.forEach((s,n)=>{s.match(/\b(manage|develop|create)\b.*\b(managed|developed|created)\b/i)&&t.push({description:"Mixed verb tenses in same statement - use consistent tense",cvLine:s.trim(),lineNumber:n+1}),s.match(/\b(currently|presently)\b/i)&&s.match(/\b(managed|developed|created)\b/i)&&t.push({description:"Use present tense for current role, past tense for previous roles",cvLine:s.trim(),lineNumber:n+1})}),t.length===0&&t.push({description:"Verb tense consistency can be improved",cvLine:"Review tense usage throughout resume",lineNumber:0}),t}function ye(e){const t=[],s=["was responsible","were responsible","was tasked","were given","was assigned"];return e.forEach((n,o)=>{s.forEach(i=>{n.toLowerCase().includes(i)&&t.push({description:`Convert passive voice "${i}" to active voice`,cvLine:n.trim(),lineNumber:o+1})})}),t.length===0&&t.push({description:"Active voice usage is strong throughout resume",cvLine:"Good use of action-oriented language",lineNumber:0}),t}function ve(e){const t=[],s=e.length,n=e.reduce((o,i)=>o+i.length,0)/s;return s<20?t.push({description:"Resume appears too sparse - add more relevant content",cvLine:`Total content: ${s} lines`,lineNumber:0}):s>60&&t.push({description:"Resume appears too dense - consider condensing content",cvLine:`Total content: ${s} lines`,lineNumber:0}),n>100&&t.push({description:"Average line length too long - use more white space",cvLine:`Average line length: ${Math.round(n)} characters`,lineNumber:0}),t.length===0&&t.push({description:"Page density is well-balanced",cvLine:"Good use of white space and content distribution",lineNumber:0}),t}function Le(e){const t=[],s=["references","hobbies","interests","personal information"];return e.forEach((n,o)=>{s.forEach(i=>{n.toLowerCase().includes(i)&&t.push({description:`Consider removing "${i}" section - not ATS-friendly`,cvLine:n.trim(),lineNumber:o+1})})}),t.length===0&&t.push({description:"All sections appear relevant and necessary",cvLine:"Good focus on professional content",lineNumber:0}),t}function xe(e){const t=[],s=["promoted","advanced","progressed","increased responsibility","leadership role"];e.some(i=>s.some(r=>i.toLowerCase().includes(r)))||t.push({description:"Add evidence of career progression and growth",cvLine:"Include promotions, increased responsibilities, or skill development",lineNumber:0});const o=[];return e.forEach(i=>{const r=i.match(/\b(19|20)\d{2}\b/g);r&&o.push(...r)}),o.length<2&&t.push({description:"Include dates to show career timeline and progression",cvLine:"Add employment dates to demonstrate growth over time",lineNumber:0}),t}function Ee(e){const t=[],s=["initiated","pioneered","launched","established","founded","created","innovated"];return e.some(o=>s.some(i=>o.toLowerCase().includes(i)))||t.push({description:"Add examples of initiative and self-motivation",cvLine:"Include projects you initiated or innovative solutions you created",lineNumber:0}),t}function Ie(e){const t=[],s=["led","managed","supervised","directed","coordinated","team","leadership"];return e.some(o=>s.some(i=>o.toLowerCase().includes(i)))||t.push({description:"Add leadership experiences and team management examples",cvLine:"Include team leadership, project management, or mentoring experience",lineNumber:0}),t}function we(e){const t=[],s=["collaborated","partnered","worked with","cross-functional","team member"];return e.some(o=>s.some(i=>o.toLowerCase().includes(i)))||t.push({description:"Add examples of collaboration and teamwork",cvLine:"Include cross-functional projects or collaborative achievements",lineNumber:0}),t}function Ce(e){const t=[],s=["analyzed","evaluated","assessed","researched","investigated","data","metrics"];return e.some(o=>s.some(i=>o.toLowerCase().includes(i)))||t.push({description:"Add examples of analytical and problem-solving skills",cvLine:"Include data analysis, research, or problem-solving achievements",lineNumber:0}),t}function Be(e){const t=[],s=["certified","certification","license","credential","certificate"];return e.some(o=>s.some(i=>o.toLowerCase().includes(i)))||t.push({description:"Add relevant professional certifications and credentials",cvLine:"Include industry certifications, licenses, or training certificates",lineNumber:0}),t}function ke(e,t){return[{description:`Optimization needed for ${t} section`,cvLine:e[0]||"Content analysis in progress",lineNumber:1}]}function w(){const e=document.getElementById("issueModal");e&&e.classList.add("hidden")}function Ne(){console.log("üöÄ Modal Fix All clicked"),w();const e=JSON.parse(sessionStorage.getItem("customerInfo")||"{}");e.name&&e.email&&e.mobile?(console.log("‚úÖ Customer info already available, proceeding to CV rewrite"),$("modal")):(console.log("üìù Customer info needed, showing collection modal"),D())}function Se(e){console.error("‚ùå Error:",e),h&&(h.textContent="‚Äî"),C&&(C.textContent=e),m&&(m.innerHTML=`
            <div class="bg-red-50 border border-red-200 rounded-xl p-6 text-center">
                <div class="w-16 h-16 mx-auto mb-4 bg-red-100 rounded-full flex items-center justify-center">
                    <span class="text-2xl text-red-600">‚ùå</span>
                </div>
                <h3 class="text-lg font-bold text-red-900 mb-2">No Analysis Data Found</h3>
                <p class="text-red-700 mb-4">${e}</p>
                <button onclick="window.location.href='./index.html'" class="bg-red-600 text-white px-6 py-2 rounded-xl hover:bg-red-700 transition-colors">
                    Upload Resume
                </button>
            </div>
        `,m.classList.remove("hidden")),b&&(b.innerHTML='<div class="text-sm text-gray-500 p-4">No data available</div>'),y&&(y.innerHTML='<div class="text-sm text-gray-500 p-4">No data available</div>')}window.handleFixIssue=Z;document.readyState==="loading"?document.addEventListener("DOMContentLoaded",T):T();
