import"./supabase-DQ_B3N6C-v2.js";import"./atsAnalysis-CFcDtclU-v2.js";console.log("üöÄ PROFESSIONAL SUMMARY DEBUG VERSION LOADED");console.log("üöÄ This version has comprehensive debugging for Professional Summary scoring");const T=document.getElementById("atsScore"),S=document.getElementById("scoreCircle"),U=document.getElementById("markedAsDone"),M=document.getElementById("topFixesList"),R=document.getElementById("completedList"),L=document.getElementById("issuesList"),O=document.getElementById("strengthsList"),H=document.getElementById("strengthsSection"),N=document.getElementById("upgradeBtn");let f=null,C=[],E=null,x=null;async function $(){var t;console.log("üöÄ DEBUG: Starting result.js initialization...");try{console.log("üîç DEBUG: Step 1 - Loading analysis data from session storage...");const e=sessionStorage.getItem("atsAnalysis");if(!e){console.error("‚ùå DEBUG: No analysis data found in session storage"),console.log("üîç DEBUG: Available session storage keys:",Object.keys(sessionStorage)),window.location.href="./index.html";return}console.log("‚úÖ DEBUG: Step 1 Complete - Found stored data, length:",e.length),console.log("üîç DEBUG: Step 2 - Parsing JSON data..."),f=JSON.parse(e),console.log("‚úÖ DEBUG: Step 2 Complete - Analysis data loaded:",{hasScore:!!f.score,score:f.score,hasContent:!!f.content,contentLength:((t=f.content)==null?void 0:t.length)||0,keys:Object.keys(f)}),console.log("üîç DEBUG: Step 3 - Loading config files..."),await W(),console.log("‚úÖ DEBUG: Step 3 Complete - Config files loaded"),console.log("üîç DEBUG: Step 4 - Displaying overall score..."),se(f),console.log("‚úÖ DEBUG: Step 4 Complete - Overall score displayed"),console.log("üîç DEBUG: Step 5 - Displaying sidebar categories...");const o=ie(f);console.log("‚úÖ DEBUG: Step 5 Complete - Sidebar categories displayed"),console.log("üîç DEBUG: Step 6 - Displaying main issues list..."),ot(f,o),console.log("‚úÖ DEBUG: Step 6 Complete - Main issues list displayed"),console.log("üîç DEBUG: Step 7 - Displaying strengths..."),st(f),console.log("‚úÖ DEBUG: Step 7 Complete - Strengths displayed"),console.log("üîç DEBUG: Step 8 - Setting up event handlers..."),yt(),console.log("‚úÖ DEBUG: Step 8 Complete - Event handlers setup"),console.log("üéâ DEBUG: All initialization steps completed successfully!")}catch(e){console.error("‚ùå DEBUG: Error in initialization step:",e),console.error("‚ùå DEBUG: Full error details:",{message:e.message,stack:e.stack,name:e.name}),_()}}function _(){if(console.log("Displaying fallback results..."),f&&T&&(T.textContent=Math.round(f.score||75),S)){const t=f.score||75;t>=80?S.style.borderColor="#10b981":t>=60?S.style.borderColor="#f59e0b":S.style.borderColor="#ef4444"}L&&(L.innerHTML=`
            <div class="bg-blue-50 border border-blue-200 rounded-xl p-6 text-center">
                <h3 class="text-xl font-bold text-blue-900 mb-2">Analysis Complete!</h3>
                <p class="text-blue-700">Your resume has been analyzed. Click the button below to get your optimized version.</p>
            </div>
        `)}async function W(){console.log("üîß DEBUG: Starting config file loading...");try{console.log("üîß DEBUG: Config Step 1 - Loading skills-buzzwords.json...");const t=await fetch("./config/skills-buzzwords.json");console.log("üîß DEBUG: Skills response status:",t.status,t.statusText),t.ok?(E=await t.json(),console.log("‚úÖ DEBUG: Skills-buzzwords config loaded successfully:",{hasConfig:!!E,keys:E?Object.keys(E):[]})):console.warn("‚ö†Ô∏è DEBUG: Failed to load skills-buzzwords.json - Status:",t.status),console.log("üîß DEBUG: Config Step 2 - Loading action-verbs.json...");const e=await fetch("./config/action-verbs.json");console.log("üîß DEBUG: Verbs response status:",e.status,e.statusText),e.ok?(x=await e.json(),window.actionVerbsConfig=x,console.log("‚úÖ DEBUG: Action-verbs config loaded successfully:",{hasConfig:!!x,keys:x?Object.keys(x):[]})):console.warn("‚ö†Ô∏è DEBUG: Failed to load action-verbs.json - Status:",e.status),console.log("üîß DEBUG: Config loading completed")}catch(t){console.error("‚ùå DEBUG: Error loading config files:",{message:t.message,stack:t.stack,name:t.name})}}function q(t){let e=10;const o=["STRONG_ACCOMPLISHMENT_DRIVEN_VERBS","ENTREPRENEURIAL_SKILLS","MANAGEMENT_SKILLS","LEADERSHIP_MENTORSHIP_AND_TEACHING_SKILLS","PROBLEM_SOLVING_SKILLS","COMMUNICATION_SKILLS","RESEARCH_AND_ANALYSIS_SKILLS","PROCESS_IMPROVEMENT_CONSULTING_AND_OPERATIONS","FINANCIAL_SKILLS","DESIGN_AND_CREATIVE_SKILLS","ENGINEERING_TECHNICAL_ROLES","TEAMWORK_COLLABORATION_SKILLS"],s=Ve(t);if(s.length===0)return 3;let i={},n=[];console.log("üîç ACTION VERBS: Starting categorization..."),console.log("üîç ACTION VERBS: ActionVerbs module available:",!!(window.ActionVerbs&&window.ActionVerbs.getVerbsForCategory)),console.log("üîç ACTION VERBS: actionVerbsConfig available:",!!window.actionVerbsConfig),console.log("üîç ACTION VERBS: actionVerbsConfig content check:",window.actionVerbsConfig?Object.keys(window.actionVerbsConfig).slice(0,3):"null"),window.ActionVerbs&&window.ActionVerbs.getVerbsForCategory?(console.log("üîç ACTION VERBS: Using ActionVerbs module"),i=De(s,o),n=window.ActionVerbs.getVerbsForCategory("WEAK_VERBS")):window.actionVerbsConfig?(console.log("üîç ACTION VERBS: Using actionVerbsConfig from JSON file"),i=Ue(s,o),n=window.actionVerbsConfig.WEAK_VERBS||[]):(console.log("üîç ACTION VERBS: No ActionVerbs module or config available, using basic fallback"),i=ze(s),n=["responsible","involved","participated","helped","assisted"]);const a=Object.keys(i).length;if(console.log("üîç ACTION VERBS: Categories used:",a),console.log("üîç ACTION VERBS: Categorized verbs:",i),a<5){const m=e;a===4?e-=1:a===3?e-=2:a===2?e-=3:a===1?e-=4:e-=5,console.log("üîç ACTION VERBS: Category diversity penalty applied. Score changed from",m,"to",e)}else console.log("üîç ACTION VERBS: No category diversity penalty (used",a,"categories)");let r=0,c=0;for(const m of s)if(n.some(d=>m.toLowerCase().includes(d.toLowerCase())||d.toLowerCase().includes(m.toLowerCase())))r++;else{let d=!1;window.ActionVerbs&&window.ActionVerbs.getVerbsForCategory?d=o.some(u=>window.ActionVerbs.getVerbsForCategory(u).some(p=>p.toLowerCase()===m.toLowerCase()||p.toLowerCase().includes(m.toLowerCase()))):window.actionVerbsConfig?d=o.some(u=>(window.actionVerbsConfig[u]||[]).some(p=>p.toLowerCase()===m.toLowerCase()||p.toLowerCase().includes(m.toLowerCase()))):d=["managed","led","supervised","coordinated","directed","guided","oversaw","spearheaded","championed","mentored","coached","launched","pioneered","initiated","founded","established","created","built","developed","engineered","programmed","designed","implemented","achieved","delivered","executed","accomplished","completed","optimized","streamlined","improved","enhanced","revamped","budgeted","forecasted","analyzed","calculated","scaled","boosted","drove","conceived","orchestrated","conceptualized","record","design","increase","boost","program","develop","scale","build","engineer","generated","facilitated","organized","produced","supported","collaborated","negotiated","presented","resolved","transformed","upgraded","maintained","monitored","recruited","evaluated","assessed","identified","researched","tested","reviewed","processed","handled"].includes(m.toLowerCase()),d||c++}const l=r+c;console.log("üîç ACTION VERBS: Weak verb count:",r),console.log("üîç ACTION VERBS: Unknown verb count:",c),console.log("üîç ACTION VERBS: Total penalty:",l),console.log("üîç ACTION VERBS: Score before penalty:",e),e-=l,console.log("üîç ACTION VERBS: Score after penalty:",e);const g=Math.max(Math.min(e,10),0);return console.log("üîç ACTION VERBS: Final score (clamped 0-10):",g),g}function Y(t){console.log("üîç QUANTIFIABLE ACHIEVEMENTS: Starting analysis...");const e=V(t);if(console.log("üîç QUANTIFIABLE ACHIEVEMENTS: Experience section found:",!!e),console.log("üîç QUANTIFIABLE ACHIEVEMENTS: Experience section length:",e?e.length:0),!e)return console.log("üîç QUANTIFIABLE ACHIEVEMENTS: No experience section found, returning score 1"),1;const o=K(e);if(console.log("üîç QUANTIFIABLE ACHIEVEMENTS: Total points extracted:",o.length),console.log("üîç QUANTIFIABLE ACHIEVEMENTS: All points:",o),o.length===0)return console.log("üîç QUANTIFIABLE ACHIEVEMENTS: No points found in experience section, returning score 1"),1;const s=o.filter(a=>Z(a));console.log("üîç QUANTIFIABLE ACHIEVEMENTS: Quantified points found:",s.length),console.log("üîç QUANTIFIABLE ACHIEVEMENTS: Quantified points:",s);const i=s.length/o.length*100;console.log("üîç QUANTIFIABLE ACHIEVEMENTS: Percentage of quantified points:",i.toFixed(1)+"%");let n;return i>90?n=10:i>80?n=9:i>70?n=8:i>60?n=7:i>50?n=6:i>40?n=5:i>30?n=4:i>20?n=3:i>10?n=2:n=1,console.log("üîç QUANTIFIABLE ACHIEVEMENTS: Final score:",n),n}function V(t){console.log("üîç EXPERIENCE EXTRACTION: Starting experience section extraction...");const e=t.toLowerCase(),o=["professional experience","work experience","employment history","career history","work history","experience"],s=["education","academic background","qualifications","skills","technical skills","core skills","key skills","projects","personal projects","key projects","certifications","certificates","licenses","awards","achievements","honors","references","contact","additional information"];let i=-1;for(let a of o){const r=new RegExp("(^|\\n)\\s*"+a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")+"\\s*($|\\n)","i"),c=e.match(r);if(c){i=c.index+(c[1]?c[1].length:0),console.log("üîç EXPERIENCE EXTRACTION: Found experience header:",a,"at position:",i);break}}if(i===-1){const a=["developer","manager","analyst","engineer","coordinator","specialist","consultant","director","associate"];for(let r of a){const c=e.indexOf(r);if(c!==-1){i=Math.max(0,c-50);break}}}if(i===-1)return null;let n=t.length;for(let a of s){const r=e.indexOf(a,i);r!==-1&&r>i&&(n=Math.min(n,r))}return t.substring(i,n)}function K(t){console.log("üîç EXPERIENCE POINTS: Starting point extraction..."),console.log("üîç EXPERIENCE POINTS: Input text length:",t.length);const e=t.split(`
`);console.log("üîç EXPERIENCE POINTS: Total lines to process:",e.length);const o=[];let s="";for(let i=0;i<e.length;i++){let n=e[i].trim();if(!n){s.trim()&&(o.push(s.trim()),s="");continue}if(console.log(`üîç EXPERIENCE POINTS: Processing line ${i}: "${n}"`),X(n)){console.log(`üîç EXPERIENCE POINTS: Skipping job title/company: "${n}"`);continue}J(n)||Q(n)?(s.trim()&&(o.push(s.trim()),console.log(`üîç EXPERIENCE POINTS: Saved previous point: "${s.trim()}"`)),s=n,console.log(`üîç EXPERIENCE POINTS: Started new point: "${n}"`)):s?(s+=" "+n,console.log(`üîç EXPERIENCE POINTS: Extended current point: "${n}"`)):(o.push(n),console.log(`üîç EXPERIENCE POINTS: Added standalone point: "${n}"`))}return s.trim()&&(o.push(s.trim()),console.log(`üîç EXPERIENCE POINTS: Saved final point: "${s.trim()}"`)),console.log("üîç EXPERIENCE POINTS: Final extracted points:",o.length),console.log("üîç EXPERIENCE POINTS: Points preview:",o.slice(0,3)),o}function X(t){return[/^[A-Z][a-z\s]+(?:Developer|Manager|Analyst|Engineer|Coordinator|Specialist|Consultant|Director|Associate)$/i,/\b(Inc\.|Corp\.|Ltd\.|LLC|Company|Corporation)\b/i,/^\d{4}\s*[-‚Äì]\s*\d{4}|\d{4}\s*[-‚Äì]\s*Present/i,/^(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)/i].some(o=>o.test(t))}function J(t){return/^[\s]*[‚Ä¢¬∑\*\-\+]\s/.test(t)}function Q(t){if(t.length<20)return!1;const o=["developed","managed","led","created","implemented","designed","coordinated","analyzed","improved","optimized"].some(i=>t.toLowerCase().includes(i)),s=/[a-z].*[.!?]?$/i.test(t)&&t.split(" ").length>=4;return o||s}function Z(t){return[/\d+%/,/[\$‚Çπ]\s*\d+/,/\d+\s*(million|thousand|lakhs?|crores?|k|m)\b/i,/\d+\s*(years?|months?|weeks?|days?)\b/i,/\d+\s*(people|members?|employees?|users?|customers?)\b/i,/\d+\s*(projects?|tasks?|features?|products?)\b/i,/\d+\s*(clients?|accounts?|companies?)\b/i,/\d+x\b|\bx\d+/i,/\d+\+/,/\b\d{1,3}(,\d{3})*\b/].some(o=>o.test(t))}function ee(t){console.log("üîç USE OF BULLETS: Starting analysis...");const e=t.split(`
`).map(c=>c.trim()).filter(c=>c.length>0);console.log("üîç USE OF BULLETS: Total lines found:",e.length);let o=0,s=0,i=0,n=!1;for(let c=0;c<e.length;c++){const l=e[c];if(te(l)){const m=l.toLowerCase();n=m.includes("experience")||m.includes("work")||m.includes("employment"),console.log(`üîç USE OF BULLETS: Header detected: "${l}" -> inExperience: ${n}`);continue}if(l.length<20||/^\d+\/\d+|@|‚Ä¢\s*\w+,\s*\w+/.test(l))continue;i++;const g=/^[\s]*[‚Ä¢¬∑\*\-\+\>]\s/.test(l)||/^\s*\d+[\.\)]\s/.test(l)||/^[\s]*[\u2022\u2023\u25E6\u2043\u2219]\s/.test(l)||l.startsWith("‚Ä¢")||l.startsWith("- ")||l.startsWith("* ");console.log(`üîç USE OF BULLETS: Line ${c} (${n?"EXP":"OTHER"}): "${l.substring(0,50)}..." -> bullet: ${g}`),g?o++:n&&l.length>50&&(s++,console.log(`üîç USE OF BULLETS: Paragraph block detected in experience: "${l.substring(0,50)}..."`))}console.log("üîç USE OF BULLETS: Analysis summary:"),console.log("üîç USE OF BULLETS: - Total content lines:",i),console.log("üîç USE OF BULLETS: - Bullet points found:",o),console.log("üîç USE OF BULLETS: - Paragraph blocks in experience:",s);let a=0;if(i===0)a=5;else{const c=o/Math.max(i,1);c>.7?a=10:c>.5?a=8:c>.3?a=6:c>.1?a=4:a=2,a-=Math.min(s,5)}const r=Math.max(a,0);return console.log("üîç USE OF BULLETS: Final score calculation:"),console.log("üîç USE OF BULLETS: - Bullet ratio:",(o/Math.max(i,1)*100).toFixed(1)+"%"),console.log("üîç USE OF BULLETS: - Base score from ratio:",a+Math.min(s,5)),console.log("üîç USE OF BULLETS: - Paragraph penalty:",Math.min(s,5)),console.log("üîç USE OF BULLETS: - Final score:",r),r}function te(t){const e=t.trim();if(e.length<10)return!0;const o=["experience","education","skills","summary","objective","projects","certifications","awards","achievements","contact","work history","employment","qualifications","professional summary","technical skills","core competencies","professional experience"],s=e.toLowerCase();if(o.some(n=>s===n||s.includes(n)&&e.length<50)||e===e.toUpperCase()&&e.length<30||/^[A-Z][a-z\s]+@\s+[A-Z]/.test(e)||/^\w+\s*@\s*\w+/.test(e)||/^\d{2}\/\d{4}/.test(e)||/^\w+\s*-\s*\w+/.test(e)&&e.length<50)return!0;const i=e.split(" ");return!!(i.length<=4&&i.every(n=>/^[A-Z][a-z]*$/.test(n)))}function ne(t){let e=10;const o=["\\bi\\b","\\bme\\b","\\bwe\\b","\\bmy\\b","\\bour\\b","\\bus\\b"];let s=0;return o.forEach(i=>{const n=new RegExp(i,"gi"),a=t.match(n)||[];s+=a.length}),e-=s,Math.max(e,0)}function oe(t){return["certified","certification","license","credential"].filter(s=>t.toLowerCase().includes(s)).length>0?8:5}function se(t){if(!T)return;const e=j(t);console.log("üîç DEBUG: All category scores:",e.map(r=>({name:r.name,score:r.score})));const o=e.map(r=>{const c=r.score;return typeof c!="number"||isNaN(c)?(console.warn(`‚ö†Ô∏è WARNING: Invalid score for category ${r.name}:`,c,"Using fallback score of 7"),7):Math.max(0,Math.min(10,c))}),s=o.reduce((r,c)=>r+c,0),i=e.length*10,n=Math.round(s/i*100);let a=n;console.log("üîç DEBUG: Valid scores:",o),console.log(`üîç DEBUG: Category sum: ${s}/${i}`),console.log(`üîç DEBUG: Calculated overall score from ${e.length} categories: ${n}`),(isNaN(a)||typeof a!="number")&&(console.error("‚ùå ERROR: Final score is invalid:",a,"Using fallback score of 75"),a=75),console.log(`üîç DEBUG: Final ATS score: ${a}`),T.textContent=Math.round(a),S&&(a>=80?S.style.borderColor="#10b981":a>=60?S.style.borderColor="#f59e0b":S.style.borderColor="#ef4444")}function ie(t){if(console.log("üìä DEBUG: Starting displaySidebarCategories..."),!M||!R){console.error("‚ùå DEBUG: Missing DOM elements - topFixesList:",!!M,"completedList:",!!R);return}console.log("üìä DEBUG: DOM elements found, proceeding with data:",{hasData:!!t,dataKeys:t?Object.keys(t):[]}),M.innerHTML="",R.innerHTML="",console.log("üìä DEBUG: Cleared existing content"),console.log("üìä DEBUG: Calling generateComprehensiveATSScores...");const e=j(t);console.log("üìä DEBUG: Generated categories:",{count:e.length,categories:e.map(n=>({name:n.name,score:n.score}))});const o=e.filter(n=>n.score<6),s=e.filter(n=>n.score>=6&&n.score<9),i=e.filter(n=>n.score>=9);return console.log("üìä DEBUG: Categories divided:",{topFixes:o.length,needFixes:s.length,completed:i.length}),console.log("üîç High Priority (<6):",o.length,o),console.log("üîç Need Fixes (6-8):",s.length,s),console.log("üîç Completed (9-10):",i.length,i),console.log("üîç Total categories:",e.length),wt(o,s,i,e.length),console.log("üîç DEBUG: Processing topFixes:",o.length,o.map(n=>n.name)),o.forEach(n=>{if(!n.name||typeof n.name!="string"||n.name.trim()===""){console.warn("‚ö†Ô∏è Skipping category with missing/invalid name:",{name:n.name,nameType:typeof n.name,score:n.score,issue:n.issue,impact:n.impact});return}const a=n.issue||"Needs improvement",r=typeof n.score=="number"&&!isNaN(n.score)?n.score:0,c=document.createElement("div");c.className="sidebar-item",c.innerHTML=`
            <span class="text-sm text-gray-700">${n.name}</span>
            <span class="text-sm font-bold text-red-600">${r}/10</span>
        `,M.appendChild(c),C.push({title:n.name,description:a,score:r,category:"High Priority",severity:"high",impact:n.impact||"IMPROVEMENT"})}),console.log("üîç DEBUG: Processing needFixes:",s.length,s.map(n=>n.name)),s.forEach(n=>{if(!n.name||typeof n.name!="string"||n.name.trim()===""){console.warn("‚ö†Ô∏è Skipping category with missing/invalid name:",{name:n.name,nameType:typeof n.name,score:n.score,issue:n.issue,impact:n.impact});return}const a=n.issue||"Needs improvement",r=typeof n.score=="number"&&!isNaN(n.score)?n.score:6,c=document.createElement("div");c.className="sidebar-item",c.innerHTML=`
            <span class="text-sm text-gray-700">${n.name}</span>
            <span class="text-sm font-bold text-orange-600">${r}/10</span>
        `,M.appendChild(c),C.push({title:n.name,description:a,score:r,category:"Need Fixes",severity:"medium",impact:n.impact||"IMPROVEMENT"})}),i.forEach(n=>{if(!n.name||typeof n.name!="string"||n.name.trim()===""){console.warn("‚ö†Ô∏è Skipping category with missing/invalid name:",{name:n.name,nameType:typeof n.name,score:n.score,issue:n.issue,impact:n.impact});return}const a=typeof n.score=="number"&&!isNaN(n.score)?n.score:10,r=document.createElement("div");r.className="sidebar-item",r.innerHTML=`
            <span class="text-sm text-gray-700">${n.name}</span>
            <span class="text-sm font-bold text-green-600">${a}/10</span>
        `,R.appendChild(r)}),U&&(U.textContent=`${i.length} COMPLETED OF ${e.length}`),{topFixes:o,needFixes:s,completed:i,allCategories:e}}function j(t){console.log("Generating scores with real data:",t);const e=t.component_scores||{},o=t.detailed_analysis||{},s=t.content||t.text||"";console.log("Backend component scores:",e),console.log("Backend detailed analysis:",o);const i=[];o.contact,i.push({name:"Contact Details",score:ae(s),issue:"Ensure all contact information is complete and professional",impact:"SECTIONS"}),o.structure,e.structure,i.push({name:"Education Section",score:ue(s),issue:"Optimize education section format and content",impact:"SECTIONS"}),i.push({name:"Skills Section",score:be(s),issue:"Improve skills presentation and relevance",impact:"SECTIONS"}),o.keywords;const n=e.keywords||0;i.push({name:"Job Fit",score:Math.round(n/20*10),issue:"Better align experience with target role requirements",impact:"ALL"}),i.push({name:"Analytical",score:ve(s),issue:"Highlight analytical and problem-solving skills",impact:"ALL"}),i.push({name:"Leadership",score:Le(s),issue:"Emphasize leadership experiences and impact",impact:"ALL"}),o.formatting,e.formatting,i.push({name:"Page Density",score:et(s),issue:"Optimize page layout and white space usage",impact:"STYLE"}),i.push({name:"Use of Bullets",score:ee(s),issue:"Improve bullet point structure and formatting",impact:"STYLE"});const a=xe(s);console.log("üîç NEW CATEGORY - Grammar (LLM-powered):",{score:a,maxScore:10,percentage:Math.round(a/10*100)+"%",analysis:"Uses AI-powered grammar checking for accuracy"}),i.push({name:"Grammar",score:a,issue:"Fix grammar errors and improve language accuracy",impact:"BREVITY"});const r=Me(s);console.log("üîç NEW CATEGORY - Spelling (LLM-powered):",{score:r,maxScore:10,percentage:Math.round(r/10*100)+"%",analysis:"Uses AI-powered spelling detection for accuracy"}),i.push({name:"Spelling",score:r,issue:"Fix spelling errors using AI-powered detection",impact:"BREVITY"}),i.push({name:"Verb Tenses",score:Ie(s),issue:"Use consistent and appropriate verb tenses",impact:"BREVITY"});const c=ne(s);console.log("üîç NEW CATEGORY - Personal Pronouns:",{score:c,maxScore:10,percentage:Math.round(c/10*100)+"%",analysis:'Checks for "I", "me", "my", "myself", "our", "we" pronouns'}),i.push({name:"Personal Pronouns",score:c,issue:'Remove first-person pronouns like "I", "me", "my"',impact:"BREVITY"});const l=$e(s);console.log("üîç NEW CATEGORY - Dates:",{score:l,maxScore:10,percentage:Math.round(l/10*100)+"%",analysis:"Checks date format consistency and chronological order"}),i.push({name:"Dates",score:l,issue:"Improve date formatting and chronological consistency",impact:"STYLE"}),o.achievements,e.achievements;const g=Y(s);console.log("üîÑ REPLACED CATEGORY - Quantifiable Achievements (was Quantity Impact):",{score:g,maxScore:10,percentage:Math.round(g/10*100)+"%",analysis:"Searches for quantified achievements and measurable results"}),i.push({name:"Quantifiable Achievements",score:g,issue:"Add more quantified achievements with specific numbers",impact:"IMPACT"});const m=q(s);console.log("üîÑ REPLACED CATEGORY - Action Verbs (was Weak Verbs):",{score:m,maxScore:10,percentage:Math.round(m/10*100)+"%",analysis:"Analyzes use of strong action verbs instead of weak verbs"}),i.push({name:"Action Verbs",score:m,issue:"Use more strong action verbs to start bullet points",impact:"IMPACT"}),i.push({name:"Active Voice",score:Ge(s),issue:"Convert passive voice to active voice for impact",impact:"IMPACT"}),i.push({name:"Summary",score:Fe(s),issue:"Professional summary needs improvement for better impact",impact:"IMPACT"}),i.push({name:"Teamwork",score:Xe(s),issue:"Better showcase collaborative experiences",impact:"ALL"}),o.readability;const y=e.readability||0;i.push({name:"Verbosity",score:Math.round(y/10*10),issue:"Reduce wordiness for better readability",impact:"BREVITY"}),i.push({name:"Repetition",score:Je(s),issue:"Eliminate repetitive phrases and content",impact:"BREVITY"}),i.push({name:"Unnecessary Sections",score:Qe(s),issue:"Remove sections that don't add value",impact:"SECTIONS"}),i.push({name:"Growth Signals",score:Ze(s),issue:"Demonstrate career progression and learning",impact:"ALL"}),i.push({name:"Drive",score:nt(s),issue:"Show initiative and self-motivation examples",impact:"ALL"});const d=oe(s);return console.log("üîç NEW CATEGORY - Certifications:",{score:d,maxScore:10,percentage:Math.round(d/10*100)+"%",analysis:"Checks for professional certifications and credentials"}),i.push({name:"Certifications",score:d,issue:"Add relevant certifications and professional credentials",impact:"ALL"}),console.log("üîç DEBUG: Generated categories with real scores:",i.length,"total"),console.log("üéØ NEW CATEGORIES SUMMARY - Verification Log:",{totalCategories:i.length,newCategories:["Personal Pronouns","Dates","Grammar (LLM-powered)","Spelling (LLM-powered)","Certifications"],replacedCategories:["Quantifiable Achievements (was Quantity Impact)","Action Verbs (was Weak Verbs)"],allCategoryScores:i.map(u=>({name:u.name,score:u.score,percentage:Math.round(u.score/10*100)+"%"}))}),i}function ae(t){let e=10;return re(t)||(e-=2.5),ce(t)||(e-=2.5),le(t)||(e-=2.5),de(t)||(e-=2.5),Math.max(e,0)}function re(t){return[/\b\d{3}[-.\s]?\d{3}[-.\s]?\d{4}\b/g,/\b\(\d{3}\)\s?\d{3}[-.\s]?\d{4}\b/g,/\b\+\d{1,3}[-.\s]?\d{1,14}[-.\s]?\d{1,14}\b/g,/\b\+91[-.\s]?\d{10}\b/g,/\b91[-.\s]?\d{10}\b/g,/\b[6-9]\d{9}\b/g,/\b\d{10,15}\b/g,/\bphone\s*:?\s*[+]?\d/gi,/\bmobile\s*:?\s*[+]?\d/gi,/\bcell\s*:?\s*[+]?\d/gi,/\bcontact\s*:?\s*[+]?\d/gi].some(o=>o.test(t))}function ce(t){return/\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Z|a-z]{2,}\b/g.test(t)}function le(t){t.toLowerCase();const e=[/linkedin\.com\/in\/[a-z0-9-]+/gi,/linkedin\.com\/pub\/[a-z0-9-]+/gi,/www\.linkedin\.com/gi,/linkedin:\s*[a-z0-9.-]+/gi,/\blinkedin\b.*profile/gi,/profile/gi];return/\blinkedin\b/gi.test(t)?!0:e.some(o=>o.test(t))}function de(t){const e=t.toLowerCase(),o=["mumbai","delhi","new delhi","bangalore","bengaluru","hyderabad","chennai","kolkata","calcutta","pune","gurugram","gurgaon","noida","ahmedabad","surat","jaipur","lucknow","kanpur","nagpur","indore","thane","bhopal","visakhapatnam","vishakhapatnam","pimpri","patna","vadodara","coimbatore","ludhiana","agra","nashik","faridabad","meerut","rajkot","varanasi","banaras","srinagar","aurangabad","dhanbad","amritsar","navi mumbai","allahabad","prayagraj","ranchi","howrah","jabalpur","gwalior","vijayawada","mysore","hubli","mangalore","solapur","kota","trivandrum","thiruvananthapuram","kochi","ernakulam","madurai","salem","tiruchirappalli","trichy","bhubaneswar","cuttack","guwahati","shimla","dehradun","gangtok","itanagar","aizawl","kohima","imphal","agartala","panaji","porvorim","silchar","dibrugarh","tezpur","durgapur","asansol","siliguri","india","haryana","uttar pradesh","maharashtra","karnataka","tamil nadu","telangana","andhra pradesh","gujarat","west bengal","punjab","rajasthan","bihar","jharkhand","kerala","odisha","uttarakhand","chhattisgarh","assam","goa","sikkim","mizoram","tripura","nagaland","manipur","arunachal pradesh","meghalaya","himachal pradesh","california","new york","texas","florida","illinois","pennsylvania","ohio","georgia","north carolina","michigan","new jersey","virginia","washington","arizona","massachusetts","tennessee","indiana","missouri","maryland","wisconsin","colorado","minnesota","south carolina","alabama","louisiana","kentucky","oregon","oklahoma","connecticut","utah","iowa","nevada","arkansas","mississippi","kansas","new mexico","nebraska","west virginia","montana","idaho","hawaii","alaska","maine","new hampshire","vermont","rhode island","delaware","district of columbia","los angeles","san francisco","san diego","san jose","sacramento","fresno","oakland","new york city","nyc","buffalo","rochester","houston","dallas","austin","san antonio","fort worth","miami","orlando","tampa","jacksonville","atlanta","charlotte","raleigh","detroit","grand rapids","chicago","philadelphia","pittsburgh","cleveland","columbus","cincinnati","phoenix","boston","nashville","memphis","indianapolis","st louis","baltimore","milwaukee","denver","minneapolis","seattle","portland","las vegas","salt lake city","honolulu","ontario","quebec","british columbia","alberta","manitoba","saskatchewan","nova scotia","new brunswick","newfoundland and labrador","prince edward island","toronto","vancouver","montreal","ottawa","calgary","edmonton","winnipeg","halifax","victoria","london","manchester","birmingham","liverpool","glasgow","edinburgh","leeds","sheffield","bristol","cardiff","belfast","new south wales","victoria","queensland","south australia","western australia","tasmania","northern territory","australian capital territory","sydney","melbourne","brisbane","perth","adelaide","canberra","hobart","darwin","gold coast","dubai","abu dhabi","doha","riyadh","jeddah","amman","muscat","kuwait city","manama","berlin","munich","hamburg","frankfurt","stuttgart","paris","lyon","marseille","nice","toulouse","amsterdam","rotterdam","the hague","utrecht","zurich","geneva","basel","vienna","budapest","helsinki","stockholm","copenhagen","madrid","barcelona","valencia","seville","lisbon","porto","rome","milan","florence","naples","turin","venice","tokyo","osaka","kyoto","yokohama","nagoya","hong kong","shanghai","beijing","guangzhou","shenzhen","singapore","kuala lumpur","bangkok","jakarta","manila","seoul","busan","incheon","mexico city","guadalajara","monterrey","bogota","lima","santiago","buenos aires","cape town","johannesburg","nairobi","lagos","cairo","casablanca","accra","addis ababa"],s=[/\b\w+,\s*[A-Z]{2,3}\b/g,/\b\w+,\s*\w+\s*\d{5,6}\b/g,/\b\d{5,6}(-\d{4})?\b/g,/location\s*:?\s*\w+/gi,/address\s*:?\s*\w+/gi,/based\s+in\s+\w+/gi,/located\s+in\s+\w+/gi,/\bcity\s*:?\s*\w+/gi,/\bstate\s*:?\s*\w+/gi,/\bcurrent\s+location\s*:?\s*\w+/gi],i=o.some(a=>new RegExp(`\\b${a}\\b`,"i").test(e)),n=s.some(a=>a.test(t));return i||n}function ue(t,e){let o=0;const s=t.toLowerCase(),i=D(t),n=i>=5;return(s.includes("education")||s.includes("academic")||s.includes("qualification"))&&(o+=3),ge(t)&&(o+=n?6:4),pe(t)&&(o+=n?1:2),n||he(t)&&(o+=2),i<3&&(fe(t)||(o-=1)),Math.max(Math.min(o,10),0)}function ge(t){const o=me(t)||t.toLowerCase(),s=["bachelor","master","phd","doctorate","associate","diploma","certificate","b\\.?e\\.?","b\\.?tech","b\\.?s\\.?","b\\.?a\\.?","b\\.?sc\\.?","b\\.?com\\.?","m\\.?tech","m\\.?s\\.?","m\\.?a\\.?","m\\.?sc\\.?","m\\.?com\\.?","mba","m\\.?phil","ph\\.?d\\.?","doctorate","post\\s*graduate","graduate\\s*degree","btech","mtech","beng","meng","bsc","msc","bcom","mcom","llb","llm","md","mbbs","bds","mds","ca","cs","cma"];return new RegExp(`\\b(${s.join("|")})\\b`,"i").test(o)}function me(t){t.toLowerCase();const e=t.split(`
`);let o=-1;const s=["education","academic","qualification","educational background"];for(let a=0;a<e.length;a++){const r=e[a].toLowerCase().trim();if(s.some(c=>r.includes(c))&&r.length<50){o=a;break}}if(o===-1)return null;let i=e.length;const n=["experience","work","employment","skills","projects","certifications"];for(let a=o+1;a<e.length;a++){const r=e[a].toLowerCase().trim();if(n.some(c=>r.includes(c))&&r.length<50){i=a;break}}return e.slice(o,i).join(`
`).toLowerCase()}function pe(t){const e=["university","college","institute","school","academy","tech","polytechnic","community college"],o=t.toLowerCase();return e.some(s=>o.includes(s))}function he(t){return[/\b(19|20)\d{2}\b/g,/\d{1,2}\/\d{4}/g,/[A-Za-z]+\s+\d{4}/g,/\d{4}\s*[-‚Äì]\s*\d{4}/g].some(o=>o.test(t))}function fe(t){const e=t.toLowerCase(),o=[/gpa\s*:?\s*\d\.\d/gi,/\d\.\d{1,2}\s*gpa/gi,/\d\.\d{1,2}\/4\.0/gi],s=["magna cum laude","summa cum laude","cum laude","honors","dean's list","honor roll","distinction","academic excellence","merit","scholarship"],i=o.some(a=>a.test(t)),n=s.some(a=>e.includes(a));return i||n}function be(t,e){let o=0;const s=D(t);Ee(t)&&(o+=2);const n=ye(t),a=we(s);n>=a.ideal?o+=3:n>=a.minimum?o+=2:n>=a.minimum*.5&&(o+=1);const r=Ae(t);o+=Math.min(r,3);const c=Se(t);return o+=Math.min(c,2),Math.min(o,10)}function Ee(t){const e=t.toLowerCase();return["skills","technical skills","core competencies","competencies","expertise","proficiencies","technologies","tools"].some(s=>e.includes(s))}function ye(t){const e=t.toLowerCase(),o=["python","java","javascript","typescript","c++","c#","php","ruby","go","rust","swift","kotlin","scala","r","matlab","sql","html","css","react","angular","vue","node.js","express","django","flask","spring","bootstrap","jquery","tensorflow","pytorch","pandas","numpy","mysql","postgresql","mongodb","redis","elasticsearch","oracle","sqlite","aws","azure","gcp","docker","kubernetes","jenkins","git","github","terraform","ansible","ci/cd","linux","bash","jira","confluence","slack","trello","figma","photoshop","excel","tableau","power bi","salesforce","hubspot"],s=["project management","agile","scrum","kanban","waterfall","leadership","team management","communication","presentation","problem solving","analytical thinking","strategic planning","business analysis","process improvement","quality assurance","stakeholder management","budget management","risk management"];return[...o,...s].filter(a=>e.includes(a)).length}function we(t){return t<3?{minimum:4,ideal:8}:t<6?{minimum:9,ideal:14}:{minimum:15,ideal:20}}function Ae(t){const e=t.toLowerCase(),s=["artificial intelligence","machine learning","deep learning","ai/ml","cloud computing","microservices","apis","restful","graphql","blockchain","iot","big data","data science","analytics","agile methodology","devops","continuous integration","automation","test-driven development","object-oriented","responsive design","digital transformation","scalability","performance optimization","user experience","customer satisfaction","roi","kpi"].filter(i=>e.includes(i));return s.length>=4?3:s.length>=2?2:s.length>=1?1:0}function Se(t){let e=0;const o=t.toLowerCase();["programming languages","frameworks","databases","tools","technical skills","soft skills","languages","certifications"].filter(a=>o.includes(a)).length>=2&&(e+=1);const n=Ce(t);if(n){const a=/[‚Ä¢‚ñ™‚ñ´‚ñ†‚ñ°‚ó¶‚Ä£‚ÅÉ-]/.test(n),r=n.includes(","),c=n.includes(`
`);(a||r||c)&&(e+=1)}return e}function Ce(t){const e=t.toLowerCase(),o=["skills","technical skills","competencies"];let s=-1;for(const a of o){const r=e.indexOf(a);if(r!==-1){s=r;break}}if(s===-1)return null;const i=["experience","education","projects","certifications"];let n=t.length;for(const a of i){const r=e.indexOf(a,s+10);r!==-1&&r<n&&(n=r)}return t.substring(s,n)}function ve(t,e){let o=0;if(window.ActionVerbs&&window.ActionVerbs.countVerbsInText){const s=window.ActionVerbs.countVerbsInText(t,"RESEARCH_AND_ANALYSIS_SKILLS"),i=window.ActionVerbs.countVerbsInText(t,"PROBLEM_SOLVING_SKILLS");o+=Math.min(s*1.5,6),o+=Math.min(i*1.2,4);const a=["analysis","analytical","data","research","statistics","metrics","insights"].filter(r=>t.toLowerCase().includes(r)).length;o+=Math.min(a*.3,2)}else{const s=t.toLowerCase(),n=["analysis","analytical","data","research","investigate","evaluate","assess","statistics"].filter(a=>s.includes(a)).length;o+=Math.min(n*1.25,10)}return Math.min(o,10)}function Le(t,e){let o=0;if(window.ActionVerbs&&window.ActionVerbs.countVerbsInText){const s=window.ActionVerbs.countVerbsInText(t,"LEADERSHIP_MENTORSHIP_AND_TEACHING_SKILLS"),i=window.ActionVerbs.countVerbsInText(t,"MANAGEMENT_SKILLS");o+=Math.min(s*.8,6),o+=Math.min(i*.7,4);const a=["director","manager","lead","supervisor","head","chief","senior"].filter(r=>t.toLowerCase().includes(r)).length;o+=Math.min(a*.3,1)}else{const s=t.toLowerCase(),n=["lead","leader","manage","director","supervisor","team","mentor","coach"].filter(a=>s.includes(a)).length;o+=Math.min(n*1.25,10)}return Math.min(o,10)}async function Me(t){try{const r=await fetch("/api/grammar-check",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.dumps({text:t,check_type:"spelling"})});if(r.ok){const c=await r.json();return Math.max(Math.min(c.spelling_score||8,10),0)}}catch(r){console.warn("LLM spelling check failed, using fallback:",r)}let e=0;t.length>200?e=8:t.length>100?e=6:t.length>50?e=4:e=2;const s=["recieved","seperate","managment","acheivement","excelent","experiance","responsibilty","occured"].filter(r=>t.toLowerCase().includes(r)).length;return e-=s*1.5,[/\d{1,2}\/\d{4}/g,/\d{4}-\d{2}/g,/[A-Za-z]+ \d{4}/g].map(r=>(t.match(r)||[]).length).filter(r=>r>0).length>1&&(e-=1),Math.max(e,0)}function xe(t){console.log("üîç GRAMMAR: Starting grammar analysis..."),console.log("üîç GRAMMAR: Resume text length:",t.length),console.log("üîç GRAMMAR: Starting async LLM grammar analysis..."),ke(t).then(o=>{console.log("üîç GRAMMAR: LLM analysis completed with score:",o),Ct(o)}).catch(o=>{console.error("‚ùå GRAMMAR: LLM analysis failed:",o)});const e=St(t);return console.log("üîç GRAMMAR: Returning immediate fallback score:",e),e}async function ke(t){console.log("üîç GRAMMAR LLM: Starting LLM grammar API call...");try{console.log("üîç GRAMMAR LLM: Making fetch request to /api/grammar-check"),console.log("üîç GRAMMAR LLM: Request payload:",{text_length:t.length,check_type:"grammar"});const a=window.location.hostname==="localhost"?"http://localhost:3001/api/grammar-check":"/api/grammar-check";console.log("üîç GRAMMAR LLM: Using API URL:",a);const r=await fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:t,check_type:"grammar"})});if(console.log("üîç GRAMMAR LLM: API response status:",r.status,r.statusText),r.ok){const c=await r.text();if(console.log("üîç GRAMMAR LLM: API raw response:",c),!c.trim())throw console.error("‚ùå GRAMMAR LLM: Empty response from API"),new Error("Empty response from grammar API");try{const l=JSON.parse(c);console.log("üîç GRAMMAR LLM: API response data:",l);const g=Math.max(Math.min(l.grammar_score||8,10),0);return console.log("üîç GRAMMAR LLM: Calculated final score:",g),g}catch(l){throw console.error("‚ùå GRAMMAR LLM: Failed to parse JSON response:",l),console.error("‚ùå GRAMMAR LLM: Response text was:",c),new Error("Invalid JSON response from grammar API")}}else{console.error("‚ùå GRAMMAR LLM: API request failed with status:",r.status);const c=await r.text();throw console.error("‚ùå GRAMMAR LLM: Error response:",c),new Error(`Grammar API failed with status ${r.status}`)}}catch(a){console.error("‚ùå GRAMMAR LLM: LLM grammar check failed:",a),console.error("‚ùå GRAMMAR LLM: Error details:",a.message,a.stack)}console.log("üîç GRAMMAR LLM: API failed, using internal fallback grammar check...");let e=0;const o=[/\bis\s+are\b/gi,/\bare\s+is\b/gi,/\bi\s+are\b/gi,/\byou\s+is\b/gi];let s=0;o.forEach((a,r)=>{const c=(t.match(a)||[]).length;s+=c,c>0&&console.log("üîç GRAMMAR LLM FALLBACK: Found",c,"matches for pattern",r)}),console.log("üîç GRAMMAR LLM FALLBACK: Total issues found:",s),t.length>100?e=8:t.length>50?e=6:e=4,console.log("üîç GRAMMAR LLM FALLBACK: Base score:",e);const i=Math.min(s*2,6);e-=i,console.log("üîç GRAMMAR LLM FALLBACK: Penalty applied:",i,"Final score:",e);const n=Math.max(e,0);return console.log("üîç GRAMMAR LLM FALLBACK: Returning fallback score:",n),n}function Ie(t){let e=8;t.length<=100&&(e=t.length>50?5:3);try{const o=Re(t);if(o.length===0)return Math.max(e-2,0);const s=Te(o[0]),i=o.every(n=>k(n.text));for(let n=0;n<o.length;n++){const a=o[n],r=n===0&&s,c=!r,l=z(a.text),g=Be(a.text);r&&!i?e-=Math.min(g*1,3):c&&(e-=Math.min(l*2,4))}if(i){const n=o.reduce((a,r)=>a+z(r.text),0);e-=Math.min(n*3,6)}Oe(o)||(e-=1),Pe(o)||(e-=1)}catch(o){return console.warn("Error in verb tense analysis, using fallback:",o),Math.max(e-2,0)}return Math.max(e,0)}function Re(t){const e=[],o=V(t);if(!o)return e;const s=[/\n\s*[A-Z][^\n]*\s+(?:at|@|\||\-)\s+[A-Z][^\n]*\n/g,/\n\s*\d{4}\s*[\-‚Äì]\s*(?:\d{4}|Present|Current|Ongoing)/g,/\n\s*[A-Z][A-Za-z\s,&]+(?:Inc\.|Corp\.|LLC|Ltd\.|Company)\s*\n/g];let i=[o];for(const n of s){const a=[];for(const r of i){const c=r.split(n);a.push(...c.filter(l=>l.trim().length>50))}if(a.length>i.length){i=a;break}}return i.forEach((n,a)=>{n.trim().length>30&&e.push({index:a,text:n.trim(),hasEndDate:k(n)})}),e}function Te(t){if(!t)return!1;const e=t.text.toLowerCase(),s=["present","current","ongoing","now"].some(a=>e.includes(a)),i=!k(t.text),n=Ne(t.text);return s||i||n}function k(t){return[/\d{4}\s*[\-‚Äì]\s*\d{4}/g,/\d{1,2}\/\d{4}\s*[\-‚Äì]\s*\d{1,2}\/\d{4}/g,/(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s+\d{4}\s*[\-‚Äì]\s*(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s+\d{4}/gi].some(o=>o.test(t))}function Ne(t){const e=new Date().getFullYear(),o=new Date().getMonth()+1;if(!new RegExp(`\\b${e}\\b`).test(t))return!1;const i=[];for(let a=0;a<3;a++){const r=o-a;r>0&&i.push(r.toString().padStart(2,"0"))}return new RegExp(`\\b(${i.join("|")})\\/${e}\\b`).test(t)}function z(t){const e=["manage","lead","develop","create","implement","design","build","coordinate","oversee","direct","supervise","execute","deliver","analyze","optimize","maintain","support","collaborate","work","handle","process","review","monitor","track","report"],o=new RegExp(`\\b(${e.join("|")})\\b`,"gi");return(t.match(o)||[]).length}function Be(t){const e=["managed","led","developed","created","implemented","designed","built","coordinated","oversaw","directed","supervised","executed","delivered","analyzed","optimized","maintained","supported","collaborated","worked","handled","processed","reviewed","monitored","tracked","reported"],o=/\b\w+ed\b/g,s=(t.match(o)||[]).length,i=new RegExp(`\\b(${e.join("|")})\\b`,"gi"),n=(t.match(i)||[]).length;return Math.max(s,n)}function Oe(t){if(t.length<2)return!0;const e=t[0],o=t[1],s=k(e.text),i=k(o.text);return!0}function Pe(t){return t.length<2?!0:t.filter(o=>/\d{4}/.test(o.text)||/(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)/i.test(o.text)).length>=t.length*.7}function Ve(t){console.log("üîç ACTION VERBS EXTRACT: Starting verb extraction...");const e=[],o=t.toLowerCase();if(window.actionVerbsConfig){console.log("üîç ACTION VERBS EXTRACT: Using config-based extraction");const i=[];Object.keys(window.actionVerbsConfig).forEach(a=>{if(a!=="WEAK_VERBS"){const r=window.actionVerbsConfig[a]||[];i.push(...r.map(c=>c.toLowerCase()))}});const n=window.actionVerbsConfig.WEAK_VERBS||[];i.push(...n.map(a=>a.toLowerCase())),console.log("üîç ACTION VERBS EXTRACT: Total config verbs to search for:",i.length),i.forEach(a=>{new RegExp("\\b"+a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")+"\\b","gi").test(o)&&e.push(a)}),console.log("üîç ACTION VERBS EXTRACT: Found config-based verbs:",e.length)}else{console.log("üîç ACTION VERBS EXTRACT: Falling back to hardcoded patterns");const i=[/\b(managed|led|developed|created|implemented|achieved|increased|reduced|improved|delivered|executed|coordinated|supervised|administered|analyzed|designed|established|facilitated|generated|initiated|launched|optimized|organized|planned|produced|provided|supported|trained|collaborated|communicated|negotiated|presented|resolved|streamlined|transformed|upgraded|built|maintained|monitored|oversaw|recruited|directed|guided|mentored|coached|evaluated|assessed|identified|researched|tested|reviewed|audited|calculated|forecasted|interviewed|investigated|traced|classified|collected|compiled|processed|recorded|scheduled|arranged|prepared|operated|handled|assisted|helped|contributed|participated|worked|responsible|spearheaded|championed|pioneered|conceptualized|revamped|boosted|drove|conceived|programmed|scaled|orchestrated|engineered)\b/g,/\b(manage|lead|develop|create|implement|achieve|increase|reduce|improve|deliver|execute|coordinate|supervise|administer|analyze|design|establish|facilitate|generate|initiate|launch|optimize|organize|plan|produce|provide|support|train|collaborate|communicate|negotiate|present|resolve|streamline|transform|upgrade|build|maintain|monitor|oversee|recruit|direct|guide|mentor|coach|evaluate|assess|identify|research|test|review|audit|calculate|forecast|interview|investigate|trace|classify|collect|compile|process|record|schedule|arrange|prepare|operate|handle|assist|help|contribute|participate|work|spearhead|champion|pioneer|conceptualize|revamp|boost|drive|conceive|program|scale|orchestrate|engineer)\b/g];for(const n of i){const a=o.match(n);a&&e.push(...a)}}const s=[...new Set(e)];return console.log("üîç ACTION VERBS EXTRACT: Final unique verbs found:",s.length,s),s}function De(t,e){const o={};if(!window.ActionVerbs||!window.ActionVerbs.getVerbsForCategory)return o;for(const s of e){const i=window.ActionVerbs.getVerbsForCategory(s),n=[];for(const a of t)i.some(c=>c.toLowerCase()===a.toLowerCase()||c.toLowerCase().includes(a.toLowerCase())||a.toLowerCase().includes(c.toLowerCase()))&&n.push(a);n.length>0&&(o[s]=n)}return o}function Ue(t,e){const o={};for(const s of e){const i=window.actionVerbsConfig[s]||[],n=[];for(const a of t)i.some(c=>c.toLowerCase()===a.toLowerCase()||c.toLowerCase().includes(a.toLowerCase())||a.toLowerCase().includes(c.toLowerCase()))&&n.push(a);n.length>0&&(o[s]=n)}return o}function ze(t){const e={MANAGEMENT_SKILLS:["managed","led","supervised","coordinated","directed","guided","oversaw"],LEADERSHIP_MENTORSHIP_AND_TEACHING_SKILLS:["spearheaded","championed","mentored","coached","led","guided"],ENTREPRENEURIAL_SKILLS:["launched","pioneered","initiated","founded","established","created"],ENGINEERING_TECHNICAL_ROLES:["built","developed","engineered","programmed","designed","implemented"],STRONG_ACCOMPLISHMENT_DRIVEN_VERBS:["achieved","delivered","executed","accomplished","completed"],PROCESS_IMPROVEMENT_CONSULTING_AND_OPERATIONS:["optimized","streamlined","improved","enhanced","revamped"],FINANCIAL_SKILLS:["budgeted","forecasted","analyzed","calculated","scaled"]},o={};for(const[s,i]of Object.entries(e)){const n=[];for(const a of t)i.some(c=>c.toLowerCase()===a.toLowerCase())&&n.push(a);n.length>0&&(o[s]=n)}return o}function Ge(t){const e=["was completed","were handled","was managed","were developed","was created"];let o=0;t.length>100?o=8:t.length>50?o=6:o=4;const s=e.reduce((i,n)=>i+(t.toLowerCase().split(n).length-1),0);return o-=Math.min(s*2,6),Math.max(o,2)}function Fe(t){let e=0;const o=He(t),s=o.content||"",i=o.hasHeading||!1;return console.log("Summary Section Analysis:",{summaryLength:s.length,hasHeading:i,summaryPreview:s.substring(0,300)+"...",originalPreview:o.content?o.content.substring(0,100):"No original content"}),!s||s.length<20?1:(e=10,G(s)||G(t)||(e-=2),_e(s)||(e-=2),We(s)||(e-=2),qe(s)||(e-=2),Ye(s)||Ke(s)||(e-=2),i||(e-=1),Math.max(e,0))}function $e(t){console.log("üîç DATES: Starting date analysis...");let e=10;const o=[/\b(0[1-9]|1[0-2])\/\d{4}\b/g,/\b(0[1-9]|1[0-2])-\d{4}\b/g,/\b\d{1,2}\/\d{4}\b/g,/\b\d{1,2}-\d{4}\b/g,/\b(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)[a-z]*\s+\d{4}\b/gi,/\b\d{4}\s*[-‚Äì]\s*\d{4}\b/g,/\b\d{4}\s*[-‚Äì]\s*(Present|Ongoing|Current)\b/gi,/\b(Present|Ongoing|Current)\b/gi],s=[],i=[];if(o.forEach((c,l)=>{(t.match(c)||[]).forEach(m=>{s.push(m.trim()),i.push(l)})}),console.log("üîç DATES: Found dates:",s),console.log("üîç DATES: Format types:",i),[...new Set(i)].length>1){const c=i.length-i.filter(g=>g===i[0]).length,l=Math.min(c*2,8);e-=l,console.log("üîç DATES: Date format inconsistencies found:",c,"Penalty:",l)}else console.log("üîç DATES: Date formats are consistent");const a=je(t);e-=a;const r=Math.max(e,0);return console.log("üîç DATES: Final date score:",r),r}function je(t){console.log("üîç DATES CHRONO: Checking chronological order...");const e=V(t);if(!e)return console.log("üîç DATES CHRONO: No experience section found"),0;const o=/\b(19|20)\d{2}\b/g,s=[];let i;for(;(i=o.exec(e))!==null;){const a=parseInt(i[0]);a>=1990&&a<=new Date().getFullYear()+1&&s.push(a)}if(console.log("üîç DATES CHRONO: Extracted years from experience:",s),s.length<2)return console.log("üîç DATES CHRONO: Not enough years to check order"),0;let n=!0;for(let a=0;a<s.length-1;a++)if(s[a]<s[a+1]){n=!1;break}return n?(console.log("üîç DATES CHRONO: Experience is in correct reverse chronological order"),0):(console.log("üîç DATES CHRONO: Experience is NOT in reverse chronological order - applying 5 point penalty"),5)}function He(t){const e=t.toLowerCase(),o=t.split(`
`).map(d=>d.trim()).filter(d=>d.length>0),s=["professional summary","executive summary","career summary","summary","objective","profile","overview","about","introduction"];let i=-1,n="";for(const d of s){const u=e.indexOf(d);u!==-1&&(i===-1||u<i)&&(i=u,n=d)}if(i!==-1){const d=t.substring(i),u=["experience","work history","employment","education","skills","technical skills","core competencies"];let b=d.length;for(const w of u){const h=d.toLowerCase().indexOf(w);if(h!==-1&&h<b&&h>n.length+200){const v=d.substring(Math.max(0,h-50),h),I=d.substring(h,h+50);v.includes(`
`)&&I.includes(`
`)&&(b=h)}}let p=d.substring(n.length,b).trim();if(p.length<100){const w=d.split(`
`);let h=[],v=!1;for(let B=0;B<w.length;B++){const A=w[B].trim();if(!v){if(A.toLowerCase().includes(n)){v=!0;continue}continue}if(A.length>0&&A.length<30&&(A===A.toUpperCase()||["EDUCATION","EXPERIENCE","SKILLS","PROFESSIONAL EXPERIENCE","WORK HISTORY"].includes(A.toUpperCase()))&&h.length>0)break;A.length>0&&h.push(A)}const I=h.join(" ").trim();I.length>p.length&&(p=I)}return p=P(p),{content:p,hasHeading:!0}}console.log("üîç EXTRACT SUMMARY: No explicit summary section found, looking for intro lines...");let a=0;const r=[/^[A-Z][a-z]+ [A-Z][a-z]+/,/@/,/\b\d{3}[-.\s]?\d{3}[-.\s]?\d{4}\b/,/\b[A-Z]{2}\b|\bcity\b|\bstate\b/,/linkedin/i,/github/i];for(let d=0;d<Math.min(o.length,10);d++){const u=o[d],b=r.some(p=>p.test(u));if(console.log(`üîç EXTRACT SUMMARY: Line ${d}: "${u}" -> Contact info: ${b}`),!b&&u.length>30){a=d,console.log("üîç EXTRACT SUMMARY: Starting summary extraction from line:",d);break}}const c=[];console.log("üîç EXTRACT SUMMARY: Extracting potential summary lines from line",a);for(let d=a;d<Math.min(a+8,o.length);d++){const u=o[d],p=["experience","work history","employment","education","skills","projects","certifications"].some(v=>u.toLowerCase().includes(v))&&u.length<50;if(console.log(`üîç EXTRACT SUMMARY: Processing line ${d}: "${u}" (length: ${u.length}, section header: ${p})`),p){console.log("üîç EXTRACT SUMMARY: Hit section header, stopping extraction");break}const w=u.match(/^[A-Z\s]{2,}$/),h=u.length>20;if(console.log(`üîç EXTRACT SUMMARY: Line analysis - Good length: ${h}, All caps header: ${!!w}`),h&&!w&&(c.push(u),console.log("üîç EXTRACT SUMMARY: Added line to potential summary")),c.length>=2&&(u.length<10||w)){console.log("üîç EXTRACT SUMMARY: Have enough lines and hit break, stopping");break}}const l=c.join(" ").trim();if(console.log("üîç EXTRACT SUMMARY: Potential summary lines joined:",c),console.log("üîç EXTRACT SUMMARY: Combined summary content (length:",l.length,"):",l),l.length>50){const d=P(l);return console.log("üîç EXTRACT SUMMARY: Returning intro summary (cleaned):",d),{content:d,hasHeading:!1}}console.log("üîç EXTRACT SUMMARY: Using fallback - first substantial paragraph");const g=t.split(`

`).filter(d=>d.trim().length>50);console.log("üîç EXTRACT SUMMARY: Found paragraphs:",g.length),g.length>0&&console.log("üîç EXTRACT SUMMARY: First paragraph:",g[0]);const m=g[0]||"",y=P(m);return console.log("üîç EXTRACT SUMMARY: Returning fallback content (cleaned):",y),{content:y,hasHeading:!1}}function P(t){if(!t)return"";let e=t;return e=e.replace(/([a-z])([A-Z])/g,"$1 $2"),e=e.replace(/([a-zA-Z])(\d)/g,"$1 $2"),e=e.replace(/(\d)([a-zA-Z])/g,(s,i,n)=>t.includes(i+"+")?s:i+" "+n),["and","of","in","to","with","for","the","as","at","by","on","or"].forEach(s=>{const i=new RegExp(`([a-z])${s}\\b`,"gi");e=e.replace(i,`$1 ${s}`);const n=new RegExp(`\\b${s}([a-z])`,"gi");e=e.replace(n,`${s} $1`)}),e=e.replace(/([a-z])([,.;:])/gi,"$1$2 "),e=e.replace(/([,.;:])([a-zA-Z])/g,"$1 $2"),e=e.replace(/\s+/g," ").trim(),e=e.replace(/\be - commerce\b/gi,"e-commerce"),e=e.replace(/\bed - tech\b/gi,"ed-tech"),e=e.replace(/\bA R R\b/gi,"ARR"),e=e.replace(/\bR O I\b/gi,"ROI"),e=e.replace(/\bA I\b/gi,"AI"),e=e.replace(/\bM L\b/gi,"ML"),e=e.replace(/\bC P O\b/gi,"CPO"),e}function G(t){const e=[/(\d+)\+?\s*years?\s*(of\s*)?(experience|exp)/gi,/over\s*(\d+)\s*years?\s*(of\s*)?(experience|exp)/gi,/more than\s*(\d+)\s*years?\s*(of\s*)?(experience|exp)/gi,/(\d+)\+?\s*year\s*(experienced|professional)/gi,/(experienced|seasoned|veteran)\s*(professional|expert|leader)/gi,/\b(\d+)\+?\s*years?\b/gi,/(senior|lead|principal|staff)\s*(engineer|developer|manager|leader)/gi,/(accomplished|proven|established)\s*(professional|leader|expert)/gi];console.log("üîç hasYearsOfExperience testing against:",t);const s=e.map((i,n)=>{const a=i.test(t);return console.log(`Pattern ${n}: ${i} -> ${a}`),a}).some(i=>i);return console.log("üîç hasYearsOfExperience final result:",s),s}function _e(t){if(!E)return console.warn("Skills-buzzwords config not loaded, using fallback analysis"),["skill","experience","expertise","proficient","knowledge","ability","capable"].some(n=>t.toLowerCase().includes(n));const e=[...E.technicalSkills||[],...E.professionalSkills||[],...E.industryTerms||[]],o=t.toLowerCase(),s=e.filter(i=>o.includes(i.toLowerCase()));return console.log("Skills analysis (from config):",s),s.length>=1}function We(t){if(!E)return console.warn("Skills-buzzwords config not loaded, using fallback analysis"),["drive","deliver","optimize","transform","innovate","scale","growth","efficiency"].some(n=>t.toLowerCase().includes(n));const e=[];E.buzzwords&&Object.values(E.buzzwords).forEach(i=>{e.push(...i)});const o=t.toLowerCase(),s=e.filter(i=>o.includes(i.toLowerCase()));return console.log("Buzzwords analysis (from config):",s),s.length>=2}function qe(t){const e=[/\b\d+\.?\d*\s*%/g,/\$[\d,]+\.?\d*[kmb]?/gi,/\b\d{2,}[,\d]*\s*(users?|customers?|clients?|people|projects?|systems?|applications?)\b/gi,/\b(\d+x|doubled?|tripled?)\b/gi,/\b(over|more than|up to|above|exceeding?)\s*\d{2,}/gi,/\b\d+\s*(years?|months?)\s*(of\s*)?(experience|exp)/gi];console.log("üîç hasQuantification testing against:",t),console.log('üîç QUANTIFICATION TEST: Looking for "$10M+ ARR" pattern...');const o="$10M+ ARR";console.log('üîç QUANTIFICATION TEST: Testing "$10M+ ARR" directly...');const i=e.map((n,a)=>{n.lastIndex=0;const r=n.test(t);n.lastIndex=0;const c=n.test(o);if(console.log(`Quantification Pattern ${a}: ${n} -> ${r} (test on "$10M+ ARR": ${c})`),r){n.lastIndex=0;const l=t.match(n);console.log("  -> Found matches in summary:",l)}if(c){n.lastIndex=0;const l=o.match(n);console.log('  -> Test matches on "$10M+ ARR":',l)}return r}).some(n=>n);return console.log("üîç hasQuantification final result:",i),i}function Ye(t){const e=t.trim().split(/\s+/).length,o=t.split(/[.!?]+/).filter(s=>s.trim().length>5).length;return o>=2&&o<=4&&e>=50&&e<=150}function Ke(t){const e=t.trim().split(/\s+/).length,o=t.split(/[.!?]+/).filter(s=>s.trim().length>5).length;return o>=1&&o<=6&&e>=30&&e<=300}function Xe(t){let e=0;if(window.ActionVerbs&&window.ActionVerbs.countVerbsInText){const o=window.ActionVerbs.countVerbsInText(t,"TEAMWORK_COLLABORATION_SKILLS"),s=window.ActionVerbs.countVerbsInText(t,"COMMUNICATION_SKILLS");e+=Math.min(o*1.5,6),e+=Math.min(s*.2,2);const n=["team","cross-functional","partnership","stakeholders","collaboration"].filter(a=>t.toLowerCase().includes(a)).length;e+=Math.min(n*.4,2)}else{const o=["team","collaborate","cooperation","partnership","group","cross-functional"],s=t.toLowerCase(),i=o.filter(n=>s.includes(n)).length;e+=Math.min(i*1.7,10)}return Math.min(e,10)}function Je(t){let e=10;const o=[];if(window.ActionVerbs&&window.ActionVerbs.getAllStrongVerbs){const d=window.ActionVerbs.getAllStrongVerbs();o.push(...d)}const s={},i=t.toLowerCase();o.forEach(d=>{const u=d.toLowerCase(),b=new RegExp(`\\b${u}\\b`,"gi"),p=i.match(b);p&&p.length>1&&(s[u]=p.length)});const n=Object.values(s).filter(d=>d>1);e-=n.length;const a=t.toLowerCase().split(/\s+/),r={},c=["that","this","with","from","have","been","were","will","they","them","their","there","where","when","what","which","work","team","project","company","business","experience","years"];a.forEach(d=>{const u=d.replace(/[^\w]/g,"");u.length>4&&!c.includes(u)&&(r[u]=(r[u]||0)+1)});const l=Object.values(r).filter(d=>d>3).length;e-=Math.min(l*.5,3);const g=t.toLowerCase().match(/\b\w+\s+\w+\b/g)||[],m={};g.forEach(d=>{!c.includes(d.split(" ")[0])&&!c.includes(d.split(" ")[1])&&(m[d]=(m[d]||0)+1)});const y=Object.values(m).filter(d=>d>1).length;return e-=Math.min(y*.5,2),Math.max(e,0)}function Qe(t){const e=t.toLowerCase();let o=10;const i=["references available","hobbies","interests","personal information"].filter(n=>e.includes(n)).length;return o-=i*2,Math.max(o,4)}function Ze(t){const e=t.toLowerCase(),o=["promoted","advancement","progression","senior","lead","principal","director"];let s=0;const i=o.filter(n=>e.includes(n)).length;return s+=Math.min(i*1.4,10),Math.min(s,10)}function et(t){let e=10;const o=t.trim().split(/\s+/).length,s=t.length,i=t.split(`
`).length,n=Math.ceil(o/550);D(t)<6?n>1&&(n===2?e-=4:n>=3&&(e-=7)):n>2&&(e-=5);const r=o/n;r<300?e-=2:r>700&&(e-=3);const c=o/i;c<3?e-=1:c>15&&(e-=2);const l=tt(t);e+=l;const g=(t.match(/\s/g)||[]).length/s;return g<.15?e-=2:g>.25&&(e-=1),Math.max(Math.min(e,10),0)}function D(t){const e=t.toLowerCase(),o=[/(\d+)\+?\s*years?\s*(of\s*)?(experience|exp)/gi,/over\s*(\d+)\s*years?\s*(of\s*)?(experience|exp)/gi,/more than\s*(\d+)\s*years?\s*(of\s*)?(experience|exp)/gi];for(const n of o){const a=e.match(n);if(a){const r=a[0].match(/\d+/);if(r)return parseInt(r[0])}}const s=new Date().getFullYear(),i=t.match(/\b(19|20)\d{2}\b/g);if(i&&i.length>=2){const n=i.map(c=>parseInt(c)).sort(),a=n[0];if(n[n.length-1]>=s-1)return Math.min(s-a,20)}return t.length>2e3?8:t.length>1500?5:3}function tt(t){let e=0;[/\b(professional\s+)?(summary|objective|profile)\b/gi,/\b(professional\s+|work\s+)?experience\b/gi,/\beducation\b/gi,/\bskills\b/gi,/\b(contact|contact\s+information)\b/gi].filter(c=>c.test(t)).length>=4&&(e+=1),(t.match(/[‚Ä¢‚ñ™‚ñ´‚ñ†‚ñ°‚ó¶‚Ä£‚ÅÉ-]/g)||[]).length>=5&&(e+=.5);const n=[(t.match(/\d{4}\s*[-‚Äì]\s*\d{4}/g)||[]).length,(t.match(/\d{1,2}\/\d{4}/g)||[]).length,(t.match(/[A-Za-z]+\s+\d{4}/g)||[]).length],a=Math.max(...n),r=n.reduce((c,l)=>c+l,0);return r>0&&a/r>=.8&&(e+=.5),Math.min(e,2)}function nt(t){const e=t.toLowerCase(),o=["initiative","self-motivated","proactive","launched","founded","created","innovated"];let s=0;const i=o.filter(n=>e.includes(n)).length;return s+=Math.min(i*1.4,10),Math.min(s,10)}function ot(t,e=null){if(!L)return;L.innerHTML="";let o,s,i;if(e?(s=e.topFixes,i=e.needFixes,e.completed,o=[...s,...i]):(o=C.filter(n=>n.score&&n.score<9),s=C.filter(n=>n.score<6),i=C.filter(n=>n.score>=6&&n.score<=8),C.filter(n=>n.score>=9)),console.log("üîç DEBUG: Issues needing fix:",o.length,o),o.length===0){L.innerHTML=`
            <div class="text-center py-8">
                <div class="text-6xl mb-4">üéâ</div>
                <h3 class="text-xl font-semibold text-gray-900 mb-2">Perfect ATS Score!</h3>
                <p class="text-gray-600">All categories are optimized. Your resume is ready!</p>
            </div>
        `;return}o.forEach((n,a)=>{if(!n.title||n.title.trim()===""||n.title==="Unknown Issue"){console.warn("‚ö†Ô∏è Skipping issue with missing/invalid title:",{title:n.title,description:n.description,score:n.score,category:n.category,severity:n.severity,impact:n.impact});return}const r=document.createElement("div");r.className=`issue-card severity-${n.severity||"medium"}`;const c=n.description||"Needs improvement",l=typeof n.score=="number"&&!isNaN(n.score)?n.score:0,g=n.severity||"medium",m=n.impact||"IMPROVEMENT",y=l>=8?"text-yellow-600":l>=6?"text-orange-600":"text-red-600";r.innerHTML=`
            <div class="flex-1">
                <div class="flex items-center justify-between mb-2">
                    <h3 class="text-lg font-semibold text-gray-900">${n.title}</h3>
                    <div class="text-sm font-bold ${y}">${l}/10</div>
                </div>
                <p class="text-gray-600 mb-3">${c}</p>
                <div class="flex items-center justify-between">
                    <div class="impact-badge">
                        ${at(m)} ${rt(m)}
                    </div>
                    <div class="text-xs text-gray-500">
                        ${ct(g)}
                    </div>
                </div>
            </div>
            <button class="fix-button" onclick="handleFixIssue('${n.title.replace(/'/g,"\\'")}', ${a})">
                FIX ‚Üí
            </button>
        `,L.appendChild(r)})}function st(t){if(!O||!H)return;O.innerHTML="",[{title:"Contact Information",description:"Complete contact details with professional email and phone number."},{title:"Professional Format",description:"Clean, ATS-friendly format that scans well across different systems."},{title:"Education Section",description:"Well-structured education section with clear degree and institution details."},{title:"File Structure",description:"PDF format ensures consistent formatting across different devices and systems."},{title:"Length Optimization",description:"Appropriate resume length that provides sufficient detail without being too lengthy."},{title:"Grammar Quality",description:"Professional language with proper grammar and sentence structure."}].forEach(o=>{const s=document.createElement("div");s.className="strength-item",s.innerHTML=`
            <div class="check-icon">
                <svg class="w-3 h-3 text-white" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                </svg>
            </div>
            <div class="flex-1">
                <h4 class="font-semibold text-gray-900">${o.title}</h4>
                <p class="text-gray-600 mt-1">${o.description}</p>
            </div>`,O.appendChild(s)})}function it(t){const e=t.nextElementSibling,o=t.querySelector("svg"),s=t.querySelector("span");if(e.classList.contains("hidden")){e.classList.remove("hidden"),o.style.transform="rotate(180deg)";const i=e.querySelectorAll(".strength-item").length;s.textContent=`Hide ${i} additional categories`,setTimeout(()=>{const n=document.getElementById("upgradeBtn");n&&n.scrollIntoView({behavior:"smooth",block:"end"})},300)}else{e.classList.add("hidden"),o.style.transform="rotate(0deg)";const i=e.querySelectorAll(".strength-item").length;s.textContent=`Show ${i} more completed categories`}}window.toggleAdditionalStrengths=it;function at(t){return{BREVITY:"üìù",IMPACT:"‚ö°",SECTIONS:"üìã",STYLE:"üé®",ALL:"üéØ"}[t]||"üìå"}function rt(t){return t||"ALL"}function ct(t){return{high:"High Priority",medium:"Medium Priority",low:"Low Priority"}[t]||"Medium Priority"}window.handleFixIssue=function(t,e){console.log(`Fix requested for: ${t}`);const o=lt(t,f);bt(t,o)};function lt(t,e){const o=e.insights||{},s=e.resume_text||e.text||"";return dt(t,o,s)}function dt(t,e,o){const s=[],i=e.quick_wins||[],n=e.critical_issues||[],a=e.improvement_suggestions||[],r=[...i,...n,...a],c=ut(t,r);if(c.length>0)c.forEach(l=>{s.push({line:mt(l,o),issue:l.title||l.issue||l.suggestion||"Issue needs attention",fix:l.recommendation||l.solution||`Improved version addressing: ${l.issue||l.suggestion}`,fromAnalysis:!0})});else{const l=ht(t,o);s.push(...l)}return s.slice(0,3)}function ut(t,e,o){const s=gt(t);return e.filter(i=>{const n=(i.title||i.issue||i.suggestion||"").toLowerCase();return s.some(a=>n.includes(a))})}function gt(t){return{summary:["summary","objective","profile","overview"],"quantity impact":["quantify","metric","number","percentage","result","achievement"],"weak verbs":["verb","action","responsible","duties","passive"],verbosity:["concise","wordy","lengthy","verbose","brief"],"spelling & consistency":["spelling","typo","error","consistent","mistake"],grammar:["grammar","tense","sentence","structure"],"active voice":["active","passive","voice"],"verb tenses":["tense","past","present","consistent"],"education section":["education","degree","university","school"],"skills section":["skills","technical","competencies"],"contact details":["contact","phone","email","address"],"use of bullets":["bullet","format","list","structure"]}[t.toLowerCase()]||[t.toLowerCase()]}function mt(t,e){if(!e)return"Content from your resume that needs attention";const o=e.split(`
`).filter(i=>i.trim().length>10),s=(t.title||t.issue||"").toLowerCase().split(" ");for(let i of o){const n=i.toLowerCase().split(" ");if(s.filter(r=>n.some(c=>c.includes(r)&&r.length>3)).length>0)return i.trim()}return pt(t,o)}function pt(t,e){var s;const o=(t.title||t.issue||"").toLowerCase();for(let i of e)if(o.includes("verb")&&(i.includes("responsible for")||i.includes("duties include"))||o.includes("quantify")&&(i.includes("improved")||i.includes("increased"))&&!i.match(/\d+/)||o.includes("summary")&&(i.includes("seeking")||i.includes("professional")))return i.trim();return((s=e.find(i=>i.length>30))==null?void 0:s.trim())||"Sample content from your resume"}function ht(t,e){if(!e||e.length<50)return[{line:"Resume content needs enhancement",issue:`${t} section requires improvement for ATS optimization`,fix:"Enhance this section with more relevant content and keywords"}];const o=e.split(`
`).filter(i=>i.trim().length>15),s=[];return o.forEach(i=>{if(s.length>=2)return;const n=ft(i,t);n&&s.push(n)}),s.length===0&&s.push({line:o[0]||"Resume content",issue:`${t} optimization needed for better ATS performance`,fix:"Professional optimization will improve this section for ATS systems"}),s}function ft(t,e){const o=e.toLowerCase();return o.includes("verb")&&(t.toLowerCase().includes("responsible for")||t.toLowerCase().includes("duties include"))?{line:t.trim(),issue:"Uses weak passive language instead of strong action verbs",fix:"Replace with specific action verbs showing leadership and results"}:o.includes("quantify")&&(t.includes("improved")||t.includes("increased"))&&!t.match(/\d+/)?{line:t.trim(),issue:"Claims improvement without specific metrics or numbers",fix:"Add quantified results with percentages, dollar amounts, or specific numbers"}:o.includes("spelling")&&t.length>50?{line:t.trim(),issue:"May contain spelling or consistency issues requiring review",fix:"Professional review will identify and correct any errors"}:null}function bt(t,e){const o=document.createElement("div");o.className="fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",o.id="issueDetailModal",o.innerHTML=`
        <div class="bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto">
            <div class="sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between">
                <h2 class="text-xl font-bold text-gray-900">Fix: ${t}</h2>
                <button onclick="closeIssueModal()" class="text-gray-400 hover:text-gray-600">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
            
            <div class="p-6">
                <div class="mb-6">
                    <h3 class="text-lg font-semibold text-gray-900 mb-2">Specific Issues Found in Your Resume:</h3>
                    <p class="text-gray-600">Here are examples of areas that need improvement for better ATS optimization:</p>
                </div>
                
                ${e.map((s,i)=>`
                    <div class="mb-8 border border-gray-200 rounded-lg overflow-hidden">
                        <div class="bg-red-50 p-4 border-b border-gray-200">
                            <h4 class="font-semibold text-red-800 mb-2">‚ùå Current (Problematic):</h4>
                            <div class="bg-white p-3 rounded border-l-4 border-red-500">
                                <code class="text-sm text-gray-800">"${s.line}"</code>
                            </div>
                            <p class="text-sm text-red-700 mt-2"><strong>Issue:</strong> ${s.issue}</p>
                        </div>
                        
                        <div class="bg-green-50 p-4">
                            <h4 class="font-semibold text-green-800 mb-2">‚úÖ Improved (ATS-Optimized):</h4>
                            <div class="bg-white p-3 rounded border-l-4 border-green-500">
                                <code class="text-sm text-gray-800">"${s.fix}"</code>
                            </div>
                        </div>
                    </div>
                `).join("")}
                
                <div class="bg-blue-50 border border-blue-200 rounded-lg p-6 mt-8">
                    <h4 class="font-semibold text-blue-800 mb-3">üí° Why This Matters for ATS:</h4>
                    <p class="text-blue-700 text-sm">
                        ${Et(t)}
                    </p>
                </div>
                
                <div class="flex gap-4 mt-8">
                    <button onclick="closeIssueModal()" class="flex-1 bg-gray-200 text-gray-800 py-3 px-6 rounded-lg font-medium hover:bg-gray-300">
                        I'll Fix This Manually
                    </button>
                    <button onclick="handleAutoFix('${t}')" class="flex-1 bg-purple-600 text-white py-3 px-6 rounded-lg font-medium hover:bg-purple-700">
                        üöÄ Auto-Fix with AI - FREE
                    </button>
                </div>
            </div>
        </div>
    `,document.body.appendChild(o)}function Et(t){return{summary:"ATS systems scan for specific keywords and value propositions in the summary. Generic statements reduce your ranking compared to candidates with targeted, quantified summaries.","quantity impact":"ATS algorithms favor resumes with quantified achievements. Numbers and metrics demonstrate measurable impact and help you stand out in automated screening.","weak verbs":'Strong action verbs signal leadership and initiative to ATS systems. Weak verbs like "responsible for" are passive and reduce the impact score of your accomplishments.',verbosity:"ATS systems may truncate overly long descriptions, causing important information to be missed. Concise, impactful statements ensure all your achievements are captured.","spelling & consistency":"ATS systems flag spelling errors as quality indicators. Even minor mistakes can significantly impact your overall ATS score and prevent you from reaching human reviewers.","active voice":"ATS systems favor active voice as it demonstrates ownership and leadership. Passive voice can make your achievements seem less impactful and reduce keyword matching.","verb tenses":"Consistent verb tenses help ATS systems understand your career timeline. Inconsistent tenses can confuse parsing algorithms and misrepresent your experience."}[t.toLowerCase()]||"Optimizing this area will improve your ATS score and increase your chances of passing automated screening systems used by most companies."}window.closeIssueModal=function(){const t=document.getElementById("issueDetailModal");t&&t.remove()};window.handleAutoFix=function(t){console.log(`Auto-fix requested for: ${t}`),closeIssueModal(),sessionStorage.setItem("fixIssue",t),sessionStorage.setItem("pendingUpgrade","true"),sessionStorage.setItem("upgradeSource","specific_fix"),N&&N.click()};function yt(){N&&N.addEventListener("click",()=>{sessionStorage.setItem("pendingUpgrade","true"),sessionStorage.setItem("upgradeSource","results_page"),window.location.href="./payment.html"}),At()}function wt(t,e,o,s){const i=document.getElementById("summaryText");if(i){const c=t.length+e.length;i.textContent=`${c} areas need improvement out of ${s} categories analyzed`}const n=document.getElementById("highPriorityCount"),a=document.getElementById("needFixesCount"),r=document.getElementById("completedCount");n&&(n.textContent=t.length),a&&(a.textContent=e.length),r&&(r.textContent=o.length)}function At(){const t=document.getElementById("toggleIssuesBtn"),e=document.getElementById("issuesList"),o=document.getElementById("toggleIcon");t&&e&&o&&t.addEventListener("click",()=>{e.classList.contains("hidden")?(e.classList.remove("hidden"),o.style.transform="rotate(180deg)",t.querySelector("h3").textContent="Hide Detailed Issues",t.querySelector("p").textContent="Collapse the detailed issues list"):(e.classList.add("hidden"),o.style.transform="rotate(0deg)",t.querySelector("h3").textContent="View Detailed Issues",t.querySelector("p").textContent="See exactly what needs to be fixed in your resume")})}console.log("üîÑ DEBUG: result.js module loaded");console.log("üîç DEBUG: DOM readyState:",document.readyState);console.log("üîç DEBUG: Available DOM elements check:");console.log("  - atsScore element:",!!document.getElementById("atsScore"));console.log("  - scoreCircle element:",!!document.getElementById("scoreCircle"));console.log("  - topFixesList element:",!!document.getElementById("topFixesList"));console.log("  - completedList element:",!!document.getElementById("completedList"));console.log("  - issuesList element:",!!document.getElementById("issuesList"));console.log("  - strengthsList element:",!!document.getElementById("strengthsList"));document.readyState==="loading"?(console.log("üîç DEBUG: DOM still loading, adding event listener"),document.addEventListener("DOMContentLoaded",()=>{console.log("üîç DEBUG: DOMContentLoaded event fired"),console.log("üîç DEBUG: Re-checking DOM elements after DOMContentLoaded:"),console.log("  - atsScore element:",!!document.getElementById("atsScore")),console.log("  - scoreCircle element:",!!document.getElementById("scoreCircle")),console.log("  - topFixesList element:",!!document.getElementById("topFixesList")),console.log("  - completedList element:",!!document.getElementById("completedList")),console.log("  - issuesList element:",!!document.getElementById("issuesList")),console.log("  - strengthsList element:",!!document.getElementById("strengthsList")),F()})):(console.log("üîç DEBUG: DOM already loaded, initializing directly"),F());async function F(){console.log("üîß DEBUG: Starting initializeWithActionVerbs...");try{console.log("üîß DEBUG: Checking for ActionVerbs module:",!!window.ActionVerbs),window.ActionVerbs&&window.ActionVerbs.loadActionVerbs?(console.log("üîß DEBUG: Loading ActionVerbs..."),await window.ActionVerbs.loadActionVerbs(),console.log("üîß DEBUG: ActionVerbs loaded successfully")):console.log("üîß DEBUG: ActionVerbs not available or loadActionVerbs method missing, proceeding without it"),console.log("üîß DEBUG: ActionVerbs setup complete, initializing results page")}catch(t){console.error("‚ùå DEBUG: Failed to load ActionVerbs:",t),console.warn("Failed to load ActionVerbs, proceeding with fallback analysis:",t)}console.log("üîß DEBUG: Calling main init() function..."),$()}function St(t){console.log("üîç GRAMMAR FALLBACK: Calculating fallback grammar score...");let e=0;const o=[/\bis\s+are\b/gi,/\bare\s+is\b/gi,/\bi\s+are\b/gi,/\byou\s+is\b/gi];let s=0;o.forEach((a,r)=>{const c=(t.match(a)||[]).length;s+=c,c>0&&console.log("üîç GRAMMAR FALLBACK: Found",c,"matches for pattern",r,a)}),console.log("üîç GRAMMAR FALLBACK: Total grammar issues found:",s),t.length>100?e=8:t.length>50?e=6:e=4,console.log("üîç GRAMMAR FALLBACK: Base score based on length:",e);const i=Math.min(s*2,6);e-=i,console.log("üîç GRAMMAR FALLBACK: Penalty applied:",i,"Score after penalty:",e);const n=Math.max(e,0);return console.log("üîç GRAMMAR FALLBACK: Final fallback score:",n),n}function Ct(t){console.log("üîç GRAMMAR UPDATE: Attempting to update grammar score to:",t);const e=document.querySelectorAll('[data-category="Grammar"]');console.log("üîç GRAMMAR UPDATE: Found grammar elements:",e.length);const o=document.querySelectorAll('[data-category="Grammar & Spelling"]');console.log('üîç GRAMMAR UPDATE: Found "Grammar & Spelling" elements:',o.length),[...e,...o].forEach((s,i)=>{console.log("üîç GRAMMAR UPDATE: Processing element",i,s);const n=s.querySelector(".score");if(n){console.log("üîç GRAMMAR UPDATE: Found score element, updating from",n.textContent,"to",`${t}/10`),n.textContent=`${t}/10`;const a=`score ${t>=8?"text-green-600":t>=6?"text-yellow-600":"text-red-600"}`;n.className=a,console.log("üîç GRAMMAR UPDATE: Applied new class:",a)}else console.log("‚ùå GRAMMAR UPDATE: No score element found in element",i)}),vt()}function vt(){const t=document.querySelectorAll(".score");let e=0,o=0;if(t.forEach(s=>{const i=s.textContent.match(/(\d+)\/10/);i&&(e+=parseInt(i[1]),o++)}),o>0){const s=Math.round(e/o*10),i=document.querySelector("#overall-score");i&&(i.textContent=s)}}window.debugResults={analysisData:()=>f,allIssues:()=>C,reinit:$};
