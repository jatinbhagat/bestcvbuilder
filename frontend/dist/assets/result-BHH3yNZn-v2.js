import"./modulepreload-polyfill-B5Qt9EMX-v2.js";/* empty css                  */const h=document.getElementById("atsScore"),g=document.getElementById("scoreCircle"),w=document.getElementById("markedAsDone"),p=document.getElementById("topFixesList"),f=document.getElementById("completedList"),c=document.getElementById("issuesList"),y=document.getElementById("strengthsList"),d=document.getElementById("upgradeBtn"),b=document.getElementById("summaryText"),E=document.getElementById("highPriorityCount"),I=document.getElementById("needFixesCount"),C=document.getElementById("completedCount");let a,u=null;try{const e=sessionStorage.getItem("atsAnalysis");console.log("üìä Raw session data:",e),a=JSON.parse(e||"{}"),console.log("üìä Parsed Analysis Data:",a),console.log("üîç INITIAL DATA CHECK:"),console.log("üîç Has comprehensive_issues_report?","comprehensive_issues_report"in a),console.log("üîç comprehensive_issues_report value:",a.comprehensive_issues_report)}catch(e){console.error("‚ùå Failed to parse session data:",e),a={}}async function k(){if(console.log("üöÄ Initializing result page..."),console.log("üîç All session storage keys:",Object.keys(sessionStorage)),console.log("üîç atsAnalysis:",sessionStorage.getItem("atsAnalysis")),console.log("üîç atsResults:",sessionStorage.getItem("atsResults")),!a||Object.keys(a).length===0){console.error("‚ùå No analysis data found");const e=sessionStorage.getItem("atsResults")||sessionStorage.getItem("analysisResults");if(e){console.log("üìä Found alternative data:",e);try{a=JSON.parse(e),console.log("üìä Using alternative data:",a)}catch(s){console.error("‚ùå Failed to parse alternative data:",s)}}if(!a||Object.keys(a).length===0){ve("No analysis data found. Please upload your resume again.");return}}await S(),T(),B(),R(),G(),U(),console.log("‚úÖ Result page initialized successfully")}async function S(){try{const e=await L(),s=e.bypass_payment||e.free_mode_enabled,t=document.getElementById("upgradeBtn");t&&(s?t.innerHTML="üöÄ FIX MY RESUME NOW - FREE üöÄ":t.innerHTML="üöÄ FIX THIS RESUME NOW - ‚Çπ99 üöÄ"),console.log(`üîß CTA text updated - bypass: ${s}`)}catch(e){console.error("‚ö†Ô∏è Failed to update CTA text:",e)}}async function N(e){try{const s=await L();s.bypass_payment||s.free_mode_enabled?(e.innerHTML="üöÄ Fix for Free - Instant Results",e.className="flex-1 bg-gradient-to-r from-green-500 to-green-600 text-white font-bold py-3 px-6 rounded-lg hover:from-green-600 hover:to-green-700 transition-all duration-300 shadow-lg text-base"):(e.innerHTML="üöÄ Fix This - ‚Çπ99",e.className="flex-1 bg-gradient-to-r from-blue-500 to-blue-600 text-white font-bold py-3 px-6 rounded-lg hover:from-blue-600 hover:to-blue-700 transition-all duration-300 shadow-lg text-base")}catch(s){console.error("‚ö†Ô∏è Failed to update modal CTA button:",s)}}function T(){if(!h)return;const e=Math.round(a.score||a.ats_score||0);h.textContent=e,console.log("üìä SCORE DEBUG: Received scores from backend:",{score:a.score,ats_score:a.ats_score,finalUsed:e,whichFieldUsed:a.score?"score":"ats_score"}),g&&(e>=80?g.style.borderColor="#10b981":e>=60?g.style.borderColor="#f59e0b":g.style.borderColor="#ef4444")}function B(){const e=a.detailedAnalysis||a.detailed_analysis||{},s=a.component_scores||{};console.log("üìä DEBUG: Full analysisData keys:",Object.keys(a)),console.log("üìä DEBUG: analysisData.detailedAnalysis exists:",!!a.detailedAnalysis),console.log("üìä DEBUG: analysisData.detailed_analysis exists:",!!a.detailed_analysis),console.log("üìä DEBUG: detailedAnalysis keys:",a.detailedAnalysis?Object.keys(a.detailedAnalysis):"NONE"),console.log("üìä DEBUG: detailedAnalysis count:",a.detailedAnalysis?Object.keys(a.detailedAnalysis).length:0),console.log("üìä Detailed Analysis:",e),console.log("üìä Component Scores:",s),p&&(p.innerHTML=""),f&&(f.innerHTML=""),c&&(c.innerHTML="");const t=M(s,e),n=t.filter(r=>r.score<6),o=t.filter(r=>r.score>=6&&r.score<9),i=t.filter(r=>r.score>=9);if(console.log("üìä Category breakdown:",{low:n.length,medium:o.length,high:i.length,total:t.length}),b){const r=n.length+o.length;b.textContent=`${r} areas need improvement out of ${t.length} categories analyzed`}E&&(E.textContent=n.length),I&&(I.textContent=o.length),C&&(C.textContent=i.length),w&&(w.textContent=`${i.length} COMPLETED`),F(n,o,i),$(n,o),_(i)}function M(e,s){const t=[];return console.log("üîç Creating categories from comprehensive backend analysis:",s),s&&Object.keys(s).length>0?Object.entries(s).forEach(([n,o])=>{if(o&&typeof o.score<"u"){const i=Math.max(0,Math.min(10,Math.round(o.score))),r=n.split("_").map(x=>x.charAt(0).toUpperCase()+x.slice(1)).join(" ").replace("And","&"),l=o.issues&&o.issues.length>0?o.issues[0]:"Needs improvement",m=o.impact||"IMPROVEMENT";t.push({name:r,score:i,issue:l,impact:m}),console.log(`üìä ${r}: ${i}/10`)}else console.warn(`‚ö†Ô∏è No data for ${n}:`,o)}):console.error("‚ùå No comprehensive backend analysis found"),console.log(`üìä Final categories created: ${t.length} total`),console.log("üìä Categories:",t.map(n=>n.name)),t}function F(e,s,t){p&&[...e,...s].forEach(n=>{const o=document.createElement("div");o.className="sidebar-item";const i=n.score<6?"text-red-600":"text-orange-600";o.innerHTML=`
                <span class="text-sm text-gray-700">${n.name}</span>
                <span class="text-sm font-bold ${i}">${n.score}/10</span>
            `,p.appendChild(o)}),f&&t.forEach(n=>{const o=document.createElement("div");o.className="sidebar-item",o.innerHTML=`
                <span class="text-sm text-gray-700">${n.name}</span>
                <span class="text-sm font-bold text-green-600">${n.score}/10</span>
            `,f.appendChild(o)})}function $(e,s){if(!c)return;const t=[...e,...s];if(t.length===0){c.innerHTML=`
            <div class="text-center py-8">
                <div class="text-6xl mb-4">üéâ</div>
                <h3 class="text-xl font-semibold text-gray-900 mb-2">Perfect ATS Score!</h3>
                <p class="text-gray-600">All categories are optimized. Your resume is ready!</p>
            </div>
        `;return}t.forEach((n,o)=>{const i=document.createElement("div"),r=n.score<6?"severity-high":"severity-medium",l=n.score<6?"high":"medium";i.className=`issue-card ${r}`,i.innerHTML=`
            <div class="issue-content">
                <h3>${n.name}</h3>
                <p>${n.issue}</p>
                <div class="issue-meta">
                    <span class="score-badge">${n.score}/10</span>
                    <span class="impact-badge ${l}">${n.impact}</span>
                </div>
            </div>
            <button class="fix-button" onclick="handleFixIssue('${n.name}', ${o})">
                FIX ‚Üí
            </button>
        `,c.appendChild(i)})}function _(e){if(y){if(e.length===0){y.innerHTML=`
            <div class="text-center py-8">
                <p class="text-gray-600">Complete the improvements above to unlock your strengths!</p>
            </div>
        `;return}e.forEach(s=>{const t=document.createElement("div");t.className="strength-item",t.innerHTML=`
            <div class="check-icon">
                <svg class="w-4 h-4 text-white" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                </svg>
            </div>
            <div class="strength-content">
                <h4>${s.name}</h4>
                <p>Excellent! Your ${s.name.toLowerCase()} is well-optimized for ATS systems.</p>
            </div>
        `,y.appendChild(t)})}}function R(){const e=document.getElementById("toggleIssuesBtn"),s=document.getElementById("toggleIcon");e&&c&&s&&e.addEventListener("click",()=>{c.classList.contains("hidden")?(c.classList.remove("hidden"),s.style.transform="rotate(180deg)",e.querySelector("h3").textContent="Hide Detailed Issues",e.querySelector("p").textContent="Collapse the detailed issues list"):(c.classList.add("hidden"),s.style.transform="rotate(0deg)",e.querySelector("h3").textContent="View Detailed Issues",e.querySelector("p").textContent="See exactly what needs to be fixed in your resume")})}async function L(){if(u)return u;try{const t=`${window.location.hostname!=="localhost"&&window.location.hostname!=="127.0.0.1"?"https://bestcvbuilder-api.onrender.com/api":"/api"}/config/`,n=await fetch(t,{method:"GET",headers:{"Content-Type":"application/json"}});if(!n.ok)throw new Error(`Config fetch failed: ${n.status}`);return u=await n.json(),console.log("üîß App config loaded:",u),u}catch(e){return console.error("‚ö†Ô∏è Failed to fetch app config, using defaults:",e),u={bypass_payment:!0,free_mode_enabled:!0,features:{free_cv_rewrite:!0,payment_bypass:!0}},u}}async function A(e="upgrade"){console.log(`üöÄ CTA clicked from: ${e}`);const s=await L(),t=s.bypass_payment||s.free_mode_enabled;console.log(`üîß Payment bypass enabled: ${t}`),t?await D():(sessionStorage.setItem("pendingAnalysis",JSON.stringify(a)),window.location.href="./create-order.html")}async function D(){console.log("üìÑ Showing TXT download page...");try{H(),console.log("üîç DEBUGGING TXT REPORT GENERATION"),console.log("üìä Full analysisData keys:",Object.keys(a)),console.log("üìä analysisData structure:",JSON.stringify(a,null,2));const e=a.comprehensive_issues_report;if(console.log("üîç comprehensive_issues_report field:",e),console.log("üîç Type of comprehensive_issues_report:",typeof e),console.log("üîç Is null/undefined?",e==null),e&&e.length>0)sessionStorage.setItem("comprehensiveReport",e),console.log("‚úÖ Comprehensive report found and stored"),console.log("üìÑ Report length:",e.length),console.log("üìÑ Report preview (first 200 chars):",e.substring(0,200));else{console.log("‚ö†Ô∏è FALLBACK TRIGGERED:"),console.log("   - comprehensiveReport exists?",!!e),console.log("   - comprehensiveReport length?",(e==null?void 0:e.length)||"N/A"),console.log("   - comprehensiveReport content?",e||"NULL/UNDEFINED");const s=O();sessionStorage.setItem("comprehensiveReport",s),console.log("‚ö†Ô∏è Generated basic report as fallback"),console.log("üìÑ Basic report length:",s.length)}window.location.href="./download-report.html"}catch(e){console.error("‚ùå Failed to show TXT download page:",e),P(),alert("Failed to generate issues report. Please try again.")}}function O(){const e=a.score||a.ats_score||0,s=a.detailedAnalysis||a.detailed_analysis||{};let t=`ATS ISSUES REPORT
`;return t+=`${"=".repeat(50)}
`,t+=`Current ATS Score: ${e}/100
`,t+=`Report Generated: ${new Date().toLocaleString()}

`,t+=`ISSUES BY CATEGORY
`,t+=`${"-".repeat(30)}

`,Object.entries(s).forEach(([n,o])=>{if(o&&o.score<10){const i=n.split("_").map(r=>r.charAt(0).toUpperCase()+r.slice(1)).join(" ");t+=`${i}: ${o.score}/10
`,o.issues&&o.issues.length>0&&o.issues.forEach(r=>{t+=`  ‚Ä¢ ${r}
`}),o.suggestions&&o.suggestions.length>0&&o.suggestions.forEach(r=>{t+=`  ‚Üí ${r}
`}),t+=`
`}}),t+=`
Generated by BestCVBuilder.com
`,t+=`Your ATS Optimization Partner
`,t}function H(){d&&(d.disabled=!0,d.innerHTML="üîÑ Processing Your CV...",d.classList.add("loading"));const e=document.getElementById("modalFixAllBtn");e&&(e.disabled=!0,e.innerHTML="üîÑ Processing...",e.classList.add("loading"))}function P(){d&&(d.disabled=!1,d.innerHTML="üöÄ FIX MY RESUME NOW - FREE üöÄ",d.classList.remove("loading"));const e=document.getElementById("modalFixAllBtn");e&&(e.disabled=!1,e.innerHTML="üöÄ Fix for Free - Instant Results",e.classList.remove("loading"))}function G(){d&&d.addEventListener("click",()=>{A("upgrade")})}function U(){const e=document.getElementById("issueModal"),s=document.getElementById("closeModal"),t=document.getElementById("modalCloseBtn"),n=document.getElementById("modalFixAllBtn");[s,t].forEach(o=>{o&&o.addEventListener("click",v)}),n&&n.addEventListener("click",ye),e&&e.addEventListener("click",o=>{o.target===e&&v()}),document.addEventListener("keydown",o=>{o.key==="Escape"&&e&&!e.classList.contains("hidden")&&v()})}function j(e,s){console.log("üîß Fix issue clicked:",e,s),V(e)}function V(e){const s=document.getElementById("issueModal"),t=document.getElementById("modalTitle"),n=document.getElementById("modalIssuesList");if(!s||!t||!n){console.error("Modal elements not found");return}console.log("üîç Looking for modal content for category:",e);const o=z(e);o?(console.log("‚úÖ Found backend modal content:",o),W(o,e)):(console.log("‚ö†Ô∏è No backend modal content found, using frontend fallback"),K(e)),s.classList.remove("hidden")}function z(e){try{const s=a.detailedAnalysis||a.detailed_analysis||{};if(!s||Object.keys(s).length===0)return console.warn("No detailed analysis data available"),null;const t=e.toLowerCase().replace(/\s+/g,"_").replace(/&/g,"and");console.log("üîç Looking for backend category:",t),console.log("üîç Available categories:",Object.keys(s));const n=s[t];return n&&n.modal_content?(console.log("‚úÖ Found modal content for",t,":",n.modal_content),n.modal_content):(console.warn(`No modal content found for category: ${t}`),null)}catch(s){return console.error("Error extracting modal content from analysis data:",s),null}}function W(e,s){const t=document.getElementById("modalTitle"),n=document.getElementById("modalIssuesList");if(!t||!n)return;if(t.textContent=e.title||`${s} Issues Found`,n.innerHTML="",e.generic_explanation){const r=document.createElement("div");r.className="bg-blue-50 border-l-4 border-blue-400 p-4 mb-6",r.innerHTML=`
            <h3 class="text-lg font-semibold text-blue-900 mb-3">Why This Matters for ATS</h3>
            <div class="text-sm text-blue-800 leading-relaxed whitespace-pre-line">${e.generic_explanation}</div>
        `,n.appendChild(r)}if(e.dynamic_examples&&e.dynamic_examples.length>0){const r=document.createElement("div");r.className="bg-red-50 border-l-4 border-red-400 p-3 mb-3",r.innerHTML=`
            <h3 class="text-md font-semibold text-red-900 mb-2">Issues Found</h3>
            <div class="space-y-2">
                ${e.dynamic_examples.map((l,m)=>`
                    <div class="bg-white border border-red-200 rounded p-2">
                        <div class="flex items-start gap-2">
                            <div class="w-1.5 h-1.5 bg-red-500 rounded-full mt-1.5 flex-shrink-0"></div>
                            <div class="flex-1">
                                <p class="text-xs font-medium text-gray-900 mb-1">${l.issue}</p>
                                <div class="bg-gray-50 border border-gray-200 rounded p-1 font-mono text-xs text-gray-600 mb-1">
                                    "${l.example}"
                                </div>
                                <p class="text-xs text-red-600">${l.suggestion}</p>
                            </div>
                        </div>
                    </div>
                `).join("")}
            </div>
        `,n.appendChild(r)}const o=document.createElement("div");o.className="bg-gradient-to-r from-green-50 to-green-100 border-2 border-green-300 rounded-lg p-3 text-center mt-3",o.innerHTML=`
        <div class="text-lg mb-2">üöÄ</div>
        <h4 class="text-md font-bold text-green-800 mb-2">Ready to Fix These Issues?</h4>
        <p class="text-xs text-green-600">‚úì Instant results ‚Ä¢ ‚úì No credit card required</p>
    `,n.appendChild(o);const i=document.getElementById("modalFixAllBtn");i&&N(i)}function K(e){const s=document.getElementById("modalTitle"),t=document.getElementById("modalIssuesList");s.textContent=`${e} Issues Found`;const n=q(e);t.innerHTML="",n.forEach((r,l)=>{const m=document.createElement("div");m.className="bg-gray-50 border border-gray-200 rounded-lg p-4",m.innerHTML=`
            <div class="flex items-start gap-3">
                <div class="w-2 h-2 bg-red-500 rounded-full mt-2 flex-shrink-0"></div>
                <div class="flex-1">
                    <p class="text-sm font-medium text-gray-900 mb-1">${r.description}</p>
                    <div class="bg-white border border-gray-200 rounded p-2 font-mono text-xs text-gray-700">
                        "${r.cvLine}"
                    </div>
                    <p class="text-xs text-gray-500 mt-1">Line ${r.lineNumber} in your resume</p>
                </div>
            </div>
        `,t.appendChild(m)});const o=document.createElement("div");o.className="bg-gradient-to-r from-green-50 to-green-100 border-2 border-green-300 rounded-lg p-3 text-center mt-3",o.innerHTML=`
        <div class="text-lg mb-2">üöÄ</div>
        <h4 class="text-md font-bold text-green-800 mb-2">Ready to Fix These Issues?</h4>
        <p class="text-xs text-green-600">‚úì Instant results ‚Ä¢ ‚úì No credit card required</p>
    `,t.appendChild(o);const i=document.getElementById("modalFixAllBtn");i&&N(i)}function q(e){const s=a.content||"";if(!s)return[{description:"Resume content not available for detailed analysis",cvLine:"Please re-upload your resume",lineNumber:0}];const t=s.split(`
`).filter(o=>o.trim().length>5);let n=[];switch(e){case"Personal Pronouns":n=X(t);break;case"Grammar":n=Y(t);break;case"Spelling":n=J(t);break;case"Action Verbs":n=Q(t);break;case"Contact Details":n=Z(t);break;case"Education Section":n=ee(t);break;case"Skills Section":n=se(t);break;case"Use Of Bullets":n=te(t);break;case"Quantifiable Achievements":n=ne(t);break;case"Summary":n=oe(t);break;case"Repetition":n=ie(t);break;case"Verbosity":n=re(t);break;case"Verb Tenses":n=ae(t);break;case"Active Voice":n=ce(t);break;case"Page Density":n=le(t);break;case"Unnecessary Sections":n=de(t);break;case"Growth Signals":n=ue(t);break;case"Drive":n=me(t);break;case"Leadership":n=pe(t);break;case"Teamwork":n=fe(t);break;case"Analytical":n=ge(t);break;case"Certifications":n=he(t);break;default:n=be(t,e);break}return n.slice(0,3)}function X(e){const s=[],t=["I "," I ","My ","Me ","Myself","Mine"];return e.forEach((n,o)=>{const i=t.find(r=>n.includes(r));i&&s.push({description:`Remove personal pronoun "${i.trim()}" for professional tone`,cvLine:n.trim(),lineNumber:o+1})}),s.length===0&&s.push({description:"Personal pronouns detected in resume content",cvLine:"No specific examples found in current analysis",lineNumber:0}),s}function Y(e){const s=[];return e.forEach((t,n)=>{t.includes(" and ")&&!t.includes(",")&&t.length>50?s.push({description:"Consider adding comma before coordinating conjunction",cvLine:t.trim(),lineNumber:n+1}):t.match(/\b(develop|create|manage)\b.*\b(developed|created|managed)\b/i)&&s.push({description:"Inconsistent verb tense in same sentence",cvLine:t.trim(),lineNumber:n+1})}),s.length===0&&s.push({description:"Grammar improvements suggested for this section",cvLine:e[0]||"No content available",lineNumber:1}),s}function J(e){const s=[],t={managment:"management",developement:"development",responsable:"responsible",sucessful:"successful",comunication:"communication"};return e.forEach((n,o)=>{Object.keys(t).forEach(i=>{n.toLowerCase().includes(i)&&s.push({description:`Misspelled word: "${i}" should be "${t[i]}"`,cvLine:n.trim(),lineNumber:o+1})})}),s.length===0&&s.push({description:"Spelling optimization suggested for better ATS compatibility",cvLine:e[0]||"No content available",lineNumber:1}),s}function Q(e){const s=[],t=["did","worked on","was responsible","helped with","involved in"];return e.forEach((n,o)=>{const i=t.find(r=>n.toLowerCase().includes(r));i&&s.push({description:`Replace weak verb phrase "${i}" with stronger action verb`,cvLine:n.trim(),lineNumber:o+1})}),s.length===0&&s.push({description:"Action verb strength can be improved",cvLine:e[0]||"No content available",lineNumber:1}),s}function Z(e){const s=[],t=e.slice(0,10),n=t.some(r=>r.includes("@")),o=t.some(r=>/\d{3}[-.\s]?\d{3}[-.\s]?\d{4}/.test(r)),i=t.some(r=>r.toLowerCase().includes("linkedin"));return n||s.push({description:"Professional email address should be prominently displayed",cvLine:t[0]||"Header section",lineNumber:1}),o||s.push({description:"Phone number should be included in contact information",cvLine:t[0]||"Header section",lineNumber:1}),i||s.push({description:"LinkedIn profile URL should be included",cvLine:t[0]||"Header section",lineNumber:1}),s}function ee(e){const s=[],t=["education","degree","university","college","bachelor","master","phd","graduated"];e.some(i=>t.some(r=>i.toLowerCase().includes(r)))||s.push({description:"Education section not clearly identified",cvLine:"Add clear education section with degree details",lineNumber:0});const o=e.filter(i=>t.some(r=>i.toLowerCase().includes(r)));return o.forEach((i,r)=>{!i.match(/\b(19|20)\d{2}\b/)&&!i.match(/\b\d{4}\b/)&&s.push({description:"Missing graduation year in education entry",cvLine:i.trim(),lineNumber:e.indexOf(i)+1})}),s.length===0&&s.push({description:"Education section format can be optimized",cvLine:o[0]||"Education section",lineNumber:1}),s}function se(e){const s=[],t=["skills","technical skills","core competencies","technologies"],n=e.find(o=>t.some(i=>o.toLowerCase().includes(i)));return n||s.push({description:"Skills section not clearly labeled",cvLine:"Add dedicated skills or technical competencies section",lineNumber:0}),e.forEach((o,i)=>{o.includes(",")&&o.split(",").length>5&&s.push({description:"Long comma-separated list - consider bullet points",cvLine:o.trim(),lineNumber:i+1})}),s.length===0&&s.push({description:"Skills presentation can be enhanced for ATS parsing",cvLine:n||e[0],lineNumber:1}),s}function te(e){const s=[];return e.forEach((t,n)=>{const o=t.trim();o.match(/^(managed|led|developed|created|implemented|achieved)/i)&&!o.startsWith("‚Ä¢")&&!o.startsWith("-")&&s.push({description:"Achievement statement should use bullet points",cvLine:o,lineNumber:n+1}),(o.startsWith("‚Ä¢")||o.startsWith("-"))&&o.length>150&&s.push({description:"Bullet point too long - keep under 150 characters",cvLine:o,lineNumber:n+1})}),s.length===0&&s.push({description:"Bullet point formatting is optimized",cvLine:"No specific improvements needed",lineNumber:0}),s}function ne(e){const s=[];return e.forEach((t,n)=>{t.match(/\b(increased|improved|reduced|achieved|grew|saved|generated)\b/i)&&!t.match(/\d+/)&&!t.includes("%")&&s.push({description:"Add specific numbers or percentages to quantify achievement",cvLine:t.trim(),lineNumber:n+1}),t.match(/\b(many|several|various|multiple|significant)\b/i)&&s.push({description:"Replace vague terms with specific numbers",cvLine:t.trim(),lineNumber:n+1})}),s.length===0&&s.push({description:"Add more quantified achievements with specific metrics",cvLine:"Include numbers, percentages, and measurable results",lineNumber:0}),s}function oe(e){const s=[],t=["summary","profile","objective","about"],n=e.find(i=>t.some(r=>i.toLowerCase().includes(r)));n||s.push({description:"Professional summary section missing",cvLine:"Add professional summary at the top of resume",lineNumber:1});const o=e.slice(0,5);return o.forEach((i,r)=>{i.length>200&&s.push({description:"Summary statement too long - keep under 200 characters",cvLine:i.trim(),lineNumber:r+1})}),s.length===0&&s.push({description:"Summary section can be optimized for impact",cvLine:n||o[0],lineNumber:1}),s}function ie(e){const s=[],t={};return e.forEach(o=>{o.toLowerCase().split(/\s+/).filter(r=>r.length>4).forEach(r=>{t[r]=(t[r]||0)+1})}),Object.entries(t).filter(([o,i])=>i>5).forEach(([o,i])=>{const r=e.find(l=>l.toLowerCase().includes(o));r&&s.push({description:`Word "${o}" used ${i} times - consider synonyms`,cvLine:r.trim(),lineNumber:e.indexOf(r)+1})}),s.length===0&&s.push({description:"Word variety is good - no excessive repetition detected",cvLine:"Content shows good vocabulary diversity",lineNumber:0}),s}function re(e){const s=[];return e.forEach((t,n)=>{t.length>120&&!t.includes("‚Ä¢")&&!t.includes("-")&&s.push({description:"Line too long - break into shorter, clearer statements",cvLine:t.trim(),lineNumber:n+1}),["in order to","due to the fact that","with regard to","for the purpose of"].forEach(i=>{t.toLowerCase().includes(i)&&s.push({description:`Replace wordy phrase "${i}" with simpler alternative`,cvLine:t.trim(),lineNumber:n+1})})}),s.length===0&&s.push({description:"Content is appropriately concise",cvLine:"Good balance of detail and brevity",lineNumber:0}),s}function ae(e){const s=[];return e.forEach((t,n)=>{t.match(/\b(manage|develop|create)\b.*\b(managed|developed|created)\b/i)&&s.push({description:"Mixed verb tenses in same statement - use consistent tense",cvLine:t.trim(),lineNumber:n+1}),t.match(/\b(currently|presently)\b/i)&&t.match(/\b(managed|developed|created)\b/i)&&s.push({description:"Use present tense for current role, past tense for previous roles",cvLine:t.trim(),lineNumber:n+1})}),s.length===0&&s.push({description:"Verb tense consistency can be improved",cvLine:"Review tense usage throughout resume",lineNumber:0}),s}function ce(e){const s=[],t=["was responsible","were responsible","was tasked","were given","was assigned"];return e.forEach((n,o)=>{t.forEach(i=>{n.toLowerCase().includes(i)&&s.push({description:`Convert passive voice "${i}" to active voice`,cvLine:n.trim(),lineNumber:o+1})})}),s.length===0&&s.push({description:"Active voice usage is strong throughout resume",cvLine:"Good use of action-oriented language",lineNumber:0}),s}function le(e){const s=[],t=e.length,n=e.reduce((o,i)=>o+i.length,0)/t;return t<20?s.push({description:"Resume appears too sparse - add more relevant content",cvLine:`Total content: ${t} lines`,lineNumber:0}):t>60&&s.push({description:"Resume appears too dense - consider condensing content",cvLine:`Total content: ${t} lines`,lineNumber:0}),n>100&&s.push({description:"Average line length too long - use more white space",cvLine:`Average line length: ${Math.round(n)} characters`,lineNumber:0}),s.length===0&&s.push({description:"Page density is well-balanced",cvLine:"Good use of white space and content distribution",lineNumber:0}),s}function de(e){const s=[],t=["references","hobbies","interests","personal information"];return e.forEach((n,o)=>{t.forEach(i=>{n.toLowerCase().includes(i)&&s.push({description:`Consider removing "${i}" section - not ATS-friendly`,cvLine:n.trim(),lineNumber:o+1})})}),s.length===0&&s.push({description:"All sections appear relevant and necessary",cvLine:"Good focus on professional content",lineNumber:0}),s}function ue(e){const s=[],t=["promoted","advanced","progressed","increased responsibility","leadership role"];e.some(i=>t.some(r=>i.toLowerCase().includes(r)))||s.push({description:"Add evidence of career progression and growth",cvLine:"Include promotions, increased responsibilities, or skill development",lineNumber:0});const o=[];return e.forEach(i=>{const r=i.match(/\b(19|20)\d{2}\b/g);r&&o.push(...r)}),o.length<2&&s.push({description:"Include dates to show career timeline and progression",cvLine:"Add employment dates to demonstrate growth over time",lineNumber:0}),s}function me(e){const s=[],t=["initiated","pioneered","launched","established","founded","created","innovated"];return e.some(o=>t.some(i=>o.toLowerCase().includes(i)))||s.push({description:"Add examples of initiative and self-motivation",cvLine:"Include projects you initiated or innovative solutions you created",lineNumber:0}),s}function pe(e){const s=[],t=["led","managed","supervised","directed","coordinated","team","leadership"];return e.some(o=>t.some(i=>o.toLowerCase().includes(i)))||s.push({description:"Add leadership experiences and team management examples",cvLine:"Include team leadership, project management, or mentoring experience",lineNumber:0}),s}function fe(e){const s=[],t=["collaborated","partnered","worked with","cross-functional","team member"];return e.some(o=>t.some(i=>o.toLowerCase().includes(i)))||s.push({description:"Add examples of collaboration and teamwork",cvLine:"Include cross-functional projects or collaborative achievements",lineNumber:0}),s}function ge(e){const s=[],t=["analyzed","evaluated","assessed","researched","investigated","data","metrics"];return e.some(o=>t.some(i=>o.toLowerCase().includes(i)))||s.push({description:"Add examples of analytical and problem-solving skills",cvLine:"Include data analysis, research, or problem-solving achievements",lineNumber:0}),s}function he(e){const s=[],t=["certified","certification","license","credential","certificate"];return e.some(o=>t.some(i=>o.toLowerCase().includes(i)))||s.push({description:"Add relevant professional certifications and credentials",cvLine:"Include industry certifications, licenses, or training certificates",lineNumber:0}),s}function be(e,s){return[{description:`Optimization needed for ${s} section`,cvLine:e[0]||"Content analysis in progress",lineNumber:1}]}function v(){const e=document.getElementById("issueModal");e&&e.classList.add("hidden")}function ye(){console.log("üöÄ Modal Fix All clicked"),A("modal")}function ve(e){console.error("‚ùå Error:",e),h&&(h.textContent="‚Äî"),b&&(b.textContent=e),c&&(c.innerHTML=`
            <div class="bg-red-50 border border-red-200 rounded-xl p-6 text-center">
                <div class="w-16 h-16 mx-auto mb-4 bg-red-100 rounded-full flex items-center justify-center">
                    <span class="text-2xl text-red-600">‚ùå</span>
                </div>
                <h3 class="text-lg font-bold text-red-900 mb-2">No Analysis Data Found</h3>
                <p class="text-red-700 mb-4">${e}</p>
                <button onclick="window.location.href='./index.html'" class="bg-red-600 text-white px-6 py-2 rounded-xl hover:bg-red-700 transition-colors">
                    Upload Resume
                </button>
            </div>
        `,c.classList.remove("hidden")),p&&(p.innerHTML='<div class="text-sm text-gray-500 p-4">No data available</div>'),f&&(f.innerHTML='<div class="text-sm text-gray-500 p-4">No data available</div>')}window.handleFixIssue=j;document.readyState==="loading"?document.addEventListener("DOMContentLoaded",k):k();
